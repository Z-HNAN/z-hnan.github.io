<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.7.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Keep Output!">
<meta property="og:type" content="website">
<meta property="og:title" content="Z-HNAN">
<meta property="og:url" content="http://yoursite.com/page/12/index.html">
<meta property="og:site_name" content="Z-HNAN">
<meta property="og:description" content="Keep Output!">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Z-HNAN">
<meta name="twitter:description" content="Keep Output!">

<link rel="canonical" href="http://yoursite.com/page/12/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false
  };
</script>

  <title>Z-HNAN</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Z-HNAN</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-进屋">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>进屋</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-文章">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>文章</a>

  </li>
        <li class="menu-item menu-item-给动物一个“家”">

    <a href="http://baijiahao.baidu.com/s?id=1600785971176840846&wfr=spider&for=pc" rel="noopener" target="_blank"><i class="fa fa-fw fa-flash"></i>给动物一个“家”</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="search-pop-overlay">
  <div class="popup search-popup">
      <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

  </div>
</div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/20/移动端适配方案总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="浩南">
      <meta itemprop="description" content="Keep Output!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z-HNAN">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/02/20/移动端适配方案总结/" class="post-title-link" itemprop="url">移动端适配方案总结</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-02-20 11:56:50" itemprop="dateCreated datePublished" datetime="2019-02-20T11:56:50+08:00">2019-02-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-03 01:07:06" itemprop="dateModified" datetime="2020-08-03T01:07:06+08:00">2020-08-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>对于移动端设备，通常就是解决不同设备的显示问题，总结常见布局的优缺点</p>
<ul>
<li>流式布局</li>
<li>响应式布局</li>
<li>rem适配</li>
</ul>
<p>在移动端的设备，需要进行视口的设置(类似于 浏览器-包含一个视口-包含我们看到的页面dom)，要最先解读到css属性所以一般放在头部<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, user-scalable=0"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	....</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ol>
<li>其中width,视口的宽度自动跟随设备调整，</li>
<li>inital-scale是初始化缩放级别，用户看到的和在pc端的是1:1的关系，（不会因为整体缩小，而导致字体过小无法看到）</li>
<li>user-scalable是用户是否可以自动缩放 1 yes  或者 0 no</li>
</ol>
<h4 id="流式布局"><a href="#流式布局" class="headerlink" title="流式布局"></a>流式布局</h4><hr>
<p>流式布局的原理就是利用<code>width:100%</code>已达到解决响应式的问题，在这种设计基础上，一定要注意</p>
<ul>
<li>使用边框盒子（防止溢出）<code>box-sizing: border-box</code></li>
<li>宽度尽量使用<code>width: 100%</code></li>
</ul>
<p>比较简单，使用浏览器自适应宽度，达到自适应的效果，要注意由于使用border-box所以在设置的时候，要尽量设置爱元素的padding,防止元素溢出</p>
<ul>
<li>双飞翼布局</li>
<li>两栏布局</li>
</ul>
<p>有一款插件，是为了解决局部元素的滑动，可以使用iscroll.js,当其元素有超出的长度的时候，可以在局部进行滑动，<a href="https://github.com/cubiq/iscroll" target="_blank" rel="noopener">iscroll,局部刷新</a></p>
<h4 id="响应式布局"><a href="#响应式布局" class="headerlink" title="响应式布局"></a>响应式布局</h4><hr>
<p>响应式布局主要通过<strong>媒体查询</strong>来判断当前容器的宽度之类，在执行相应的css代码</p>
<ul>
<li>css媒体查询 <code>@media screen and (max-width: 768px)</code> <em>最大宽度为768px时执行的代码</em></li>
</ul>
<p>css代码<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.contain</span>&#123;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">1000px</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">1000px</span>;</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">	<span class="attribute">background</span>: pink;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">768px</span>) and (min-width: <span class="number">320px</span>)&#123;</span><br><span class="line">	<span class="selector-class">.contain</span>&#123;</span><br><span class="line">		<span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">		<span class="attribute">background</span>: blue;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">992px</span>) and (min-width: <span class="number">768px</span>)&#123;</span><br><span class="line">	<span class="selector-class">.contain</span>&#123;</span><br><span class="line">		<span class="attribute">width</span>: <span class="number">750px</span>;</span><br><span class="line">		<span class="attribute">background</span>: green;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">1200px</span>) and (min-width: <span class="number">992px</span>)&#123;</span><br><span class="line">	<span class="selector-class">.contain</span>&#123;</span><br><span class="line">		<span class="attribute">width</span>: <span class="number">970px</span>;</span><br><span class="line">		<span class="attribute">background</span>: red;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">media</span> screen and (min-width: <span class="number">1200px</span>)&#123;</span><br><span class="line">	<span class="selector-class">.contain</span>&#123;</span><br><span class="line">		<span class="attribute">width</span>: <span class="number">1200px</span>;</span><br><span class="line">		<span class="attribute">background</span>: yellow;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>html代码<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">		媒体查询</span></span><br><span class="line"><span class="comment">		使用css关键字 @media screen and (&lt;这里接条件&gt;)</span></span><br><span class="line"><span class="comment">		通过查询不同的屏幕尺寸 做不同的相应（css 优先级）</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">		需求</span></span><br><span class="line"><span class="comment">		超小屏幕 768px		宽度100%		背景色   蓝色</span></span><br><span class="line"><span class="comment">		小屏设备768px-992px	宽度750px	背景色	绿色</span></span><br><span class="line"><span class="comment">		中屏设备992px-1200px	宽度970px	背景色	红色</span></span><br><span class="line"><span class="comment">		大屏设备	1200px		宽度1170px	背景色	黄色</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">		宽度要小于最小界限 保证显示不出现滚动条</span></span><br><span class="line"><span class="comment">	--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"contain"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>最终的效果为</p>
<ul>
<li>大屏设备    1200px        宽度1170px    背景色    黄色<br><img src="/img/2019/02/13/1.png" alt="大屏设备"></li>
<li>中屏设备992px-1200px    宽度970px    背景色    红色<br><img src="/img/2019/02/13/2.png" alt="中屏设备"></li>
<li>小屏设备768px-992px    宽度750px    背景色    绿色<br><img src="/img/2019/02/13/3.png" alt="小屏设备"></li>
<li>超小屏幕 768px        宽度100%        背景色   蓝色<br><img src="/img/2019/02/13/4.png" alt="超小屏幕"></li>
</ul>
<p>其中著名的框架有<strong><a href="https://v3.bootcss.com" target="_blank" rel="noopener">bootstrap</a></strong></p>
<h4 id="rem适配"><a href="#rem适配" class="headerlink" title="rem适配"></a>rem适配</h4><hr>
<p>rem适配主要通过:html中的style中font-size从而判断出整体的页面布局样式大小，从而达到自适应。<br><strong>也就是在html头部统一定义了基准大小，所有尺寸按照基准大小设置，如果更改了设备，只需要动态更改基准大小，从而就能达到整个页面的自适应效果</strong></p>
<blockquote>
<p>em是以父元素为基准，rem是以根元素root(<em>也就是<code>&lt;html&gt;&lt;/html&gt;</code></em>),</p>
</blockquote>
<p>这里有一个换算， 当前基准尺寸 = （当前设备宽度/设计稿设备宽度）* 设计稿基准尺寸</p>
<ul>
<li>使用不同屏幕下的基准值 动态的去设置html中的font-size这个基准值</li>
</ul>
<p><em>假设当前设计稿 width:750px  font-size:100px</em><br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">// 动态设配基准值的css</span><br><span class="line">@<span class="keyword">meadia</span> (min-width: <span class="number">750px</span>)&#123;</span><br><span class="line">	<span class="selector-tag">html</span>&#123;</span><br><span class="line">		font-size:100px;		//	(750/750)*100</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">meadia</span> (min-width: <span class="number">640px</span>)&#123;</span><br><span class="line">	<span class="selector-tag">html</span>&#123;</span><br><span class="line">		font-size:85.33333px;	//	(640/750)*100</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">meadia</span> (min-width: <span class="number">414px</span>)&#123;</span><br><span class="line">	<span class="selector-tag">html</span>&#123;</span><br><span class="line">		font-size:55.2px;		//	(414/750)*100</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">meadia</span> (min-width: <span class="number">320px</span>)&#123;</span><br><span class="line">	<span class="selector-tag">html</span>&#123;</span><br><span class="line">		font-size:42.7px;		//	(320/750)*100</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 样式的css代码</span><br><span class="line"><span class="selector-tag">span</span>&#123;</span><br><span class="line">	font-size: 0.2rem;		// 设计稿中是20px 基准值是100px 相对为 20/100 rem, </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">	width: 100%;			// 设计稿中是100%的宽度</span><br><span class="line">	height: 0.5rem;			// 设计稿中是50px 基准值是100px 相对为 50/100 rem		</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 如果是到了其他设备 比如414px的设备  则在原有代码的情况下</span></span><br><span class="line"><span class="comment">* 之前的设计稿 0.2rem = 0.2 * 100 = 20px</span></span><br><span class="line"><span class="comment">* 就会变为0.2rem = 0.2 * 55.2 = 11.4px</span></span><br><span class="line"><span class="comment">* 也就达到了适配的目的,等比例缩放的效果。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>在这里使用less编写，可以达到自动计算所有的适配屏的css代码的编写</li>
</ul>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@charset</span> <span class="string">"UTF-8"</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*variable.less*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 适配设备的集合</span></span><br><span class="line"><span class="variable">@adapterDeviceList:</span><span class="number">750px</span>,<span class="number">720px</span>,<span class="number">640px</span>,<span class="number">540px</span>,<span class="number">480px</span>,<span class="number">424px</span>,<span class="number">414px</span>,<span class="number">400px</span>,<span class="number">384px</span>,<span class="number">375px</span>,<span class="number">360px</span>,<span class="number">320px</span>;</span><br><span class="line"><span class="comment">// 设计稿尺寸</span></span><br><span class="line"><span class="variable">@psdWidth:</span><span class="number">750px</span>;</span><br><span class="line"><span class="comment">// 预设基准值</span></span><br><span class="line"><span class="variable">@baseFontSize:</span><span class="number">100px</span>;</span><br><span class="line"><span class="comment">// 主流设备的个数</span></span><br><span class="line"><span class="variable">@len:</span>length(<span class="variable">@adapterDeviceList</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*adapter.less*/</span></span><br><span class="line"><span class="comment">// 1.适配不同宽度的基准，利用递归函数实现循环 </span></span><br><span class="line"><span class="comment">// 2.由于这里是min-width，考虑到css从上到下读取，应该使用min-width:320,414,640,750这种顺序</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.adapterMixin</span>(<span class="variable">@index</span>) <span class="keyword">when</span>(<span class="variable">@index</span> &gt; <span class="number">0</span>)&#123;</span><br><span class="line">    <span class="keyword">@media</span> (<span class="attribute">min-width</span>: extract(<span class="variable">@adapterDeviceList</span>, <span class="variable">@index</span>))&#123;</span><br><span class="line">        <span class="selector-tag">html</span>&#123;</span><br><span class="line">            <span class="attribute">font-size</span>: extract(<span class="variable">@adapterDeviceList</span>, <span class="variable">@index</span>) / <span class="variable">@psdWidth</span> * <span class="variable">@baseFontSize</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.adapterMixin</span>(<span class="variable">@index</span> - <span class="number">1</span>);</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数的使用</span></span><br><span class="line"><span class="selector-class">.adapterMixin</span>(<span class="variable">@len</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*样式的less代码，由于less有计算功能，就比较方便*/</span></span><br><span class="line"><span class="comment">//@baseFontSize; 为之前定义过的基准font-size</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">span</span>&#123;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">20rem</span>/<span class="variable">@baseFontSize</span>;	<span class="comment">//设计稿是20px  直接就是20 rem / 100 = 0.2rem</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">100%</span>;					<span class="comment">// 设计稿中是100%的宽度</span></span><br><span class="line">	<span class="attribute">height</span>: <span class="number">50rem</span>/<span class="variable">@baseFontSize</span>;	<span class="comment">// 	设计稿是50px  直接就是50 rem / 100 = 0.5rem</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用了less后，可以动态的生成适配代码，并且以后的维护也比较方便,也不用去计算那些适配值，只需要带入即可</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><hr>
<p>无论是<strong>流式布局</strong>，<strong>响应式布局</strong>，<strong>rem布局</strong>，其实之间都用到了很多相似的地方，很多地方，都有width:100%等。并且在rem布局中很多地方也用到了width:100%，所以并不只是单一的技术实现，是多种技术共同作用，达到移动端适配的目的。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/05/JS模块化（四）ES6的应用（目前使用较广，较火）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="浩南">
      <meta itemprop="description" content="Keep Output!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z-HNAN">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/02/05/JS模块化（四）ES6的应用（目前使用较广，较火）/" class="post-title-link" itemprop="url">JS模块化（四）ES6的应用（目前使用较广，较火）</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-02-05 13:25:03" itemprop="dateCreated datePublished" datetime="2019-02-05T13:25:03+08:00">2019-02-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-03 01:07:06" itemprop="dateModified" datetime="2020-08-03T01:07:06+08:00">2020-08-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>ES6模块化需要编译打包处理，由于目前部分浏览器不支持es6，需要先转换es5</p>
</blockquote>
<h4 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h4><ul>
<li>暴露出去 <code>export</code></li>
<li>应用进来 <code>import</code></li>
<li>使用方式<ol>
<li>先用babel转化es5</li>
<li>使用browserify编译转换</li>
</ol>
</li>
<li>需要提前安装一些库<br><code>npm install babel-cli browserify -g</code><br><code>npm install babel-preset-es2015 --save-dev</code></li>
</ul>
<h4 id="自定义依赖"><a href="#自定义依赖" class="headerlink" title="自定义依赖"></a>自定义依赖</h4><ul>
<li><p>文件结构 （列举了主要部分）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">│  .babelrc</span><br><span class="line">│  package-lock.json</span><br><span class="line">│  package.json</span><br><span class="line">│</span><br><span class="line">├─js</span><br><span class="line">│  ├─dist</span><br><span class="line">│  └─src</span><br><span class="line">│          main.js</span><br><span class="line">│          modules1.js</span><br><span class="line">│          modules2.js</span><br><span class="line">│          modules3.js</span><br></pre></td></tr></table></figure>
</li>
<li><p>.babelrc (babel run controller)</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">"presets"</span>:[<span class="string">"es2015"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>各个模块文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">modules1.js</span><br><span class="line"></span><br><span class="line"><span class="comment">// 暴露模块  分别暴漏</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"foo() module1"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"bar() module1"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">modules2.js</span><br><span class="line"></span><br><span class="line"><span class="comment">// 暴露模块 统一暴露</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun1</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"fun1() module2"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun2</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"fun2() module2"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;fun1, fun2&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">modules3.js</span><br><span class="line"></span><br><span class="line"><span class="comment">// 默认暴露 export default </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">	msg:<span class="string">"默认暴露"</span>,</span><br><span class="line">	foo()&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"foo() modules3"</span>,<span class="keyword">this</span>.msg);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>主文件 main.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入其他模块</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 语法 import xxx from '路径'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 统一暴露方式  统一暴露方式 是要什么取什么</span></span><br><span class="line"><span class="keyword">import</span> &#123;foo, bar, arr&#125; <span class="keyword">from</span> <span class="string">'./modules1'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;fun1, fun2&#125; <span class="keyword">from</span> <span class="string">'./modules1'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 默认暴露</span></span><br><span class="line"><span class="keyword">import</span> modules3 <span class="keyword">from</span> <span class="string">'./modules3'</span>;</span><br><span class="line"></span><br><span class="line">foo();				<span class="comment">// foo() module1</span></span><br><span class="line">bar();				<span class="comment">// bar() module1</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);	<span class="comment">// [ 1, 2, 3, 4, 5 ]</span></span><br><span class="line">fun1();				<span class="comment">// fun1() module2</span></span><br><span class="line">fun2();				<span class="comment">// fun2() module2 </span></span><br><span class="line"></span><br><span class="line">modules3.foo();		<span class="comment">// foo() modules3 默认暴露</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>编译打包 </p>
<ol>
<li>babel命令 es6-es5 <code>babel js/src -d js/lib</code></li>
<li>使用browserift命令 <code>browserify js/src/main.js -o js/dist/bundle.js</code></li>
</ol>
</li>
<li><p>将最终的bundle放入index.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"04-ES6/js/dist/bundle.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>这种方式需要<strong>首先使用babel将es6-es5,在使用browserify进行编译打包</strong>，每一次改变都需要这样，相对较为繁琐（所以就有了后面的自动打包工具） </p>
<h4 id="使用第三方依赖"><a href="#使用第三方依赖" class="headerlink" title="使用第三方依赖"></a>使用第三方依赖</h4><ul>
<li><p>在npm安装依赖 （jquery为例 <code>npm install jquery@1.12.4</code>）</p>
</li>
<li><p>在主文件中引入即可</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">"jquery"</span>;</span><br><span class="line"></span><br><span class="line">$(<span class="string">"body"</span>).css(<span class="string">"background"</span>,<span class="string">"yellowgreen"</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<code>babel</code>与<code>browserify</code>分别进行编译 打包</p>
</li>
<li><p>最后html代码还是 放入browserify最终生成的代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"04-ES6/js/dist/bundle.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>使用ES6的这种方式 相对来时 是比较简单的，而且命令也相对好记  <code>export</code>与<code>import</code>这种方式也是使用最为广泛，目前比较好的一种方式，唯一不好的就是需要每一次都编译打包，后来诞生出一些自动化工具。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/05/JS模块化（三）AMD(Asynchronous Module Definition)的应用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="浩南">
      <meta itemprop="description" content="Keep Output!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z-HNAN">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/02/05/JS模块化（三）AMD(Asynchronous Module Definition)的应用/" class="post-title-link" itemprop="url">JS模块化（三）AMD(Asynchronous Module Definition)的应用</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-02-05 13:23:53" itemprop="dateCreated datePublished" datetime="2019-02-05T13:23:53+08:00">2019-02-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-03 01:07:06" itemprop="dateModified" datetime="2020-08-03T01:07:06+08:00">2020-08-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h4><ul>
<li><p>暴露出去</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义没有依赖的模块</span></span><br><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> 模块	</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义有依赖的模块</span></span><br><span class="line">define([<span class="string">'module1'</span>,<span class="string">'module2'</span>],<span class="function"><span class="keyword">function</span>(<span class="params">m1,m2</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> 模块</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>应用进来</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">requirejs([<span class="string">'module1'</span>,<span class="string">'module2'</span>],<span class="function"><span class="keyword">function</span>(<span class="params">m1,m2</span>)</span>&#123;</span><br><span class="line">	使用m1,m2即可</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="自定义依赖的引用"><a href="#自定义依赖的引用" class="headerlink" title="自定义依赖的引用"></a>自定义依赖的引用</h4><ul>
<li><p>文件的结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">└─js</span><br><span class="line">    │  main.js</span><br><span class="line">    │</span><br><span class="line">    ├─libs</span><br><span class="line">    │      require.js</span><br><span class="line">    │</span><br><span class="line">    └─modules</span><br><span class="line">            alerter.js</span><br><span class="line">            dataService.js</span><br><span class="line">│</span><br><span class="line">│  index.html</span><br></pre></td></tr></table></figure>
</li>
<li><p>modules 的文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">dataService.js</span><br><span class="line"></span><br><span class="line">define(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">let</span> name = <span class="string">"dataService.js"</span>;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 向外暴露模块</span></span><br><span class="line">	<span class="keyword">return</span> &#123;getName&#125;;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">alerter.js</span><br><span class="line"></span><br><span class="line">define([<span class="string">'dataService'</span>],<span class="function"><span class="keyword">function</span> (<span class="params">dataService</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">let</span> msg = <span class="string">"alerter.js"</span>;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">showMsg</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(msg, dataService.getName());</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 向外暴露模块</span></span><br><span class="line">	<span class="keyword">return</span> &#123;showMsg&#125;;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>主文件main.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// 配置requirejs</span></span><br><span class="line">	requirejs.config(&#123;</span><br><span class="line">		baseUrl: <span class="string">"js/"</span>,</span><br><span class="line">		paths: &#123;</span><br><span class="line">			dataService: <span class="string">'./modules/dataService'</span>,</span><br><span class="line">			alerter: <span class="string">'./modules/alerter'</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 引入依赖</span></span><br><span class="line">	requirejs([<span class="string">'alerter'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">alerter</span>) </span>&#123;</span><br><span class="line">		alerter.showMsg();		<span class="comment">// alerter.js dataService.js</span></span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>
</li>
<li><p>html文件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">data-main</span>=<span class="string">"js/main.js"</span> <span class="attr">src</span>=<span class="string">"js/libs/require.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>这种方式需要做requirejs的配置，之后再引入js文件的时候，<strong>注意src是requre.js 而data-main才是我们的main.js</strong>,这种方式是针对客户端较早出现的一种方式</p>
<h4 id="引入第三方的依赖-（引入jQuery为例）"><a href="#引入第三方的依赖-（引入jQuery为例）" class="headerlink" title="引入第三方的依赖 （引入jQuery为例）"></a>引入第三方的依赖 （引入jQuery为例）</h4><ul>
<li><p>放入相关的js，文件结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">│  index.html</span><br><span class="line">│</span><br><span class="line">└─js</span><br><span class="line">    │  main.js</span><br><span class="line">    │</span><br><span class="line">    ├─libs</span><br><span class="line">    │      jquery-1.11.0.js</span><br><span class="line">    │      require.js</span><br><span class="line">    │</span><br><span class="line">    └─modules</span><br><span class="line">            alerter.js</span><br><span class="line">            dataService.js</span><br></pre></td></tr></table></figure>
</li>
<li><p>其余和之前相同，就是引入第三方库即可，main.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// 配置requirejs</span></span><br><span class="line">	requirejs.config(&#123;</span><br><span class="line">		baseUrl: <span class="string">"js/"</span>,</span><br><span class="line">		paths: &#123;</span><br><span class="line">			dataService: <span class="string">'./modules/dataService'</span>,</span><br><span class="line">			alerter: <span class="string">'./modules/alerter'</span>,</span><br><span class="line">			jquery: <span class="string">'./libs/jquery-1.11.0'</span>	<span class="comment">// jQuery源码中 遵循了AMD规范 并且暴露模块为jquery</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 引入依赖</span></span><br><span class="line">	requirejs([<span class="string">'alerter'</span>,<span class="string">"jquery"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">alerter,$</span>) </span>&#123;</span><br><span class="line">		alerter.showMsg();</span><br><span class="line">		$(<span class="string">"body"</span>).css(<span class="string">"background"</span>,<span class="string">"deeppink"</span>);</span><br><span class="line">		</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>
</li>
<li><p>html文件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">data-main</span>=<span class="string">"js/main.js"</span> <span class="attr">src</span>=<span class="string">"js/libs/require.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>都是在内部引入的，所以发请求只需要一个请求就可以搞定，只需要配置好模块路径即可</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/05/JS模块化（二）CommonJS的应用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="浩南">
      <meta itemprop="description" content="Keep Output!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z-HNAN">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/02/05/JS模块化（二）CommonJS的应用/" class="post-title-link" itemprop="url">JS模块化（二）CommonJS的应用</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-02-05 13:22:49" itemprop="dateCreated datePublished" datetime="2019-02-05T13:22:49+08:00">2019-02-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-03 01:07:06" itemprop="dateModified" datetime="2020-08-03T01:07:06+08:00">2020-08-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h4><ul>
<li>暴露出去 <code>module.exports = value</code>或者是<code>exports.xxx = value</code></li>
<li>引入进来 <code>let xxx = require(&quot;./modules/xxx&quot;);</code></li>
</ul>
<p>补充：因为exports是 module.exports的一个引用，也就相当于在代码中，还有</p>
<p><code>var exports = module.exports</code>,所以他们俩是等价的，但是要注意一点，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 可理解为 var exports = module.exports 系统自动做的</span></span><br><span class="line"><span class="comment">// 导出的时候 是 return module.exports</span></span><br><span class="line"></span><br><span class="line">exports.foo = bar		<span class="comment">// module.exports.foo = bar</span></span><br><span class="line">exports = &#123;&#125; 			<span class="comment">// 这里改变了exports的指向，</span></span><br><span class="line">				<span class="comment">// 指向了一个新的对象后，而不是module.export</span></span><br><span class="line">exports.age = <span class="number">16</span>		<span class="comment">// 所以在导出的时候，不会有这个age</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 也就是相当于exports如果改变了指向，</span></span><br><span class="line"><span class="comment">// 那么以后添加的方法则不会暴露出去，（改变指向后，无法修改到原对象了）</span></span><br></pre></td></tr></table></figure>
<h4 id="CommonJS-node-服务端"><a href="#CommonJS-node-服务端" class="headerlink" title="CommonJS-node(服务端)"></a>CommonJS-node(服务端)</h4><ul>
<li><p>首先部署出文件的结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">├─modules</span><br><span class="line">│      modules1.js</span><br><span class="line">│      modules2.js</span><br><span class="line">│      modules3.js</span><br><span class="line">│</span><br><span class="line">│  app.js</span><br><span class="line">│  package-lock.json</span><br><span class="line">│  package.json</span><br></pre></td></tr></table></figure>
</li>
<li><p>modules的文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">module1.js</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用module.exports = value</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	msg:<span class="string">"module1"</span>,</span><br><span class="line">	foo()&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"foo() "</span> + <span class="keyword">this</span>.msg);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">module2.js</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用module.exports = value</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>  (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"foo() module2"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">module3.js</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用exports.xxx = value</span></span><br><span class="line">exports.foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"foo() module3"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">exports.bar = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"bar() module3"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 暴露一个数组出去</span></span><br><span class="line">exports.arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>app.js主配置文件 使用node app.js运行</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">app.js</span><br><span class="line"></span><br><span class="line"><span class="comment">// 提前引入第三方库</span></span><br><span class="line"><span class="comment">// 引入uniq</span></span><br><span class="line"><span class="keyword">let</span> uniq = <span class="built_in">require</span>(<span class="string">"uniq"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将其他模块汇总到主模块</span></span><br><span class="line"><span class="keyword">let</span> module1 = <span class="built_in">require</span>(<span class="string">"./modules/modules1"</span>);</span><br><span class="line"><span class="keyword">let</span> module2 = <span class="built_in">require</span>(<span class="string">"./modules/modules2"</span>);</span><br><span class="line"><span class="keyword">let</span> module3 = <span class="built_in">require</span>(<span class="string">"./modules/modules3"</span>);</span><br><span class="line"></span><br><span class="line">module1.foo();				<span class="comment">// foo() module1</span></span><br><span class="line">module2();					<span class="comment">// foo() module2</span></span><br><span class="line"></span><br><span class="line">module3.foo();				<span class="comment">// foo() module3</span></span><br><span class="line">module3.bar();				<span class="comment">// bar() module3</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(module3.arr);	<span class="comment">// [ 1, 2, 3, 4, 5, 2, 3, 1, 2, 4 ]</span></span><br><span class="line"><span class="keyword">let</span> result = uniq(module3.arr);</span><br><span class="line"><span class="built_in">console</span>.log(module3.arr);	<span class="comment">// [ 1, 2, 3, 4, 5 ]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>在服务端运行的时候 语法相对简单，要注意第三方库要放在最开始的地方，因入库写名字就可以</p>
<h4 id="CommonJS-Browserify-客户端"><a href="#CommonJS-Browserify-客户端" class="headerlink" title="CommonJS-Browserify(客户端)"></a>CommonJS-Browserify(客户端)</h4><ul>
<li><p>首先部署出文件的结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">├─js</span><br><span class="line">│  ├─dist</span><br><span class="line">│  └─src</span><br><span class="line">│          app.js</span><br><span class="line">│          modules1.js</span><br><span class="line">│          modules2.js</span><br><span class="line">│          modules3.js</span><br><span class="line">│</span><br><span class="line">│  package-lock.json</span><br><span class="line">│  package.json</span><br></pre></td></tr></table></figure>
</li>
<li><p>modules的文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">module1.js</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用module.exports = value</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	msg:<span class="string">"module1"</span>,</span><br><span class="line">	foo()&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"foo() "</span> + <span class="keyword">this</span>.msg);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">module2.js</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用module.exports = value</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>  (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"foo() module2"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">module3.js</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用exports.xxx = value</span></span><br><span class="line">exports.foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"foo() module3"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">exports.bar = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"bar() module3"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 暴露一个数组出去</span></span><br><span class="line">exports.arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>app.js文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 提前引入第三方库</span></span><br><span class="line"><span class="comment">// 引入uniq</span></span><br><span class="line"><span class="keyword">let</span> uniq = <span class="built_in">require</span>(<span class="string">"uniq"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将其他模块汇总到主模块</span></span><br><span class="line"><span class="keyword">let</span> module1 = <span class="built_in">require</span>(<span class="string">"./modules/modules1"</span>);</span><br><span class="line"><span class="keyword">let</span> module2 = <span class="built_in">require</span>(<span class="string">"./modules/modules2"</span>);</span><br><span class="line"><span class="keyword">let</span> module3 = <span class="built_in">require</span>(<span class="string">"./modules/modules3"</span>);</span><br><span class="line"></span><br><span class="line">module1.foo();</span><br><span class="line">module2();</span><br><span class="line"></span><br><span class="line">module3.foo();</span><br><span class="line">module3.bar();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(module3.arr);</span><br><span class="line"><span class="keyword">let</span> result = uniq(module3.arr);</span><br><span class="line"><span class="built_in">console</span>.log(module3.arr);</span><br></pre></td></tr></table></figure>
</li>
<li><p>打包处理js<br><code>browserify js/src/app.js -o js/dist/bundle.js</code></p>
</li>
<li><p>在 页面引入 （运行结果与之前相同）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/dist/bundle.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>在客户端运行的时候，要放到<strong>dist</strong>生成环境的文件夹，要进行打包处理才能变成浏览器识别的文件 </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/05/JS模块化（一）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="浩南">
      <meta itemprop="description" content="Keep Output!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z-HNAN">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/02/05/JS模块化（一）/" class="post-title-link" itemprop="url">JS模块化（一）</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-02-05 13:21:39" itemprop="dateCreated datePublished" datetime="2019-02-05T13:21:39+08:00">2019-02-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-03 01:07:06" itemprop="dateModified" datetime="2020-08-03T01:07:06+08:00">2020-08-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="js发展历史"><a href="#js发展历史" class="headerlink" title="js发展历史"></a>js发展历史</h4><ul>
<li>全局function的方式<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.js</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"foo()  "</span>);	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"bar()  "</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"module.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这种方式虽然带来了简便方式，但是一定程度上造成了命名冲突的问题，并且在后期难以维护，是一个比较严重的问题，污染全局变量</p>
<ul>
<li>采用namespace的方式<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.js</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">	msg : <span class="string">"module"</span>,</span><br><span class="line">	foo()&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"foo()"</span> + <span class="keyword">this</span>.msg);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"module.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">	obj.foo();				<span class="comment">// foo()module</span></span></span><br><span class="line"><span class="javascript">	obj.msg = <span class="string">"namespace"</span>;</span></span><br><span class="line"><span class="javascript">	obj.foo();				<span class="comment">// foo()namespace</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这种方式虽然解决了命名冲突的问题，但是不安全，由于使用对象进行封装，所以仍然可以修改对象中的内容</p>
<ul>
<li>采用IIFE的方式<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.js</span><br><span class="line"></span><br><span class="line"><span class="comment">// 采用闭包的方式 IIFE</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">window</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">let</span> msg = <span class="string">"module"</span>;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"foo() "</span> + msg);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 暴露出去对象</span></span><br><span class="line">	<span class="built_in">window</span>.obj = &#123;foo&#125;;</span><br><span class="line">&#125;)(<span class="built_in">window</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"module.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">	msg = <span class="string">"IIFE"</span>;		<span class="comment">// 此时为隐式全局变量</span></span></span><br><span class="line"><span class="javascript">	obj.foo();			<span class="comment">// foo() module</span></span></span><br><span class="line"><span class="javascript">	obj.msg = <span class="string">"IIFE"</span>;	<span class="comment">// 由于存在了闭包，修改的并不是那一个数据</span></span></span><br><span class="line"><span class="javascript">	obj.foo();			<span class="comment">// foo() module</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这种方式通过全局变量传递出去模块名称，而且采用了<strong>立即执行函数</strong>相对数据较安全，也是比较好的一种模块定义方式</p>
<ul>
<li>采用IIFE-引入依赖的方式<ul>
<li>这种方式是IIFE的增强模式，由IIFE发展而来，也是今后的js模块化的一种标准<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.js</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">window,$</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">let</span> msg = <span class="string">"module"</span>;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"foo() "</span> + msg);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">window</span>.obj = &#123;foo&#125;;</span><br><span class="line">	<span class="comment">// 此时引入第三方库的方法</span></span><br><span class="line">	$(<span class="string">"body"</span>).css(<span class="string">"background"</span>,<span class="string">"deeppink"</span>);</span><br><span class="line">&#125;)(<span class="built_in">window</span>,jQuery)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery-1.11.0.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"module.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">	obj.foo();		<span class="comment">// foo() module</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这是在IIFE上发展而来的一种方式，引入了第三方的依赖，但是由于有依赖关系，一定要注意引入的顺序，由于<strong>module.js引入了jquery,所以jquery要先被解析</strong></p>
<ul>
<li>传统的相互依赖演示</li>
</ul>
<ul>
<li><p>文件的结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">└─js</span><br><span class="line">        alerter.js</span><br><span class="line">        dataService.js</span><br><span class="line">│</span><br><span class="line">│  app.js</span><br><span class="line">│  index.html</span><br></pre></td></tr></table></figure>
</li>
<li><p>module的文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">dataService.js</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个没有依赖的模块</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">window</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">let</span> name = <span class="string">"dataService.js"</span>;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 暴露出去</span></span><br><span class="line">	<span class="built_in">window</span>.dataService = &#123;getName&#125;;</span><br><span class="line">&#125;)(<span class="built_in">window</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">alerter.js</span><br><span class="line"><span class="comment">// 定义一个有依赖的模块</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">window,dataService</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">let</span> msg = <span class="string">"alerter.js"</span>;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">showMsg</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(msg, dataService.getName());</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 暴露出去</span></span><br><span class="line">	<span class="built_in">window</span>.alerter = &#123;showMsg&#125;;</span><br><span class="line">&#125;)(<span class="built_in">window</span>,dataService)</span><br></pre></td></tr></table></figure>
</li>
<li><p>app.js的主文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">app.js</span><br><span class="line"></span><br><span class="line"><span class="comment">// 直接调用alerter.js</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">alerter</span>) </span>&#123;</span><br><span class="line">	alerter.showMsg();		<span class="comment">// alerter.js dataService.js</span></span><br><span class="line">&#125;)(alerter)</span><br></pre></td></tr></table></figure>
</li>
<li><p>html文件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/dataService.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/alerter.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"app.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>由于他们之间产生了依赖关系 所以一定要弄清楚之间的关系，引入顺序很重要</p>
<h4 id="在这些传统的方式上产生了一些引入js的标准"><a href="#在这些传统的方式上产生了一些引入js的标准" class="headerlink" title="在这些传统的方式上产生了一些引入js的标准"></a>在这些传统的方式上产生了一些引入js的标准</h4><ul>
<li>CommonJS</li>
<li>AMD</li>
<li>CMD(目前使用不广泛)</li>
<li>ES6<br>接下来会分别介绍 <code>CommonJS</code>,<code>AMD</code>，<code>ES6</code>引入依赖的方式</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/05/2019-祝自己/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="浩南">
      <meta itemprop="description" content="Keep Output!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z-HNAN">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/02/05/2019-祝自己/" class="post-title-link" itemprop="url">2019-祝自己</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-02-05 00:40:00" itemprop="dateCreated datePublished" datetime="2019-02-05T00:40:00+08:00">2019-02-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-03 01:07:06" itemprop="dateModified" datetime="2020-08-03T01:07:06+08:00">2020-08-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="关于新年"><a href="#关于新年" class="headerlink" title="关于新年"></a>关于新年</h4><p>做自己守护者，<br>愿自己，<br>身体健康。<br><img src="/img/2019/02/05/1.jpg" alt="新年快乐">(图源：包图网)</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/26/h5语义化标签及其兼容性解决/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="浩南">
      <meta itemprop="description" content="Keep Output!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z-HNAN">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/01/26/h5语义化标签及其兼容性解决/" class="post-title-link" itemprop="url">h5语义化标签及其兼容性解决</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-01-26 21:30:08" itemprop="dateCreated datePublished" datetime="2019-01-26T21:30:08+08:00">2019-01-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-03 01:07:06" itemprop="dateModified" datetime="2020-08-03T01:07:06+08:00">2020-08-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>html5的语义化标签确实为我们带来了许多方便，但是如何解决他的兼容性代码也是需要我们去解决的，简单分析一下h5的相关使用</p>
</blockquote>
<h4 id="h5带来了哪些好处"><a href="#h5带来了哪些好处" class="headerlink" title="h5带来了哪些好处"></a>h5带来了哪些好处</h4><ul>
<li>比较利于开发人员使用,不需要去仔细阅读每一个类，就可以较为清楚地分析出网页的整体结构。</li>
<li>利于SEO-搜索引擎优化,搜索引擎也要分析我们的网页，当时用了h5的时候，他也可以很方便的寻找出网页的重点部分，排名靠前。</li>
</ul>
<p><img src="/img/2019/01/26/1.png" alt="h5与传统结构对比">(左为h5 右为传统网页)</p>
<h4 id="h5带来的问题"><a href="#h5带来的问题" class="headerlink" title="h5带来的问题"></a>h5带来的问题</h4><ul>
<li><p>最大就是兼容性，在<strong>IE8及其以前</strong>是不支持h5的，并且会将其解析为行间元素，涉及到h5标签(包括h5的相关api)，以及大部分的css3属性</p>
<ul>
<li>IE9的显示效果  <img src="/img/2019/01/26/2.png" alt="IE9的显示效果"></li>
<li>IE8的显示效果，（IE8是将其转换为行间元素进行解析）<img src="/img/2019/01/26/3.png" alt="IE8的显示效果"></li>
</ul>
</li>
</ul>
<ul>
<li>如何解决兼容性问题<ol>
<li>首先使用js创建元素，<code>document.createElement(&#39;header&#39;)</code></li>
<li>设置其css的<code>display：block</code></li>
<li>在这里可以使用<a href="https://github.com/aFarkas/html5shiv" target="_blank" rel="noopener">html5shiv.js</a>这个插件来帮我们完成,需要注意的一点，此处我们需在网页的最开始引入此js文件</li>
</ol>
</li>
</ul>
<ul>
<li><p>如何判断我们是否需要去引入该插件</p>
<ul>
<li>因为只有<strong>IE8及其以前</strong>的版本需要处理，那在其他的浏览器下就是不太需要的操作</li>
<li>（X）使用js的<code>userAgent</code>来进行判断,应为我们需要最开始来加载，所以不能使用js的方式来判断</li>
<li><p>（√）使用条件注释的方式来进行判断</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--[if lt IE 9]&gt;</span></span><br><span class="line"><span class="comment">	&lt;h1&gt;您的浏览器版本过低，请及时更新您的浏览器&lt;/h1&gt;</span></span><br><span class="line"><span class="comment">&lt;![endif]--&gt;</span></span><br></pre></td></tr></table></figure>
<p>  (这里 lt&lt; lte&lt;= gt&gt; gte&gt;=)</p>
</li>
</ul>
</li>
</ul>
<ul>
<li>处理兼容性的代码  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--[if lt IE 9]&gt;</span></span><br><span class="line"><span class="comment">	&lt;script src="bower_components/html5shiv/dist/html5shiv.js"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="comment">&lt;![endif]--&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/18/loading过渡动画的使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="浩南">
      <meta itemprop="description" content="Keep Output!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z-HNAN">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/01/18/loading过渡动画的使用/" class="post-title-link" itemprop="url">loading过渡动画的使用</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-01-18 15:32:34" itemprop="dateCreated datePublished" datetime="2019-01-18T15:32:34+08:00">2019-01-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-03 01:07:06" itemprop="dateModified" datetime="2020-08-03T01:07:06+08:00">2020-08-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="使用loading相关插件优化用户体验"><a href="#使用loading相关插件优化用户体验" class="headerlink" title="使用loading相关插件优化用户体验"></a>使用loading相关插件优化用户体验</h4><blockquote>
<p>在使用ajax刷新数据的时候，中间的间隔可以使用一些过渡动画增加用户体验</p>
</blockquote>
<ol>
<li><p>首先选用一些动画插件 比如此处的<a href="http://loading.awesomes.cn/" target="_blank" rel="noopener">http://loading.awesomes.cn/</a>找到要使用的样式</p>
</li>
<li><p>插入相关的代码，这里可以单独列出文件整合起来</p>
</li>
</ol>
<ul>
<li><p>html代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--loading动画--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ball-pulse-sync"</span> <span class="attr">style</span>=<span class="string">"display: none"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>css代码</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"> 	<span class="comment">/*loading动画的样式表*/</span></span><br><span class="line"><span class="selector-class">.ball-pulse-sync</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.ball-pulse-sync</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(1)</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-animation</span>: ball-pulse-sync <span class="number">0.6s</span> -<span class="number">0.14s</span> infinite ease-in-out;</span><br><span class="line">  <span class="attribute">animation</span>: ball-pulse-sync <span class="number">0.6s</span> -<span class="number">0.14s</span> infinite ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ball-pulse-sync</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(2)</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-animation</span>: ball-pulse-sync <span class="number">0.6s</span> -<span class="number">0.07s</span> infinite ease-in-out;</span><br><span class="line">  <span class="attribute">animation</span>: ball-pulse-sync <span class="number">0.6s</span> -<span class="number">0.07s</span> infinite ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ball-pulse-sync</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(3)</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-animation</span>: ball-pulse-sync <span class="number">0.6s</span> <span class="number">0s</span> infinite ease-in-out;</span><br><span class="line">  <span class="attribute">animation</span>: ball-pulse-sync <span class="number">0.6s</span> <span class="number">0s</span> infinite ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ball-pulse-sync</span> &gt; <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">-webkit-animation-fill-mode</span>: both;</span><br><span class="line">  <span class="attribute">animation-fill-mode</span>: both;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">keyframes</span> ball-pulse-sync &#123;</span><br><span class="line">  33% &#123;</span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">translateY</span>(10px);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(10px);</span><br><span class="line">  &#125;</span><br><span class="line">  66% &#123;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">translateY</span>(-10px);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-10px);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">translateY</span>(0);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(0);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol start="3">
<li>设置其元素显示的时机，这里提供一种可以居中的方式</li>
</ol>
<ul>
<li><p>css代码</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.ball-pulse-sync</span>&#123;</span><br><span class="line">  	<span class="attribute">display</span>: flex;				<span class="comment">/*使用flex布局*/</span></span><br><span class="line">  	<span class="attribute">align-items</span>: center;		<span class="comment">/*居中*/</span></span><br><span class="line">  	<span class="attribute">justify-content</span>: center;	<span class="comment">/*居中*/</span></span><br><span class="line">  	<span class="attribute">position</span>: fixed;			<span class="comment">/*固定于浏览器*/</span></span><br><span class="line">  	<span class="attribute">z-index</span>: <span class="number">1001</span>;				<span class="comment">/*设定层级*/</span></span><br><span class="line">  	<span class="attribute">background</span>: <span class="built_in">rgba</span>(0,0,0,.7);	<span class="comment">/*背景色*/</span></span><br><span class="line">  	<span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  	<span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  	<span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  	<span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>可以使用jquery的 <code>fadeIn()</code>  与 <code>fadeOut()</code> 方法 在<code>&lt;div style=&quot;display:none&quot;&gt;···&lt;/div&gt;</code> 之所以设置<strong>display:none</strong> 是为了淡入淡出可以恢复 display:flew的特性（jQuery默认是display:block）</p>
</li>
</ul>
<ol start="4">
<li>效果图<img src="/img/2019/01/18/1.png" alt="loading"></li>
</ol>
<h4 id="其实使用这种进度条，或是加载函数都是一种表面的东西，其内部是一些函数，会走的越来越慢，当加载完毕的时候一下子走通，造成了一种进度条的感觉，实际是ajax开始一个动作，结束一个动作"><a href="#其实使用这种进度条，或是加载函数都是一种表面的东西，其内部是一些函数，会走的越来越慢，当加载完毕的时候一下子走通，造成了一种进度条的感觉，实际是ajax开始一个动作，结束一个动作" class="headerlink" title="其实使用这种进度条，或是加载函数都是一种表面的东西，其内部是一些函数，会走的越来越慢，当加载完毕的时候一下子走通，造成了一种进度条的感觉，实际是ajax开始一个动作，结束一个动作"></a>其实使用这种进度条，或是加载函数都是一种表面的东西，其内部是一些函数，会走的越来越慢，当加载完毕的时候一下子走通，造成了一种进度条的感觉，实际是ajax开始一个动作，结束一个动作</h4><pre><code class="JavaScript"><span class="comment">// jQuery中的统一ajax</span>
$(<span class="built_in">document</span>).ajaxStart(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
    <span class="comment">// ajax开始的代码</span>
}).ajaxStop(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
    <span class="comment">// ajax结束的代码</span>
});
</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/25/梦·书·电影/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="浩南">
      <meta itemprop="description" content="Keep Output!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z-HNAN">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/12/25/梦·书·电影/" class="post-title-link" itemprop="url">梦·书·电影</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-12-25 00:20:03" itemprop="dateCreated datePublished" datetime="2018-12-25T00:20:03+08:00">2018-12-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-03 01:07:06" itemprop="dateModified" datetime="2020-08-03T01:07:06+08:00">2020-08-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>想要把自己活成一场梦，一本书,一步电影。 – 齐一</p>
</blockquote>
<p>00：20平安夜，everyone,祝平安，快乐，每个人都会得到想要的！加油！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/08/可能否/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="浩南">
      <meta itemprop="description" content="Keep Output!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z-HNAN">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/12/08/可能否/" class="post-title-link" itemprop="url">可能否</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-12-08 13:22:46" itemprop="dateCreated datePublished" datetime="2018-12-08T13:22:46+08:00">2018-12-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-03 01:07:06" itemprop="dateModified" datetime="2020-08-03T01:07:06+08:00">2020-08-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="可能否"><a href="#可能否" class="headerlink" title="可能否"></a>可能否</h2><pre><code>春天的风 能否吹来夏天的雨
秋天的月 能否照亮冬天的雪
夜空的星 能否落向晨曦的海
山间的泉 能否遇上南飞的雁
能否早一点 看透命运的伏线
能否不轻易就深陷
能否慢一点 挥霍有限的时间
能否许我一个永远
可能我撞了南墙才会回头吧
可能我见了黄河才会死心吧
可能我偏要一条路走到黑吧
可能我还没遇见 那个她吧
断掉的弦 能否扯破自缚的茧
熄灭的火 能否烧光残留的念
梦中的云 能否化作熟悉的脸
前世的劫 能否换来今生的缘
能否早一点 相信年少的誓言
能否不轻易说再见
能否慢一点 感受岁月的缱绻
能否许我一次成全
可能我撞了南墙才会回头吧
可能我见了黄河才会死心吧
可能我偏要一条路走到黑吧
可能我还没遇见 那个她吧
可能我撞了南墙才会回头吧
可能我见了黄河才会死心吧
可能我偏要一条路走到黑吧
可能我还没遇见 那个她吧
可能我还没忘掉 哪个她吧
</code></pre><p><img src="/img/20181208/1.jpg" alt="1"><br><br>可能否 – 木小雅<br></p>
<blockquote>
<p>2018-12-08 杭州 · 杭州电子科技大学 · 雪</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/11/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/13/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="浩南"
      src="/uploads/avatar.png">
  <p class="site-author-name" itemprop="name">浩南</p>
  <div class="site-description" itemprop="description">Keep Output!</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">128</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Z-HNAN" title="GitHub → https://github.com/Z-HNAN" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:zhn68033@163.com" title="E-Mail → mailto:zhn68033@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2018 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">浩南</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.7.1
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.7.2
  </div>
  <span class="post-meta-divider">|</span>
  <div class="normal-page"><a href="https://z-hnan.github.io/" class="theme-link" rel="noopener" target="_blank">Blog</a></div>
  <span class="post-meta-divider">|</span>
  <div class="mirror-page"><span class="with-love">
    <i class="fa fa-rocket"></i>
  </span><a href="https://haonan98.gitee.io/" class="theme-link" rel="noopener" target="_blank">Blog(CN)</a></div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>



  




  <script src="/js/local-search.js"></script>












  

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'http://yoursite.com/page/12/',]
      });
      });
  </script>

</body>
</html>
