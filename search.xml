<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[postMessageä½¿ç”¨]]></title>
    <url>%2F2020%2F11%2F22%2FpostMessage%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[postMessageåŸºæœ¬ä½¿ç”¨12// å‘é€æ•°æ®otherWindow.postMessage(message, targetOrigin, [transfer]); otherWindow: å…¶ä»–çª—å£çš„ä¸€ä¸ªå¼•ç”¨ï¼Œæ¯”å¦‚ iframe çš„ contentWindow å±æ€§,iframeçš„çˆ¶çª—å£window.parent,æˆ–è€…window.openè¿”å›çš„çª—å£å¯¹è±¡ç­‰ã€‚ message è¦å‘é€çš„æ¶ˆæ¯ï¼Œå®ƒå°†ä¼šè¢«ç»“æ„åŒ–å…‹éš†ç®—æ³•åºåˆ—åŒ–,ä¹Ÿå¯ç›´æ¥ä½¿ç”¨JSON.stringifyä¼ é€’string targetOrigin è¦æ¥æ”¶messageçš„çª—å£ï¼Œå¯ç†è§£otherWindowæ­£ç¡®çš„URLï¼Œå¯ä»¥ä¸ºä¸€ä¸ªå…·ä½“çš„å€¼http://www.baidu.com,æˆ–è€…ä¸º*å³è®¤ä¸ºå‡å¯å‘otherWindowå‘é€æ¶ˆæ¯ï¼Œæ— è®ºotherWindowçš„åœ°å€æ˜¯æ€æ ·çš„ transfer æ˜¯ä¸€ä¸²å’Œmessage åŒæ—¶ä¼ é€’çš„ Transferable å¯¹è±¡. è¿™äº›å¯¹è±¡çš„æ‰€æœ‰æƒå°†è¢«è½¬ç§»ç»™æ¶ˆæ¯çš„æ¥æ”¶æ–¹ï¼Œè€Œå‘é€ä¸€æ–¹å°†ä¸å†ä¿æœ‰æ‰€æœ‰æƒã€‚ 12345678// æ¥æ”¶æ•°æ®window.addEventListener("message", receiveMessage, false);function receiveMessage(event) &#123; // æ­¤originè¡¨ç¤ºmessageæ¥è‡ªçš„åœ°å€ let origin = event.origin || event.originalEvent.origin; if (origin !== "http://semlinker.com") return;&#125; å…³äºpostMessageä¸­targetOriginçš„å›¾è§£ ä¸Šå›¾è¡¨ç¤ºï¼ŒAé¡µé¢è·å–Bé¡µé¢çš„windowï¼Œå‘é€postMessageä¿¡æ¯ï¼Œæ‰€ä»¥ä»–çš„ç›®æ ‡çª—å£ä¸ºb,å³targetOriginä¸ºhttp://www.b.comBé¡µé¢å¯¹è‡ªå·±çš„windowç›‘å¬äº†messageäº‹ä»¶,æ‰€ä»¥ä»–ç›‘å¬åˆ°çš„eventä¸­originä¸ºhttp://www.a.comå³Aé¡µé¢å‘é€æ¥çš„æ¶ˆæ¯ï¼ŒAæ‰€åœ¨çš„origin åŒä¸€ä¸ªé¡µé¢ä¸‹ï¼Œå®ç°iframeé—´çš„é€šä¿¡ï¼Œå¤–å±‚å–åˆ°å†…éƒ¨iframeåŸŸä¸‹çš„localstorage ç”±äºlocalstorageçš„å­˜å‚¨æ˜¯ä¸èƒ½è·¨åŸŸçš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨ä¸¤ä¸ªé¡µé¢ä¸­å…¬ç”¨ä¸€ä¸ªiframeä½œä¸ºé€šä¿¡è½½ä½“ çˆ¶çª—å£å‘é€ç»™å­iframeä¸€ä¸ªmessage,å­å…ƒç´ ç›‘å¬åˆ°åå–å‡ºlocalstorageä¸­çš„å†…å®¹ï¼Œå‘é€ç»™ çˆ¶iframeä¸€ä¸ªmessage,çˆ¶å…ƒç´ ç›‘å¬åï¼Œå–å‡ºæ•°æ®å³å¯ã€‚ é…ç½®äº†ä»£ç†http://me.a.comä¸http://a.comå‡æ‰“åˆ°æœ¬åœ°ä»£ç† parenté¡µé¢ï¼Œhttp://me.a.com/ip-parent-me/index.html 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;me.a.com&lt;/h1&gt; &lt;h2&gt;parenté¡µé¢ï¼Œè´Ÿè´£æ¥æ”¶childä¸­çš„localstorage&lt;/h2&gt; key: &lt;input type="text" id="key" /&gt;&lt;button id="button"&gt;æ¥æ”¶localstorage&lt;/button&gt; &lt;iframe id="ifr" src="http://a.com/ip-child-a/index/html" style="display: none;"&gt;&lt;/iframe&gt; &lt;script&gt; const $ = document.querySelector.bind(document) const keyEle = $('#key') const buttonEle = $('#button') const iframeEle = $('#ifr') function getTargetLocalstorage() &#123; let key = keyEle.value.trim() if (key === '') &#123; keyEle.value = key return &#125; const action = &#123; type: 'GET', payload: &#123; key &#125; &#125; iframeEle.contentWindow.postMessage(JSON.stringify(action), 'http://a.com') keyEle.value = key &#125; function getLocalstorageSuccess(&#123; key, value &#125;) &#123; console.log('============Parent Get Localstorage Success============='); console.log(`$&#123;key&#125;: $&#123;value&#125; `); &#125; function dispatchMessage(event) &#123; // eventæ ¡éªŒ const action = JSON.parse(event.data) switch (action.type) &#123; case 'GET_SUCCESS': return getLocalstorageSuccess(&#123; key: action.payload.key, value: action.payload.value &#125;) &#125; &#125; buttonEle.addEventListener('click', getTargetLocalstorage) window.addEventListener('message', dispatchMessage) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; childé¡µé¢ï¼Œhttp://a.com/ip-child-a/index/html 123456789101112131415161718192021222324252627282930313233343536&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;a.com&lt;/h1&gt; &lt;h1&gt;ç”¨äºä¸­è½¬localstorageçš„é¡µé¢&lt;/h1&gt; &lt;script&gt; const $ = document.querySelector.bind(document) const parentWindow = window.parent function getLocalstorage(&#123; key &#125;) &#123; const valueJSON = localStorage.getItem(key) const action = &#123; type: 'GET_SUCCESS', payload: &#123; key, value: JSON.parse(valueJSON) &#125; &#125; parentWindow.window.postMessage(JSON.stringify(action), 'http://me.a.com') &#125; function dispatchMessage(event) &#123; // å¿½ç•¥æ£€æŸ¥event.origin const action = JSON.parse(event.data) switch (action.type) &#123; case 'GET': return getLocalstorage(&#123; key: action.payload.key &#125;) &#125; &#125; window.addEventListener('message', dispatchMessage) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; å‚è€ƒhttps://juejin.cn/post/6895502625970585607]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯æ€§èƒ½ç›‘æ§]]></title>
    <url>%2F2020%2F11%2F16%2F%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%2F</url>
    <content type="text"><![CDATA[ç›‘æ§ç›¸å…³æ€§èƒ½æŒ‡æ ‡ FP first paint é¦–æ¬¡ç»˜åˆ¶ FCP first contentful paint é¦–æ¬¡å†…å®¹ç»˜åˆ¶ï¼ˆæœ‰ä¸œè¥¿å‡ºæ¥å°±è¡Œï¼‰ FMP first meaningful paint é¦–æ¬¡æœ‰æ„ä¹‰çš„ç»˜åˆ¶ï¼ˆæœ‰å¤§æ¦‚æ„ä¹‰å³å¯ï¼‰ FMPå¯¹fmpçš„å®šä¹‰ä¸å°½ç›¸åŒï¼Œä»€ä¹ˆæ˜¯æœ‰æ„ä¹‰çš„å¯¹äºä¸åŒçš„ä¸šåŠ¡æ–¹ç†è§£æ˜¯ä¸åŒçš„ å¦‚ åšå®¢ï¼šæ ‡é¢˜ï¼Œåšæ–‡æ˜¾ç¤ºå‡ºæ¥å³å¯ ç”µå•†ç½‘ç«™ï¼Œæ›´å¤šçš„å›¾ç‰‡è¢«æ˜¾ç¤ºå‡ºæ¥ æœç´¢å¼•æ“ï¼Œæœç´¢å†…å®¹æ˜¾ç¤ºå‡ºæ¥ googleæå‡ºäº†ä¸€ä¸ªè¾ƒä¸ºé€šç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œå°±æ˜¯é¡µé¢ä¸ŠDOMå˜åŠ¨æœ€å¤§æ—¶ï¼Œå³è®¤ä¸ºåšå‡ºäº†é¦–æ¬¡æœ‰æ„ä¹‰çš„ç»˜åˆ¶ï¼ŒåŒæ—¶è¦è€ƒè™‘ä¸€äº›å†…å®¹é¡µé¢ï¼ˆé¡µé¢å†…å®¹è¶…å‡ºæ˜¾ç¤ºå™¨å†…å®¹æ—¶çš„æƒ…å†µï¼Œé¡µé¢å†…å®¹/å±å¹•å†…å®¹ï¼‰ï¼Œä»¥åŠå¼•ç”¨åˆ°äº†ç‰¹æ®Šçš„å­—ä½“æ—¶ï¼Œè¦è€ƒè™‘å­—ä½“æ²¡æœ‰åŠ è½½å‡ºæ¥ï¼Œä»è€ŒåŠ è½½å‡ºçš„å†…å®¹ä¹Ÿæ˜¯æ²¡æœ‰å¤ªå¤§çš„æ„ä¹‰çš„ã€‚ ä½¿ç”¨æµè§ˆå™¨ç›¸å…³APIè·å–æ•°æ®æµè§ˆå™¨åŸç”Ÿçš„performanceAPIè®°å½•æ•°æ® performance.navigation é¡µé¢åŠ è½½è¿˜æ˜¯åˆ·æ–°ï¼Œå‘ç”Ÿäº†å¤šå°‘æ¬¡é‡å®šå‘ performance.timing é¡µé¢åŠ è½½çš„å„é˜¶æ®µæ—¶é•¿ï¼Œå…¶ä¸­å¯ä»¥è·å¾—é¡µé¢å„ä¸ªæ€§èƒ½æŒ‡æ ‡çš„æ—¶é—´ performance.memory å†…å­˜ä½¿ç”¨æƒ…å†µï¼ˆchromeä¸­æ”¯æŒçš„éæ ‡å‡†ç‰¹æ€§ï¼‰ performance.timeorigin æ€§èƒ½å¼€å§‹è®°å½•æ—¶é«˜ç²¾åº¦çš„æ—¶é—´æˆ³ è·å–æŒ‡æ ‡æ•°æ® performance.now() è·å–å½“å‰é¡µé¢å¼€å§‹åŠ è½½åˆ°ç°åœ¨çš„æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰ï¼Œè€Œä¸æ˜¯1970å¹´çš„é‚£ä¸ªæ—¶é—´æˆ³ perfromance.getEntries() è·å¾—å„ç§æ‰“ç‚¹è®°å½•æ•°æ® perfromance.getEntriesByName() é€šè¿‡åç§°è·å–è®°å½•æ•°æ®ï¼ˆè‡ªå®šä¹‰markçš„æ•°æ®ä¹Ÿå¯ä»¥è¿™æ ·å–å¾—ï¼‰ performance.getEntriesByType() é€šè¿‡ç±»å‹è·å–æŒ‡æ ‡ï¼Œæ¯”å¦‚paint, ç»˜åˆ¶ç›¸å…³ï¼ŒFP,FCPç­‰ã€‚resourceå„ç§èµ„æºçš„æ—¶é—´èŠ‚ç‚¹ performance.mark(&lt;tag string&gt;) è‡ªå®šä¹‰æ‰“ç‚¹ï¼Œä¹‹åå¯é€šè¿‡getEntriesByNameæŸ¥è¯¢åˆ° performance.clearMarks(&lt;tag string&gt;) æ¸…é™¤ç›¸å…³è‡ªå®šä¹‰æ‰“ç‚¹ç›‘æ§æ•°æ® FPSä¸€èˆ¬é¡µé¢æ­£å¸¸FPSç»´æŒåœ¨60ä¼šæ˜¯ä¸€ä¸ªæ¯”è¾ƒç†æƒ³çš„çŠ¶æ€ï¼Œå¦‚æœé¡µé¢é™åˆ°20FPSåï¼Œä¼šäº§ç”Ÿæ˜æ˜¾çš„å¡é¡¿æ„Ÿï¼Œç”±äºæ¯•ç«Ÿæµè§ˆå™¨è¿˜æ˜¯è¦è®¡ç®—ç»˜åˆ¶çš„ï¼Œä¸€ç›´è®©å…¶ä¿è¯60FPSä¹Ÿæ˜¯ä¸å¤ªå¯èƒ½çš„ï¼Œæ¯”å¦‚åœ¨ç”¨æˆ·äº§ç”Ÿæ»‘åŠ¨æ—¶ï¼Œé¡µé¢FPSä¼šçªç„¶ä¸‹é™ï¼Œä½†æ˜¯åªè¦åç»­èƒ½å¤Ÿæ¢å¤æ­£å¸¸å°±æ²¡æœ‰é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ£€æµ‹FPSä¸€å®šæ˜¯ä¸€æ®µæ—¶é—´å†…çš„æ£€æµ‹ï¼Œè®¾å®šç›¸åº”çš„é˜ˆå€¼ï¼Œæ¯”å¦‚é™ä½åˆ°æŸFPSï¼ŒæŒç»­å¤šå°‘æ¬¡ï¼Œæˆ–è€…å¤šä¹…è¿›è¡Œä¸ŠæŠ¥ï¼Œæˆ–è€…é‡‡æ ·æ¯ç§’çš„FPSè¿›è¡Œæ¯”å¯¹ã€‚ 123456789101112131415161718// ç®€å•è®¡ç®—FPSçš„æ–¹å¼,1så†…æ¸²æŸ“äº†å¤šå°‘å¸§å›¾ç‰‡// ä¹Ÿå¯ä»¥è®¡ç®—ä¸Šä¸€æ¬¡æ¸²æŸ“å’Œè¿™ä¸€æ¬¡æ¸²æŸ“çš„æ—¶é—´å·® 1000/æ—¶é—´å·® = FPSlet lastCountTime = performance.now()let frames = 0function tick(time) &#123; if (time - lastCountTime &gt; 1000) &#123; console.log('current FPS:' + frames) lastCountTime = time frames = 0 &#125; else &#123; frames += 1 &#125; window.requestAnimationFrame(tick)&#125;window.requestAnimationFrame(tick) ç›‘æ§jsæŠ¥é”™é¡µé¢æ‰§è¡Œçš„é”™è¯¯ä¹Ÿéœ€è¦æˆ‘ä»¬è¿›è¡Œæ•è·ï¼Œç”±äºæµè§ˆå™¨çš„è·¨åŸŸå®‰å…¨ç­–ç•¥ï¼Œéƒ¨åˆ†scriptè„šæœ¬åŠ è½½æ—¶å‡ºé”™æ˜¯æ•è·ä¸åˆ°çš„. ç›‘æ§jsé‡åˆ°çš„é—®é¢˜å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæµè§ˆå™¨ä¼šåˆ»æ„éšè—å…¶ä»–åŸŸçš„JSæ–‡ä»¶æŠ›å‡ºçš„å…·ä½“é”™è¯¯ä¿¡æ¯ï¼Œè¿™æ ·åšå¯ä»¥æœ‰æ•ˆé¿å…æ•æ„Ÿä¿¡æ¯æ— æ„ä¸­è¢«ä¸å—æ§åˆ¶çš„ç¬¬ä¸‰æ–¹è„šæœ¬æ•è·ã€‚å› æ­¤ï¼Œæµè§ˆå™¨åªå…è®¸åŒåŸŸä¸‹çš„è„šæœ¬æ•è·å…·ä½“é”™è¯¯ä¿¡æ¯ï¼Œè€Œå…¶ä»–è„šæœ¬åªçŸ¥é“å‘ç”Ÿäº†ä¸€ä¸ªé”™è¯¯ï¼Œä½†æ— æ³•è·çŸ¥é”™è¯¯çš„å…·ä½“å†…å®¹ã€‚ å…·ä½“ä¾‹å­å¦‚ä¸‹ 123456789101112131415&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;Test page in http://test.com&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;script src="http://another-domain.com/app.js"&gt;&lt;/script&gt; &lt;script&gt; window.onerror = function (message, url, line, column, error) &#123; console.log(message, url, line, column, error); &#125; foo(); // è°ƒç”¨app.jsä¸­å®šä¹‰çš„fooæ–¹æ³•ã€‚ &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 12345678// jsæ‰§è¡Œæ—¶å¼•å‘äº†é”™è¯¯// another-domain.com/app.jsfunction foo() &#123; bar(); // ReferenceError: bar is not a function&#125;// æœ€ç»ˆæ•è·çš„é”™è¯¯"Script error.", "", 0, 0, undefined é€šå¸¸æœ‰å¦‚ä¸‹2ä¸ªæ–¹é¢çš„è§£æ³• å¼€å¯CORSï¼ˆCross Origin Resource Sharingï¼Œè·¨åŸŸèµ„æºå…±äº«ï¼‰ æ·»åŠ crossorigin=â€anonymousâ€å±æ€§ã€‚ 1&lt;script src="http://another-domain.com/app.js" crossorigin="anonymous"&gt;&lt;/script&gt; æ·»åŠ è·¨åŸŸHTTPå“åº”å¤´ã€‚ 12345# æ·»åŠ è·¨åŸŸè®¿é—®Access-Control-Allow-Origin: http://test.com# æˆ–è€…ç›´æ¥ä½¿ç”¨*Access-Control-Allow-Origin: * try catchå†…éƒ¨å‘ç”Ÿçš„é”™è¯¯ï¼Œå…ˆè¢«æˆ‘ä»¬æ•è·ä¸€æ¬¡ï¼Œä¹‹ååœ¨è¿›è¡ŒæŠ›å‡ºï¼Œç¥ä¸çŸ¥é¬¼ä¸è§‰çš„æ‹¿åˆ°äº†é”™è¯¯ä¿¡æ¯ 123456try &#123; foo(); // è°ƒç”¨app.jsä¸­å®šä¹‰çš„fooæ–¹æ³•&#125; catch (e) &#123; console.log(e); throw e;&#125; æ€»ç»“å‰ç«¯é¡µé¢è™½ç„¶åœ¨å¼€å‘é˜¶æ®µï¼Œå¯ä»¥ä½¿ç”¨lighthouseæˆ–è€…webpagetest,ä½†æ˜¯çœŸæ­£åœ¨çº¿ä¸Šçš„æƒ…å½¢æˆ‘ä»¬æ˜¯æ— ä»çš„å¾—çŸ¥çš„ï¼Œéœ€è¦çœŸæ­£ç»Ÿè®¡çº¿ä¸Šçš„æ•°æ®æ‰èƒ½æœ‰ä¸€ä¸ªå¤§è‡´çš„äº†è§£ï¼Œå°±éœ€è¦æˆ‘ä»¬å¯¹çº¿ä¸Šçš„é¡µé¢è¿›è¡Œä¸€äº›ç›‘æ§ï¼Œä»è€Œæœ‰é’ˆå¯¹æ€§çš„è¿›è¡Œä¼˜åŒ–åˆ†æã€‚ å¯¹äºå‰ç«¯æ€§èƒ½ç›‘æ§ï¼Œæ€»çš„æ¥è¯´å…³æ³¨ä¸¤ä¸ªå¤§ç‚¹ é¡µé¢åŠ è½½æ—¶å„ç§æ•°æ® ç”¨æ¥è®¡ç®—é¡µé¢çš„å„ç§æ‰“å¼€æ€§èƒ½ï¼Œæ‰“å¼€å¿«ä¸å¿«ï¼Œé¡µé¢åŠ è½½çš„æ—¶é—´å¦‚ä½•ï¼Œç”¨æˆ·ä½“éªŒå¥½ä¸å¥½ é¡µé¢è¿è¡Œæ—¶çš„æŠ¥é”™ çº¿ä¸Šå‡ºç°çš„é—®é¢˜ï¼Œæˆ‘ä»¬æ˜¯æ²¡æ³•è°ƒè¯•çš„ï¼Œä¸å¯èƒ½è®©ç”¨æˆ·å»æŠ“åŒ…ï¼Œæ‰€ä»¥åŠæ—¶ä¸ŠæŠ¥ä¸€äº›å¼‚å¸¸æƒ…å†µä¼šåŠæ—¶å‘ç°é—®é¢˜ï¼Œå¯¹äºç¬¬ä¸‰æ–¹åŒ…è¦å¼€å¯crossorigin=&quot;anonymous&quot;ï¼Œæˆ–è€…è‡ªå®šä¹‰try-catchåŒ…è£¹é”™è¯¯ 123456789// æ•è·jsæŠ›å‡ºçš„å¼‚å¸¸window.onerror = function (message, source, lineno, colno, error) &#123; // ä¸ŠæŠ¥å¼‚å¸¸&#125;// æ•è·promiseçš„unhandledå¼‚å¸¸window.addEventListener("unhandledrejection", function () &#123; // ä¸ŠæŠ¥å¼‚å¸¸&#125; ä¸ŠæŠ¥æ—¶æœº ç”±äºæ¯•ç«Ÿç›‘æ§ä¹Ÿæ˜¯ä½¿ç”¨jsï¼Œæˆ–å¤šæˆ–å°‘è¿˜æ˜¯ä¼šæœ‰ä¸€å®šçš„å½±å“ï¼Œè¿™é‡Œè¦åšä¸€å®šçš„è€ƒé‡ï¼Œä»¥åŠä½¿ç”¨ä¸€äº›ç›‘æ§æ–¹å¼ï¼ˆçº¿ä¸ŠæŠ½æ ·æ£€æµ‹ï¼Œè€Œä¸æ˜¯å…¨é‡æ£€æµ‹ï¼‰ï¼Œå¦å¤–é‰´äºjså•çº¿ç¨‹çš„ç‰¹æ€§ï¼Œä¸»çº¿ç¨‹é˜»å¡æ—¶ä¹Ÿæ²¡æœ‰åŠæ³•ç»§ç»­ç›‘æ§ï¼Œå¯ä»¥è€ƒè™‘é‡‡å–service-workerè¿›è¡Œå‘ä¸»è¿›ç¨‹æ¨é€å¿ƒè·³åŒ…çš„æ–¹å¼ï¼Œåˆ¤å®šä¸»çº¿ç¨‹æ˜¯å¦æ­£å¸¸ã€‚ å‚è€ƒ https://docs.google.com/document/d/1BR94tJdZLsin5poeet0XoTW60M0SjvOJQttKT-JK8HI/view https://www.alibabacloud.com/help/zh/doc-detail/88579.htm]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[httpsåŠ å¯†]]></title>
    <url>%2F2020%2F11%2F05%2Fhttps%E5%8A%A0%E5%AF%86%2F</url>
    <content type="text"><![CDATA[ç®€è¦ä»‹ç»httpsæ˜¯å¦‚ä½•ä¿è¯é€šä¿¡å®‰å…¨çš„ åŠ å¯†æ–¹å¼ å¯¹ç§°åŠ å¯† é€šè¿‡ä¸€ä¸ªå¯†é’¥ï¼ŒåŠ å¯†åˆå¯è§£å¯†ï¼Œé€šå¸¸æ­¤ç±»ç®—æ³•æ€§èƒ½æŸè€—è¾ƒå°ï¼ŒåŠ å¯†é€Ÿåº¦ç›¸å¯¹æ¯”è¾ƒå¿«ï¼ˆç®€å•çš„åŠ å¯†æ–¹å¼ï¼‰ éå¯¹ç§°åŠ å¯† åŠ å¯†å’Œè§£å¯†ä¸æ˜¯åŒä¸€ä¸ªå¯†é’¥ã€‚å…¬é’¥åŠ å¯†ï¼Œç§é’¥è§£å¯†ï¼›ç§é’¥åŠ å¯†ï¼Œå…¬é’¥è§£å¯†ã€‚ å…¬é’¥æ˜¯å¯ä»¥å…¬å¼€çš„ï¼Œç§é’¥é€šå¸¸æ˜¯è‡ªå·±ä¿å­˜çš„ã€‚ éå¯¹ç§°åŠ å¯†çš„åº”ç”¨åœºæ™¯åŠ å¯†é€šä¿¡é‡‡ç”¨å…¬é’¥åŠ å¯†æ•°æ®ï¼Œåªæœ‰ç§é’¥å¯ä»¥è§£å¯†ï¼Œä¹Ÿå°±æ˜¯åªæœ‰ç§é’¥æ‹¥æœ‰è€…å¯ä»¥ç ´è¯‘æ¶ˆæ¯ï¼Œå°±å¯ä»¥è¾¾åˆ°åŠ å¯†é€šä¿¡çš„è¦æ±‚ é‰´æƒé‡‡ç”¨ç§é’¥åŠ å¯†ä¸€å®šçš„èº«ä»½ä¿¡æ¯ï¼Œå…¬é’¥è§£å¯†åå¾—åˆ°å¯ä¿¡çš„èº«ä»½æ•°æ®ï¼Œè™½ç„¶æ”»å‡»è€…ä¹Ÿå¯ä»¥ä½¿ç”¨å…¬é’¥è§£å¯†å‡ºèº«ä»½ä¿¡æ¯ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ³•ä½¿ç”¨ç§é’¥åŠ å¯†ï¼Œæ‰€ä»¥åªæœ‰ç§é’¥æ‹¥æœ‰è€…å¯ä»¥åŠ å¯†èº«ä»½ä¿¡æ¯ï¼Œä¹‹åæ­£ç¡®çš„è¢«å¯¹åº”å…¬é’¥è§£å¼€ æ¶ˆæ¯å®Œæ•´æ€§å¯¹åŸå§‹æ¶ˆæ¯äº§ç”Ÿä¸€ä¸ªä¿¡æ¯æ‘˜è¦ï¼ˆç¼©çŸ­åŠ å¯†å†…å®¹ï¼‰ï¼Œä½¿ç”¨ç§é’¥è¿›è¡ŒåŠ å¯†ï¼Œä¹‹åå°†åŠ å¯†ä¿¡æ¯æ‘˜è¦å’Œæ¶ˆæ¯ä¸€èµ·å‘ç»™å¯¹æ–¹ï¼Œå¯¹æ–¹æ‹¿åˆ°å…¬é’¥è¿›è¡Œè§£å¯†ï¼Œå¹¶ä¸”ä½¿ç”¨ç›¸åŒç®—æ³•äº§ç”Ÿæ‘˜è¦ï¼Œå’Œè§£å¯†ä¿¡æ¯è¿›è¡Œæ¯”å¯¹ï¼Œæ”»å‡»è€…ç”±äºæ²¡æœ‰ç§é’¥ï¼Œå°±æ²¡æœ‰åŠæ³•ä¿®æ”¹åŠ å¯†çš„ä¿¡æ¯æ‘˜è¦ï¼Œä»è€Œä¿è¯äº†åŸå§‹ä¿¡æ¯çš„å®Œæ•´æ€§ ç½‘ç»œé€šä¿¡çš„å®‰å…¨ç½‘ç»œä¼ è¾“åŒ…ï¼Œå¾ˆå®¹æ˜“è¢«ç¬¬ä¸‰æ–¹ç›‘å¬ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯åŠ å¯†æˆ‘ä»¬çš„æ•°æ®ï¼Œå³ç”¨ä¸€ä¸ªå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œå¯ä»¥å¤§å¤§æä¾›å®‰å…¨æ€§ï¼Œä½†æ˜¯å¦‚ä½•å°†è¿™ä¸ªå¯¹ç§°åŠ å¯†çš„å¯†é’¥å®‰å…¨çš„é€åˆ°é€šä¿¡æ–¹æ‰‹ä¸­ï¼Œæ˜¯ä¸€ä¸ªé‡è¦çš„é—®é¢˜ã€‚ è§£å†³çš„æ˜¯ï¼Œä¼ é€å¯¹ç§°åŠ å¯†å¯†é’¥çš„å®‰å…¨é—®é¢˜ï¼Œï¼ˆéå¯¹ç§°åŠ å¯†ä¹Ÿå®‰å…¨ï¼Œä½†æ˜¯å¤§é‡é€šä¿¡ä¼šæ¯”è¾ƒæµªè´¹æ€§èƒ½ï¼‰ é¢œè‰²ç†è®ºé¢œè‰²ç†è®ºæ˜¯ä¸€ç§ä¸ä¼ è¾“å¯†é’¥ï¼Œä½†æ˜¯å´å¯ä»¥è®©åŒæ–¹éƒ½å¾—åˆ°å¯†é’¥çš„æ–¹æ³•ï¼Œä»–çš„å”¯ä¸€ç†è®ºå°±æ˜¯ä¸å¯é€†çš„è¿‡ç¨‹ï¼Œæ¯”å¦‚ä¸€æ¯æ°´æ˜¯çº¢è‰²ï¼Œä½ ä¸çŸ¥é“ä¹‹å‰æ˜¯å“ªä¸¤ç§é¢œè‰²å‹¾å…‘èµ·æ¥çš„ã€‚ Aliceå’ŒBobæœ€ç»ˆå¾—åˆ°äº†å¯†é’¥é¢œè‰²ï¼ˆæ£•è‰²ï¼‰ï¼Œä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä»–ä»¬ä¿©è‡ªèº«çš„ç§˜å¯†é¢œè‰²ï¼Œéƒ½æ²¡æœ‰äº¤æ¢å‡ºæ¥ï¼Œåªæ˜¯äº¤æ¢äº†ä¸€æ¬¡ä¸­é—´é¢œè‰²ï¼Œå³ä½¿æ”»å‡»äººæ‹¿åˆ°åï¼Œä¹Ÿä¸çŸ¥é“æ˜¯ä»€ä¹ˆé¢œè‰²ç›¸åŠ å¾—åˆ° ä½¿ç”¨éå¯¹ç§°åŠ å¯†äº¤æ¢å¯†é’¥åœ¨è®¿é—®æœåŠ¡å™¨æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦æ‹¿åˆ°æœåŠ¡å™¨çš„å…¬é’¥ï¼Œç„¶ååŠ å¯†ä¸€ä¸ªå¯†é’¥ï¼Œä¹‹åæœåŠ¡å™¨ä½¿ç”¨ç§é’¥è§£å¯†ï¼Œå°±å®‰å…¨æ‹¿åˆ°äº†å¯¹ç§°åŠ å¯†çš„å¯†é’¥ã€‚ ä½†æ˜¯æˆ‘ä»¬éœ€è¦æ‹¿åˆ°æœåŠ¡å™¨çš„å…¬é’¥ï¼ŒæœåŠ¡å™¨çš„å…¬é’¥æ˜¯ä¸èƒ½é¢„å…ˆä¿å­˜çš„ï¼Œåˆåˆ°äº†å¦‚ä½•ä¿è¯æ‹¿åˆ°çš„å…¬é’¥å°±æ˜¯æœåŠ¡å™¨çš„å…¬é’¥ï¼Œå¦åˆ™è¿˜æ˜¯ä¼šé€ æˆæ”»å‡»æ–¹é€æ˜çš„ç›‘å¬ å®é™…æ‹¿åˆ°äº†æ”»å‡»è€…çš„å…¬é’¥ï¼Œä»–ç”¨ç§é’¥è§£å¯†å‡ºå¯¹ç§°å¯†é’¥ï¼Œå†ç”¨çœŸçš„æœåŠ¡å™¨å…¬é’¥åŠ å¯†ï¼Œè½¬å‘ç»™æœåŠ¡å™¨ï¼Œå®é™…ä¸Šä»–å·²ç»æ‹¿åˆ°äº†å¯¹ç§°å¯†é’¥ CAæœºæ„çš„å…¬é’¥ä¸ºäº†æ‰“ç ´è¿™ç§æ­»å¾ªç¯ï¼Œæœ‰ä¸€äº›å®‰å…¨è®¤è¯æœºæ„ï¼Œç›´æ¥å°†ä»–ä»¬çš„å…¬é’¥åµŒå…¥åœ¨æ“ä½œç³»ç»Ÿä¸­æˆ–è€…æ˜¯æµè§ˆå™¨å†…éƒ¨ï¼Œè¿™æ ·å°±ä¿è¯äº†ä»–ä»¬çš„å…¬é’¥æ˜¯çœŸå®å¯ä¿¡çš„ï¼Œç›´æ¥ä»æœ¬åœ°å–å°±å¯ä»¥äº†ï¼Œä»è€Œæˆ‘ä»¬å€ŸåŠ©è¿™ä¸ªå…¬é’¥å¯ä»¥è¿›è¡Œé‰´æƒï¼Œæ‹¿åˆ°åç»­çœŸæ­£çš„æœåŠ¡ç«¯å…¬é’¥ã€‚ åŠ å¯†è¿‡ç¨‹ å®¢æˆ·ç«¯å°†è‡ªå·±çš„å…¬é’¥äº¤ç»™CAï¼Œå»è¿›è¡Œä¸€æ¬¡åŠ å¯†ï¼ŒCAæœºæ„ç”¨è‡ªå·±çš„ç§é’¥åŠ å¯†è¯ä¹¦å†…å®¹ æœåŠ¡ç«¯å°†å…¬é’¥äº¤ç»™CAè¯ä¹¦ï¼Œå¯ä»¥é‡‡ç”¨CAçš„å…¬é’¥åŠ å¯†ï¼ŒCAç”¨ç§é’¥è¿›è¡Œä¸€æ¬¡è§£å¯†ï¼Œç¡®ä¿æœåŠ¡ç«¯å…¬é’¥ä¼ è¾“CAå®‰å…¨ CAå°†åŠ å¯†çš„æ•°æ®ç”¨è‡ªå·±çš„ç§é’¥åŠ å¯†ï¼Œç”Ÿæˆä¿¡æ¯æ‘˜è¦ï¼ŒæœåŠ¡ç«¯æ‹¿åˆ°åŠ å¯†æ•°æ®åï¼Œç”¨å…¬é’¥è§£å¯†ï¼Œå¯¹æ¯”ä¸€ä¸‹åŠ å¯†çš„å†…å®¹æ˜¯å¦è¢«ç¯¡æ”¹ï¼Œè¿›è¡Œæ•°æ®å®Œæ•´æ€§æ ¡éªŒã€‚ç¡®ä¿æ‹¿åˆ°çš„ä¸œè¥¿æ˜¯å®‰å…¨å®Œæ•´çš„ã€‚ CAç§é’¥ + æœåŠ¡ç«¯å…¬é’¥ = CAç§é’¥åŠ å¯†(æœåŠ¡ç«¯å…¬é’¥) å®¢æˆ·ç«¯å°†è¿™ä¸ªåŠ å¯†å†…å®¹ä¼ è¾“ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨æœ¬åœ°çš„CAå…¬é’¥è¿›è¡Œä¸€æ¬¡è§£å¯†ï¼Œä¹Ÿå°±å¾—åˆ°äº†å¯é çš„æœåŠ¡ç«¯å…¬é’¥ã€‚ ä¸Šä¸€æ­¥ï¼Œè¿˜ä¼šåœ¨è¯ä¹¦ä¸­æºå¸¦ä¸€äº›æŒæœ‰äººç›¸å…³ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯ç”¨CAå…¬é’¥è§£å¯†å‡ºæ¥çš„ä¸œè¥¿ï¼Œè¿˜å¯ä»¥ç¡®å®šè¿™ä¸²åŠ å¯†æ˜¯ä¸æ˜¯ä»æœåŠ¡ç«¯å‘è¿‡æ¥çš„ï¼Œå› ä¸ºåªæœ‰CAå¯ä»¥åŠ å¯†å†…å®¹ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰é”™ CAå…¬é’¥ + CAç§é’¥åŠ å¯†(æœåŠ¡ç«¯å…¬é’¥) = æœåŠ¡ç«¯å…¬é’¥ å®¢æˆ·ç«¯æ‹¿åˆ°æœåŠ¡ç«¯å…¬é’¥åï¼Œä»¥åŠä¸€ä¸ªåŠ å¯†ç®—æ³•ï¼Œéšæœºç”Ÿæˆä¸€ä¸ªå¯¹ç§°å¯†é’¥ï¼Œäº¤ç»™æœåŠ¡ç«¯ æœåŠ¡ç«¯å…¬é’¥ + å¯¹ç§°å¯†é’¥ = æœåŠ¡ç«¯å…¬é’¥åŠ å¯†(å¯¹ç§°å¯†é’¥) æœåŠ¡ç«¯æ‹¿åˆ°è‡ªå·±çš„ç§é’¥è§£å¯†è¿™ä¸€ä¸²æ•°æ®ï¼Œå¾—åˆ°æœ€ç»ˆåŠ å¯†çš„æ•°æ® æœåŠ¡ç«¯ç§é’¥ + æœåŠ¡ç«¯å…¬é’¥åŠ å¯†(å¯¹ç§°å¯†é’¥) = å¯¹ç§°å¯†é’¥ å‚è€ƒèµ„æ–™https://www.jianshu.com/p/29e0ba31fb8d https://xz.aliyun.com/t/2526]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¹²]]></title>
    <url>%2F2020%2F11%2F01%2F%E5%B9%B2%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©çœ‹äº†å¥¹ç”»ç”»ï¼Œæ˜¯æŒºå¹¸è‹¦çš„ï¼Œä¸€ç¬”ä¸€ç¬”ï¼Œè‡ªå·±ä¸èƒ½åœ¨é¬¼æ··äº†ï¼Œè¦æ›´åŠªåŠ›èµ·æ¥æ‰è¡Œï¼ï¼ï¼ æ•´ç†ä¸‹æ€ç»ªï¼Œå¥½å¥½åšä¸€äº›å†…å®¹ã€‚ (å‚è§‚æ­å·è®¾è®¡å±•-ã€Šè·¨è¶Šç™¾å¹´çš„é èº¬ã€‹å°é™¶ç“·åˆ¶å“-æŠ—å‡»æ–°å† ä¸­å°ç”·å­©ä¸åŒ»æŠ¤äººå‘˜é èº¬çš„ç¬é—´)]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[1024ç»™è‡ªå·±çš„ç¤¼ç‰©]]></title>
    <url>%2F2020%2F10%2F25%2F1024%E7%BB%99%E8%87%AA%E5%B7%B1%E7%9A%84%E7%A4%BC%E7%89%A9%2F</url>
    <content type="text"><![CDATA[æ²¡é”™ï¼Œè„±å•äº†å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼ è¿™ä¸ªå¥³å­©å­ä¼šç»™æˆ‘å¸¦æ¥å¥½è¿çš„ï¼Œå¥½å¥½åŸ¹å…»å¥¹ï¼Œç”¨å¿ƒå»æµ‡çŒå¥¹ï¼Œå¥¹ä¼šæ„Ÿå—åˆ°çš„ã€‚ æ—å¥³å£«ï¼Œå¤šå¤šæŒ‡æ•™ï¼(ï½¡ï½¥Ï‰ï½¥ï½¡) (ç¬¬ä¸€æ¬¡é€èŠ±) (è¿™ä¸ªè¯¥æ­»çš„å¥³äºº)]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[tsä¸­ç©ºå€¼å¤„ç†]]></title>
    <url>%2F2020%2F10%2F21%2Fts%E4%B8%AD%E7%A9%BA%E5%80%BC%E5%A4%84%E7%90%86%2F</url>
    <content type="text"><![CDATA[!éç©ºæ–­è¨€æ“ä½œç¬¦æ–­è¨€ä¸ºéç©ºç”¨äºè¿‡æ»¤æ‰ç©ºå€¼ï¼Œåªæ˜¯åœ¨tsç±»å‹æ£€æµ‹å±‚é¢ä¸Šåšäº†ä¸æç¤ºï¼Œä»£ç æœ¬è´¨å¹¶æ²¡æœ‰ä»»ä½•ä¿®æ”¹ 123const p: Person | null = null;console.log(p!.name); ç»è¿‡tsçš„ç¼–è¯‘åï¼Œä¸ä¼šæœ‰ä»»ä½•å¤„ç† 12const p = null;console.log(p.name); ?.å¯é€‰è¿ç®—ç¬¦å¯é€‰é“¾ï¼Œåœ¨é‡åˆ°ç©ºå€¼æ—¶ï¼Œä¼šç«‹å³åœæ­¢è¡¨è¾¾å¼çš„æ‰§è¡Œï¼Œä»£ç æœ¬è´¨ä¼šåšä¸€äº›ä¿®æ”¹,å½“å¯é€‰é“¾ä¸­é€”æ–­å¼€çš„æ—¶å€™ï¼Œä¼šè¿”å›undefined 123const val = a?.bvar val = a === null || a === void 0 ? void 0 : a.b; åˆ©ç”¨å¯é€‰é“¾ï¼Œå¯ä»¥åšä¸€äº›æ·±å±‚æ¬¡çš„é€‰æ‹© 12// cityNameçš„ç±»å‹ä¸º string ï½œ undefinedconst cityName = p.city?.name ??ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦å½“æ“ä½œç¬¦å·¦è¾¹çš„å€¼ä¸ºnullæˆ–è€…ä¸ºundefinedæ—¶ï¼Œä¼šå–å³ä¾§çš„å€¼ï¼Œå¦åˆ™ä¼šè¿”å›å·¦ä¾§çš„å€¼/è¡¨è¾¾å¼çš„å€¼ tsæœ€ç»ˆä¼šç»è¿‡ä¸€æ¬¡ç¼–è¯‘ 123const val = a ?? 'default'const val = a !== null &amp;&amp; a !== void 0 ? a : 'default'; jsä¸­&amp;&amp;æ˜¯åˆ¤æ–­falsyçš„å€¼ï¼Œæ¯”å¦‚&#39;&#39;, 0, NaNä¸‰ä¸ªfalsyå€¼ï¼Œ&amp;&amp;ä¼šè®¤ä¸ºå¤±è´¥,è€Œ??ä¼šè®¤å®šä¸ºæˆåŠŸï¼Œä¹Ÿå³??æ˜¯ä¸ºåˆ¤æ–­å–å€¼è€Œè¯ç”Ÿçš„ 12345const foo = null ?? 'default string';console.log(foo); // è¾“å‡ºï¼š"default string" const baz = 0 ?? 42;console.log(baz); // è¾“å‡ºï¼š0 çŸ­è·¯æ•ˆæœ 12345678910111213function A() &#123; console.log('A was called'); return undefined;&#125;function B() &#123; console.log('B was called'); return false;&#125;function C() &#123; console.log('C was called'); return "foo";&#125; console.log(A() ?? C());console.log(B() ?? C());// A was called // C was called // foo // B was called // false å¯é…åˆå¯é€‰é“¾ï¼Œåšå»å‚æ•°çš„é»˜è®¤å€¼ ç”±äº?.æ“ä½œå–ä¸åˆ°å€¼æ—¶ä¼šè¿”å›undefinedï¼Œç¬¦åˆ??çš„åˆ¤å®šä¾æ® 12// å¦‚æœcustomCity.cityå–å€¼æˆåŠŸä¼šè¿”å›ï¼Œå¦‚æœå¤±è´¥ä¼šè¿”å›"Unknown city"const customCity = customer?.city ?? "Unknown city" ç±»å‹å»é™¤/å¢åŠ ç©ºå€¼1234567type Person = &#123; name: string; age?: number; &#125;type P1 = Partial&lt;Person&gt;&#123; name?: string; age?: number; &#125;type P2 = Required&lt;Person&gt;&#123; name: string; age: number; &#125; å‚æ•°å–é»˜è®¤å€¼ï¼Œä¸è¦åŠ ? 123456function foo(name: string, age: number = 18) &#123; console.log(name, age)&#125;foo('zhn', 20) // 'zhn', 20foo('zhn') // 'zhn', 18]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‘å¸ƒè®¢é˜…ä¸è§‚å¯Ÿè€…]]></title>
    <url>%2F2020%2F10%2F18%2F%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E4%B8%8E%E8%A7%82%E5%AF%9F%E8%80%85%2F</url>
    <content type="text"><![CDATA[å‘å¸ƒè®¢é˜…ä¸è§‚å¯Ÿè€…æ¨¡å¼æ€»æ˜¯è¢«æ··æ·†ï¼Œä¸å®¹æ˜“åˆ†è¾¨ï¼Œå…¶å®è¿™ä¸¤ç§æ¨¡å¼æœ€åˆéƒ½æ˜¯åŒä¸€ç§ï¼Œä¹‹åè¿›è¡Œäº†ä¸€äº›å‘å±•ä¸æ¼”å˜ï¼Œæ‰æœ‰äº†å‘å¸ƒè®¢é˜…è¿™ç§è§£è€¦çš„æ–¹å¼ï¼Œå°±è‡ªå·±çš„ç†è§£è°ˆä¸€è°ˆè¿™ä¸¤ç§æ–¹å¼çš„å…·ä½“åŒºåˆ«ã€‚ ä¸¤è€…çš„åŒºåˆ« å‘å¸ƒè®¢é˜…å¯ä»¥è¯´æ˜¯è§‚å¯Ÿè€…æ¨¡å¼çš„ä¸€ç§å‡çº§ è§‚å¯Ÿè€…æ¨¡å¼æ ¸å¿ƒæ˜¯æˆ‘çŸ¥é“ä½ çš„å­˜åœ¨ï¼Œå½“å‘ç”Ÿäº†å˜åŒ–æ—¶æˆ‘ç›´æ¥é€šçŸ¥å¤§å®¶å‘ç”Ÿçš„å˜åŒ–ã€‚ å‘å¸ƒè®¢é˜…æ¨¡å¼æ ¸å¿ƒæ˜¯æˆ‘ä¸çŸ¥é“å…¶ä»–äººæ˜¯å¦å­˜åœ¨ï¼Œæˆ‘éœ€è¦å‘Šè¯‰ç¬¬ä¸‰æ–¹æœ‰äº‹ä»¶äº†ï¼Œç¬¬ä¸‰æ–¹è´Ÿè´£å»é€šçŸ¥å„ä¸ªè®¢é˜…äººï¼ŒåŒç†å„ä¸ªè®¢é˜…äººä¹Ÿåªæ˜¯è®¢é˜…äº†ï¼Œå…·ä½“ä¼šä¸ä¼šå‘ç”Ÿè¿™ä¸ªäº‹ä»¶è®¢é˜…äººä¹Ÿä¸çŸ¥é“ã€‚ è§‚å¯Ÿè€…æ¨¡å¼æ˜¯æ¾è€¦åˆçš„ï¼Œå‘å¸ƒè®¢é˜…æ˜¯è§£è€¦åˆçš„ã€‚ è§£è€¦åˆå½“ç„¶æ˜¯å¥½äº‹æƒ…äº†ï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦å»çœ‹å…·ä½“çš„åœºæ™¯äº†ï¼Œå¦‚æœå½»åº•è§£è€¦å°±éœ€è¦ç¬¬ä¸‰æ–¹æ¥å¸®åŠ©æˆ‘ä»¬å¯¹æ¥ï¼Œé‚£ä¹ˆæ— ç–‘ä¼šå¢åŠ æˆ‘ä»¬çš„ä»£ç  å¦‚æœæ˜¯å¤§å‹ç³»ç»Ÿçš„å¯¹æ¥ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨è§£è€¦åˆçš„åœºæ™¯ï¼Œæœªæ¥æˆ‘ä»¬ä¹Ÿä¸çŸ¥é“ä¼šæœ‰é‚£äº›äººæ¥ä½¿ç”¨ï¼Œä¼šæœ‰è°æ¥å…¥è¿›æ¥ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªç¬¬ä¸‰æ–¹å¹³å°æ¥ç®¡æ§ï¼Œæ˜¯æ¯”è¾ƒä¾¿äºåç»­ç³»ç»Ÿçš„ç»§ç»­æ‹“å±•çš„ã€‚ å¦‚æœæ˜¯æˆ‘ä»¬è‡ªå·±å†…éƒ¨ä»£ç ï¼Œé‚£ä¹ˆæ¾è€¦åˆä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ï¼Œæˆ‘ä»¬åœ¨ç¼–å†™ä»£ç å°±èƒ½æŒæ§åˆ°å…¨å±€ï¼Œä¸ºäº†ä»£ç æ¨¡å—ä»Šåçš„æ‹“å±•æ€§ï¼Œé‡‡ç”¨æ¾è€¦åˆçš„æ–¹å¼ä¹Ÿå®Œå…¨æ˜¯okçš„ã€‚ å½“å‘ç”Ÿå–æ¶ˆæ“ä½œæ—¶ï¼ˆä¸è®¢é˜…ï¼‰ï¼Œè§‚å¯Ÿè€…æ¨¡å¼ä¸»ä½“æ˜¯éœ€è¦äº²è‡ªæ“ä½œçš„ï¼Œè€Œå‘å¸ƒè®¢é˜…æ¨¡å¼å‘å¸ƒè€…æ˜¯ä¸éœ€è¦æ„ŸçŸ¥çš„ã€‚ JSç®€å•å®ç°ä¸¤ç§æ–¹å¼ ç†Ÿæ‚‰tsï¼Œæ¨èä½¿ç”¨tså»å®ç°ï¼Œå¯¹äºç†è§£åŸç†ä¼šæ›´å¥½ä¸€ç‚¹ã€‚ è§‚å¯Ÿè€…æ¨¡å¼æ ¸å¿ƒä»£ç 1234567891011121314151617181920212223242526// è§‚å¯Ÿè€…class Observer &#123; update(payload) &#123; &#125;&#125;// äº‹ä»¶ä¸»ä½“class Subject &#123; constructor() &#123; this._observers = [] &#125; add(observer) &#123; this._observers.push(observer) &#125; remove(observer) &#123; const removeIndex = this._observers.indexOf(observer); if (removeIndex !== -1) &#123; this._observers.splice(removeIndex, 1); &#125; &#125; notify(payload) &#123; this._observers.forEach(observer =&gt; observer.update(payload)); &#125;&#125; ä½¿ç”¨ç¤ºä¾‹åˆ›å»ºä¸€ä¸ªå‰ç«¯ä¸»é¢˜ï¼Œå¹¶åˆ›å»ºå‡ºå¤šä¸ªå¼€å‘è€…ï¼Œæœ€ç»ˆå‰ç«¯æ›´æ–°ä¸»é¢˜ï¼Œç›´æ¥é€šçŸ¥åˆ°å¼€å‘è€… 1234567891011121314151617181920212223242526class FEObserver extends Observer &#123; constructor(name) &#123; super(); this.name = name; &#125; update(payload) &#123; console.log(`$&#123;this.name&#125;å­¦ä¹ äº†-$&#123;payload.type&#125;`); &#125;&#125;const feSubject = new Subject&lt;FEPayloadType&gt;();const fe1 = new FEObserver('fe1');const fe2 = new FEObserver('fe2');feSubject.add(fe1);feSubject.add(fe2);feSubject.notify(&#123; type: 'CSS' &#125;);// fe1å­¦ä¹ äº†-CSS// fe2å­¦ä¹ äº†-CSSfeSubject.remove(fe2);feSubject.notify(&#123; type: 'JS' &#125;);// fe1å­¦ä¹ äº†-JS å‘å¸ƒè®¢é˜…æ¨¡å¼æ ¸å¿ƒä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556class EventEmitter &#123; constructor() &#123; this.c = new Map(); &#125; // è®¢é˜…æŒ‡å®šçš„ä¸»é¢˜ subscribe(topic, ...handlers) &#123; let topics = this.c.get(topic); if (!topics) &#123; this.c.set(topic, topics = []); &#125; topics.push(...handlers); &#125; // å–æ¶ˆè®¢é˜…ä¸»é¢˜ unsubscribe(topic, handler) &#123; if (!handler) &#123; return this.c.delete(topic); &#125; const topics = this.c.get(topic); if (!topics) &#123; return false; &#125; const removeIndex = topics.indexOf(handler); if (removeIndex &lt; 0) &#123; return false; &#125; topics.splice(removeIndex, 1); if (topics.length === 0) &#123; this.c.delete(topic); &#125; return true; &#125; // å‘å¸ƒä¸»é¢˜ publish(topic, ...args) &#123; const topics = this.c.get(topic); if (!topics) &#123; return null; &#125; return topics.map(handler =&gt; &#123; try &#123; return handler(...args); &#125; catch (e) &#123; console.error(e); return null; &#125; &#125;); &#125;&#125; ä½¿ç”¨ç¤ºä¾‹åˆ›å»ºä¸€ä¸ªtså­¦ä¹ ä¸»é¢˜ï¼Œè¿›è¡Œä¸€ä¸‹è®¢é˜…ï¼Œä¹‹åç»Ÿä¸€å‘å¸ƒåˆ°EventCenter 123456789101112131415161718192021222324252627282930const eventCenter = new EventEmitter();const subscriberTs1 = (content) =&gt; &#123; console.log(`subscriberTs1 receive: $&#123;content&#125;`);&#125;;const subscriberTs2 = (content) =&gt; &#123; console.log(`subscriberTs2 receive: $&#123;content&#125;`);&#125;;// è®¢é˜…äº‹ä»¶eventCenter.subscribe('ts', subscriberTs1);eventCenter.subscribe('ts', subscriberTs2);// å‘å¸ƒäº‹ä»¶eventCenter.publish('ts', 'å‘å¸ƒäº†ä¸€ç¯‡tsæ–‡ç« ');// subscriberTs1 receive: å‘å¸ƒäº†ä¸€ç¯‡tsæ–‡ç« // subscriberTs2 receive: å‘å¸ƒäº†ä¸€ç¯‡tsæ–‡ç« // å–æ¶ˆè®¢é˜…eventCenter.unsubscribe('ts', subscriberTs1);// å‘å¸ƒäº‹ä»¶eventCenter.publish('ts', 'å‘å¸ƒäº†äºŒç¯‡tsæ–‡ç« ');// subscriberTs2 receive: å‘å¸ƒäº†äºŒç¯‡tsæ–‡ç« // å–æ¶ˆè®¢é˜…eventCenter.unsubscribe('ts');// å‘å¸ƒäº‹ä»¶eventCenter.publish('ts', 'å‘å¸ƒäº†ä¸‰ç¯‡tsæ–‡ç« ');]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Contextå¤„ç†Reactå…¨å±€å…±äº«æ•°æ®]]></title>
    <url>%2F2020%2F10%2F15%2F%E4%BD%BF%E7%94%A8Context%E5%A4%84%E7%90%86React%E5%85%A8%E5%B1%80%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE%2F</url>
    <content type="text"><![CDATA[æ¨èåœ¨FC(function component)ä¸­ä½¿ç”¨ï¼Œæ–‡ä¸­åŸºæœ¬ä¸ºFCç»„ä»¶ ä¹‹å‰çœ‹åˆ°è¿‡ä½¿ç”¨Contextå»ä¼˜é›…çš„ç®¡ç†å…¨å±€æ•°æ®ï¼Œè¿™é‡Œåšä¸€äº›åˆ†äº«ä¸ä»£ç ç»„ç»‡æ–¹å¼ ç”¨Contextç®¡ç†æ•°æ®ï¼Œæ›´è´´åˆ‡ReactåŸç”Ÿè¯­æ³•ï¼Œå¹¶ä¸”æ–°ç‰ˆContextAPIæ€§èƒ½ä¹Ÿå¾—ä»¥æå‡ï¼Œä¹‹å‰æ—§ç‰ˆçš„Contextå‘ç”Ÿæ”¹å˜æ—¶ï¼Œå¹¶ä¸èƒ½å‡†ç¡®çš„çŸ¥é“å…·ä½“æœ‰å“ªäº›å­ç»„ä»¶éœ€è¦æ›´æ–°ï¼Œéœ€è¦æ‰€æœ‰ç»„ä»¶æ›´æ–°ï¼ˆå†…éƒ¨ä¼šæœ‰å°ä¼˜åŒ–å»bailoutè·³è¿‡ï¼‰,æ–°ç‰ˆContextAPIæ›´å¤šåƒæ˜¯ä¸€ç§ä¾èµ–æ”¶é›†ï¼Œå°†Contextæ”¹å˜æŒ‚è½½åœ¨è¯¥ç»„ä»¶ä¸­ï¼Œå°±å¯ä»¥æ˜ç¡®çŸ¥é“è¿™ä¸ªç»„ä»¶çš„ä¾èµ–æ”¹å˜äº†ï¼Œå»æ›´æ–°ä»–ã€‚ (ä¸Šå›¾ä¸ºReactFiberå†…Contextä¾èµ–) Contextä½¿ç”¨å›é¡¾ä½¿ç”¨Contextå®ç°å…¨å±€ä¸»é¢˜ 12345678910111213// index.jsxconst ThemeContext = React.createContext('light');const Index = () =&gt; &#123; const [theme, setTheme] = React.useState('light'); return ( &lt;ThemeContext.Provider value=&#123;theme&#125;&gt; &lt;App /&gt; &lt;/ThemeContext.Provider&gt; )&#125; åœ¨æŸä¸€ä¸ªå…·ä½“å¯¹çš„buttonä¸­ä½¿ç”¨ 12345678910// Button.jsxconst Button = props =&gt; &#123; // å¯ç›´æ¥åœ¨è¯¥Buttonä¸­åº”ç”¨ä¸»é¢˜ const theme = React.useContext(ThemeContext) return ( &lt;button &#123;...props&#125; /&gt; )&#125; è¿™æ ·å°±é¿å…äº†ç»„ä»¶ä¸­å……æ»¡äº†æ— ç”¨çš„é€ä¼ ï¼Œä½¿ä»£ç å˜å¾—è¾ƒä¸ºç®€æ´ã€‚ é€šè¿‡Contextä¿®æ”¹å…¨å±€æ•°æ®æˆ‘ä»¬å°†çŠ¶æ€ç¼“å­˜åœ¨æœ€é¡¶éƒ¨ï¼Œå°†stateï¼Œä¸setStateéƒ½ä¼ é€’ä¸‹å»å³å¯ï¼Œå°±è¾¾åˆ°äº†ç¼“å­˜åœ¨è‡ªç»„ä»¶å†…ä¿®æ”¹å…¨å±€çŠ¶æ€ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647// CountStateContext.jsconst CountStateContext = React.createContext();// index.jsxconst Index = () =&gt; &#123; const [countState, setCountState] = React.useState(0) return ( &lt;CountStateContext.Provider value=&#123;[countState, setCountState]&#125;&gt; &lt;App /&gt; &lt;/CountStateContext.Provider&gt; )&#125;// Sub1.jsxconst Sub1 = () =&gt; &#123; const [countState, setCountState] = React.useContext(CountStateContext) return ( &lt;&gt; &lt;h1&gt;Count: &#123;countState&#125;&lt;/h1&gt; &lt;button onClick=&#123;() =&gt; &#123;setCountState(c =&gt; c + 1)&#125;&#125;&gt;Increment CountState&lt;/button&gt; &lt;/&gt; )&#125;// Sub2.jsxconst Sub2 = () =&gt; &#123; const [countState] = React.useContext(CountStateContext) return ( &lt;&gt; &lt;h1&gt;Count: &#123;countState&#125;&lt;/h1&gt; &lt;/&gt; )&#125;// Sub3.jsxconst Sub3 = () =&gt; &#123; const [, setCountState] = React.useContext(CountStateContext) return ( &lt;&gt; &lt;button onClick=&#123;() =&gt; &#123;setCountState(c =&gt; c + 1)&#125;&#125;&gt;Increment CountState&lt;/button&gt; &lt;/&gt; )&#125; Contextéƒ½ä¼ é€’ä¸‹å»çš„é—®é¢˜å°†ä¸€ä¸ªé¡¶å±‚çŠ¶æ€çš„stateä¸setStateéƒ½ä¼ é€’ä¸‹å»ï¼Œä½†æ˜¯ä¸ä¸€å®šåœ¨æ‰€æœ‰çš„è‡ªç»„ä»¶ä¸­éƒ½ä¼šç”¨åˆ°è¿™ä¸¤ä¸ªæ•°æ® æ¯”å¦‚æŸä¸ªè‡ªç»„ä»¶ä¸­å¯èƒ½åªæ˜¯å•çº¯æƒ³è¿›è¡Œä¸€ä¸ªæ•°æ®çš„ä¿®æ”¹ï¼Œä½†æ˜¯ç”±äºcontextä¸­åŒæ—¶ä¹Ÿä¾èµ–äº†state,æ‰€ä»¥å½“é¡¶å±‚ç»„ä»¶çš„stateå‘ç”Ÿæ”¹å˜æ—¶ï¼Œè¯¥ç»„ä»¶ä¹Ÿä¼šè¿›è¡Œä¸€æ¬¡é‡æ–°çš„æ¸²æŸ“ï¼Œé‚£è¿™æ ·å…¶å®ä¸ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸçš„ï¼Œæ‰€ä»¥å°±å°†Contextå­˜å‚¨çš„æ•°æ®æ‹†åˆ†ï¼Œé‚£æˆ‘ä»¬çš„æ ¸å¿ƒå°±æ˜¯è¯»å†™åˆ†ç¦»ï¼ å¯èƒ½ä¼šå‘ç”ŸContextå¥—å¨ƒï¼Œæ²¡å…³ç³»å…ˆæŠŠä¸»è¦é—®é¢˜è§£å†³äº† 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051// CountContext.jsconst CountContext = React.createContext();const SetCountContext = React.createContext();// index.jsxconst Index = () =&gt; &#123; const [count, setCount] = React.useState(0) return ( &lt;CountContext.Provider value=&#123;count&#125;&gt; &lt;SetCountContext.Provider value=&#123;setCount&#125;&gt; &lt;App /&gt; &lt;/SetCountContext.Provider&gt; &lt;/CountContext.Provider&gt; )&#125;// Sub1.jsxconst Sub1 = () =&gt; &#123; const count = React.useContext(CountContext) const setCount = React.useContext(SetCountContext) return ( &lt;&gt; &lt;h1&gt;Count: &#123;count&#125;&lt;/h1&gt; &lt;button onClick=&#123;() =&gt; &#123;setCount(c =&gt; c + 1)&#125;&#125;&gt;Increment CountState&lt;/button&gt; &lt;/&gt; )&#125;// Sub2.jsxconst Sub2 = () =&gt; &#123; const count = React.useContext(CountContext) return ( &lt;&gt; &lt;h1&gt;Count: &#123;count&#125;&lt;/h1&gt; &lt;/&gt; )&#125;// Sub3.jsxconst Sub3 = () =&gt; &#123; const setCount = React.useContext(SetCountContext) return ( &lt;&gt; &lt;button onClick=&#123;() =&gt; &#123;setCount(c =&gt; c + 1)&#125;&#125;&gt;Increment CountState&lt;/button&gt; &lt;/&gt; )&#125; å°†Contextå­˜å‚¨çš„æ•°æ®æŠ½ç¦»å‡ºæ¥ç›®å‰æ˜¯å°†æ‰€æœ‰çš„æ•°æ®éƒ½å­˜å‚¨åœ¨é¡¶å±‚ç»„ä»¶ä¸­çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰Hookså»å­˜å‚¨æˆ‘ä»¬çš„æ•°æ®ï¼Œæœ€ç»ˆé™„å¸¦åå‡ºä¸€ä¸ªå¸¦æœ‰Contextçš„ç»„ä»¶å³å¯ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152// CountContext.jsxconst CountContext = React.createContext();const SetCountContext = React.createContext();function useCount() &#123; return React.useContext(CountContext)&#125;function useSetCount() &#123; return React.useContext(SetCountContext)&#125;function CountStoreProvider(&#123; children &#125;) &#123; const [count, setCount] = React.useState() return ( &lt;CountContext.Provider value=&#123;count&#125;&gt; &lt;SetCountContext.Provider value=&#123;setCount&#125;&gt; &#123;children&#125; &lt;/SetCountContext.Provider&gt; &lt;/CountContext.Provider&gt; )&#125;export &#123; useCount, useSetCount, CountStoreProvider &#125;// index.jsximport &#123; CountStoreProvider &#125; from './CountContext'const Index = () =&gt; &#123; return ( &lt;CountStoreProvider&gt; &lt;App /&gt; &lt;/CountStoreProvider&gt; )&#125;// Sub1.jsximport &#123; useCount, useSetCount &#125; from './CountContext'const Sub1 = () =&gt; &#123; const count = useCount() const setCount = useSetCount() return ( &lt;&gt; &lt;h1&gt;Count: &#123;count&#125;&lt;/h1&gt; &lt;button onClick=&#123;() =&gt; &#123;setCount(c =&gt; c + 1)&#125;&#125;&gt;Increment CountState&lt;/button&gt; &lt;/&gt; )&#125; æœ€ç»ˆæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç±»ä¼¼storeçš„ç»„ä»¶ï¼Œå³CountContext,ä¹‹åä¾¿å¯ä»¥æ–¹ä¾¿çš„ä¿®æ”¹æˆ‘ä»¬çš„æ•°æ®ï¼Œå°†æ­¤Contextå†…éƒ¨çš„æ•°æ®éƒ½å°è£…åœ¨è‡ªå®šä¹‰Hookså†…éƒ¨ï¼Œä¹Ÿå‡å°‘äº†å¯¹å¤–éƒ¨ä»£ç çš„ä¾µå…¥ï¼Œä½¿ç”¨èµ·æ¥æ¯”è¾ƒç®€æ´ã€‚ é…åˆReducerä½¿ç”¨å‰é¢ä¸€ç›´ä½¿ç”¨useState,é‚£ä¹ˆå°†å…¶å­˜å‚¨ä¸ºuseReducerä½¿ç”¨èŒƒå›´ä¼šæ›´å¹¿ï¼Œé‚£ä¹ˆå°†Contextä¸­å­˜å‚¨çš„æ•°æ®ä¿®æ”¹ä¸ºreducerä¼šæ›´åŠ ä¼˜é›…ä¸€ç‚¹ï¼Œè¿™ä¸€éƒ¨åˆ†å°±ç•™ç»™å¤§å®¶å»æ”¹é€ äº†ã€‚ åœ¨çº¿å®ä¾‹ å¦å¤–æ–‡ä¸­ä¸€ç›´å°è¯•çš„ä¿®æ”¹æ•°æ®ä¸ºåŒæ­¥çš„ï¼Œå¦‚æœæœ‰å¼‚æ­¥çš„æ•°æ®ä¿®æ”¹ï¼Œæ˜¯å°†å…¶åœ¨Reactç»„ä»¶å†…éƒ¨å¤„ç†å¥½ï¼Œå†åŒæ­¥çš„dispatchå‡ºå»ï¼Œè¿˜æ˜¯å¯ä»¥åœ¨contextç»„ä»¶å†…éƒ¨å»åšæ›´å¤šå¼‚æ­¥çš„å¤„ç†ï¼Œéœ€è¦å¤§å®¶è‡ªå·±å»å®è·µäº†ã€‚]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[link-npmåŒ…]]></title>
    <url>%2F2020%2F10%2F12%2Flink-npm%E5%8C%85%2F</url>
    <content type="text"><![CDATA[å¯ä½¿ç”¨ yarn link æˆ–è€… npm link ä¸€èˆ¬ç”¨äºæœ¬åœ°å¼€å‘ï¼Œå°†npmåŒ…å¼•å…¥åˆ°é¡¹ç›®ä¸­ï¼Œè€Œä¸ç”¨å‘å¸ƒåˆ°npmä»“åº“ä¸­ï¼Œç›´æ¥è¿›è¡Œæœ¬åœ°çš„ä¸€ä¸ªlink(å®é™…ä¸ºä¸€ä¸ªè½¯è¿æ¥)ï¼Œè¿›è¡Œå¼•ç”¨å³å¯ã€‚ å¼•åŒ…åŸç†npmå¼•å…¥åŒ…çš„æ—¶å€™ï¼Œåªè¦å­˜åœ¨äºnode_modulesç›®å½•ä¸­ï¼Œï¼ˆè¿˜éœ€è¦åœ¨åˆ›å»ºåŒ…çš„ç›®å½•ä¸­æ·»åŠ package.jsonï¼‰å°±å¯ä»¥åœ¨é¡¹ç›®ä¸­å¼•å…¥åˆ°ã€‚ä¹Ÿå°±æ˜¯è¯´åªè¦node_modulesä¸­å­˜åœ¨ç¬¦åˆè§„åˆ™çš„ç›®å½•ï¼Œä¸éœ€è¦npm installä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚ å¯ä»¥åœ¨ä¸€ä¸ªé¡¹ç›®çš„node_modulesä¸­å¼•å…¥ä¸€ä¸ªè½¯è¿æ¥ï¼Œè¿™æ ·ï¼Œåº”ç”¨åˆ°çš„åŒ…å³ä¸ºæœ€æ–°çš„npmåŒ…ã€‚ åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªlinkåŒ…12345â”œâ”€â”€ ./libâ”‚ â””â”€â”€ ./lib/math.jsâ”œâ”€â”€ ./srcâ”‚ â””â”€â”€ ./src/index.jsâ””â”€â”€ ./package.json åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼ˆä¸package.jsonåŒçº§çš„ç›®å½•ï¼‰npm linkæˆ–è€…yarn linkï¼Œå°†è¯¥åŒ…linkåˆ°å…¨å±€åŒ… åœ¨æœ¬åœ°å–æ¶ˆlinkåŒ…åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼ˆä¸package.jsonåŒçº§çš„ç›®å½•ï¼‰npm unlinkæˆ–è€…yarn unlinkï¼Œå°†è¯¥åŒ…å–æ¶ˆè½¯è¿æ¥ å¼•å…¥è¯¥linkåŒ…åœ¨è¦éœ€è¦ä½¿ç”¨é¡¹ç›®å†…è¿›è¡Œå…³è”npm link &lt;module-link-name&gt;ï¼Œä¹‹ååœ¨è¯¥é¡¹ç›®ä¸­çš„node_nodulesä¸­æœ‰äº†ä¸€ä¸ªè½¯è¿æ¥ï¼Œç›´æ¥æŒ‡å‘ç›®æ ‡åŒ… ä¹‹åä½¿ç”¨çš„æ–¹å¼å’Œæ­£å¸¸ä½¿ç”¨æ–¹å¼ä¸€æ ·ï¼Œimport &lt;module-link-name&gt; å–æ¶ˆå…³è”åœ¨éœ€è¦å–æ¶ˆçš„ç›®å½•ä¸­,æ‰§è¡Œnpm unlink &lt;module-link-name&gt;,å³å¯å–æ¶ˆè¯¥è½¯è¿æ¥]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŠ æ²¹,China]]></title>
    <url>%2F2020%2F09%2F03%2F%E5%8A%A0%E6%B2%B9-China%2F</url>
    <content type="text"><![CDATA[åŠ æ²¹ï¼Œä¸­å›½ï¼Œä¸€èµ·å…±åº¦éš¾å…³ï¼ğŸ‡¨ğŸ‡³ğŸ‡¨ğŸ‡³ğŸ‡¨ğŸ‡³]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è½¬æ¢hooksçš„å¼€å‘å»ºè®®]]></title>
    <url>%2F2020%2F08%2F28%2F%E8%BD%AC%E6%8D%A2hooks%E7%9A%84%E5%BC%80%E5%8F%91%E5%BB%BA%E8%AE%AE%2F</url>
    <content type="text"><![CDATA[åŒå­¦ï¼Œè¿˜ä¸è¯•ä¸€æŠŠReact-hookså—ï¼Ÿ ä½¿ç”¨hookså¼€å‘æœ‰ä¸€é˜µæ—¶é—´äº†ï¼Œå‡ ä¹æ˜¯ä»æ¨å‡ºåå°±å°è¯•ä½¿ç”¨ï¼Œä¸€è·¯èµ°æ¥ï¼Œä¸€é¡¿æ¯’æ‰“ï¼Œè¸©äº†ä¸å°‘å‘ï¼Œä¹Ÿé€æ¸ä½“ä¼šåˆ°äº†hooksæ¨¡å¼ä¸‹ï¼Œå¼€å‘æ–¹å¼çš„å˜åŒ–ï¼Œä¸å¾—ä¸è¯´è¿˜æ˜¯è¦å¹ä¸€æ³¢çš„ã€‚ æ¥è§¦åˆ°çš„æœ€å¼€å§‹å°±æ˜¯MaterialUIäº†ï¼Œå½“æ—¶hooksæ¨¡å¼æ­£å¼å‘å¸ƒåï¼ŒMaterialUIä¹Ÿæ¨äº†ä¸€ç‰ˆï¼Œå¹¶ä¸”å®˜æ–¹æ–‡æ¡£å°±å·²ç»ä½¿ç”¨åˆ°äº†hooksï¼Œå½“æ—¶ä»¥ä¸ºhookså°±æ˜¯å­˜ä¸ªstateï¼Œåæ¥å‘ç°å®Œå…¨æ˜¯å¦ä¸€ç§å¼€å‘ç»„ä»¶çš„æ€æƒ³ã€‚ æœ¬ç¯‡åªæ˜¯å¸Œæœ›ç»™åŒå­¦ä»¬æä¾›ä¸€äº›ä¸ä¸€æ ·çš„å¼€å‘æ€è·¯ï¼Œæ›´å¤šæ˜¯å’Œå¤§å®¶è®¨è®ºä¸€ä¸‹hooksæ¨¡å¼ï¼Œæ¶‰åŠåˆ°å…·ä½“çš„apiä½¿ç”¨ï¼ŒåŠæ›´æ·±å…¥å¯å»React-Hookså­¦ä¹ ã€‚ Hooksæ¨¡å¼ä»‹ç»2019å¹´ç¬¬ä¸€å­£åº¦,React16.7æ­£å¼å‘å¸ƒï¼ŒHooksæ¨¡å¼ä¹Ÿå¯ä»¥ç”¨äºç”Ÿäº§ç¯å¢ƒä¸­ï¼Œ é¦–å…ˆå¿…é¡»è¦æ˜ç¡®çš„ä¸€ç‚¹ï¼Œhooksæ˜¯åœ¨functionç»„ä»¶ä¸­ä½¿ç”¨çš„ï¼Œæ‰€ä»¥å‡½æ•°å¼ç»„ä»¶çš„ä½¿ç”¨æ˜¯ç›´æ¥è°ƒç”¨çš„ï¼Œæ¯”å¦‚ 1234// React 16.13.0 ReactFiberHooks.new.js// Componentå³jsxè½¬æ¢åä¼ é€’çš„ Functionç»„ä»¶çš„å¼•ç”¨let children = Component(props, secondArg); ä½†æ˜¯åŸºäºReactFiberæ¶æ„ï¼Œå³æœ‰äº†ä¸ºFunctionç»„ä»¶æ‹“å±•çš„å¯èƒ½ï¼Œåœ¨fiberä¸ŠæŒ‚è½½ä¸€ä¸ªhooksçš„é“¾ ä¸ªäººè®¤ä¸ºï¼Œå‘å¸ƒçš„hooksä¸»è¦åˆ†ä¸ºä¸‰å¤§å—æ–¹å‘ å­˜å‚¨æ•°æ®å‹ ï¼ˆuseState, useReducer â€¦ï¼‰ ä¸»è¦è´Ÿè´£å°†æ•°æ®å’Œâ€™ç”Ÿå‘½å‘¨æœŸâ€™è¿æ¥èµ·æ¥ï¼Œæœ‰äº†åŒclassç»„ä»¶ç±»ä¼¼çš„this.stateåŠŸèƒ½ï¼Œèƒ½å¤Ÿæ»¡è¶³å‡½æ•°å¼ç»„ä»¶è‡ªå·±å®šä¹‰çŠ¶æ€çš„èƒ½åŠ›ã€‚ è¾…åŠ©è®°å¿†å‹ ï¼ˆuseMemo, useCallback â€¦ï¼‰ ç”±äºå‡½æ•°å¼ç»„ä»¶æ¯æ¬¡éƒ½æ˜¯é‡æ–°æ‰§è¡Œä¸€é,æ‰€ä»¥è‡ªå·±å­˜å‚¨çš„ä¸€äº›æ•°æ®ä¼šä¸¢å¤±ï¼Œéœ€è¦é‡æ–°æ¥ä¸€æ¬¡ï¼Œæ¯”å¦‚ä½¿ç”¨åˆ°äº†ä¸€ä¸ªè®¡ç®—è¾ƒä¸ºæ˜‚è´µçš„å€¼ï¼Œå°±å¯ä»¥ä½¿ç”¨è¯¥å‡½æ•°ç¼“å­˜èµ·æ¥ã€‚ å·¥å…·å‹ ï¼ˆuseEffect, useRef, useContext â€¦ï¼‰ ä½¿å¾—å‡½æ•°å¼ç»„ä»¶æœ‰äº†èƒ½å¤Ÿå’ŒReactå†…éƒ¨æœ‰äº†å…³è”ï¼Œæ¯”å¦‚èƒ½å¤Ÿå¯¹æ•°æ®ç”Ÿå‘½å‘¨æœŸæ§åˆ¶ï¼Œæˆ–è€…èƒ½å¤Ÿè·å–åˆ°ä¸Šä¸‹æ–‡Context,æˆ–æ˜¯å­˜å‚¨refå¯¹è±¡ Hooksè§£å†³äº†ä»€ä¹ˆhookså¼€å‘æ—¶æœ‰ä¸¤ç‚¹æ„Ÿè§‰è¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œèƒ½å’Œä¹‹å‰classç»„ä»¶æœ‰ä¸åŒçš„å¼€å‘æ–¹å¼ ä»¥æ•°æ®ä¸ºç”Ÿå‘½å‘¨æœŸä¹‹å‰ä½¿ç”¨classç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä»¥æ•´ä¸ªç»„ä»¶çš„å‘¨æœŸå»ç»Ÿæ½æˆ‘ä»¬çš„å„ä¸ªæ•°æ®ï¼Œåº”è¯¥åœ¨è¿™ä¸ªç»„ä»¶ä»€ä¹ˆç”Ÿå‘½å‘¨æœŸå»æ“ä½œä»–ï¼Œä½¿ç”¨å®ƒï¼ŒåŒæ ·çš„,æˆ‘ä»¬çš„æ ¸å¿ƒæ˜¯ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‰€æœ‰æ•°æ®è¦åº”ç”¨åˆ°ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¿™å°±æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å…¶å®æ›´åŠ å…³å¿ƒçš„æ˜¯è¿™ä¸ªæ•°æ®çš„ç”Ÿå‘½å‘¨æœŸã€‚ æ¯”å¦‚æˆ‘ä»¬å±•ç¤ºä¸€ä¸ªå¥½å‹åˆ—è¡¨ï¼Œå¦‚æœå½“å‰æ²¡æ•°æ®ï¼Œæˆ‘ä»¬å»ä»æœåŠ¡ç«¯æ‹‰èµ·æ•°æ®ï¼ŒåŒæ ·çš„ï¼Œå¦‚æœè¿™ä¸ªæ•°æ®å‘ç”Ÿäº†æ”¹å˜ï¼Œéœ€è¦æ›´æ–°å¥½å‹åˆ—è¡¨æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä»æœåŠ¡ç«¯æ‹‰å–æ•°æ®ã€‚é‚£ä¹ˆå®é™…ä¸Šï¼Œæˆ‘ä»¬å°±æ˜¯åœ¨çœ‹è¿™ä¸ªå¥½å‹åˆ—è¡¨ï¼Œè€Œä¸”æœ€ç»ˆååº”åˆ°ç•Œé¢ï¼Œæ›´ä¸çŸ¥é“ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€å‘ç”Ÿäº†æ”¹å˜ã€‚ hooksæ¨¡å¼ä¸‹ï¼Œåˆ™å®Œå…¨å˜æˆäº†æˆ‘ä»¬å¯¹ä¸€ä¸ªæ•°æ®çš„ç”Ÿå‘½å‘¨æœŸçš„æ“ä½œï¼Œä¸ç®¡å½“å‰è¿™ä¸ªç»„ä»¶æ˜¯ä»€ä¹ˆçŠ¶æ€ï¼Œåªå…³å¿ƒæœ€ç»ˆå‘ˆç°åˆ°é¡µé¢ä¸Šï¼Œè¿™ä¹Ÿæ›´ç¬¦åˆæˆ‘ä»¬çš„æ€è€ƒé€»è¾‘ï¼ŒåŒæ—¶ä¹Ÿå¯¹å¼€å‘è€…æ›´åŠ å‹å¥½ï¼Œå‡å°‘bugçš„æœ€å¥½æ–¹å¼å°±æ˜¯å°‘å†™ä»£ç ã€‚ ä»¥æœç´¢æ¡†ä¸¾ä¾‹æˆ‘ä»¬éœ€è¦é€šè¿‡ä¸€ä¸ªæœç´¢æ¡†ä¸­å†…å®¹çš„æ”¹å˜åšä¸€äº›æ ¡éªŒ Classç»„ä»¶ä¸­ 123456789101112131415161718192021this.state = &#123; search: 'defaultValue', resultList: [],&#125;// ä¸ºäº†æ”¾å¤§é—®é¢˜ï¼Œä½¿ç”¨é—´æ¥çš„æ–¹å¼ä¿®æ”¹resultlistcomponentDidUpdate(prevState) &#123; if (prevState.search !== this.state.search) &#123; this.setState(&#123; resultList: fetchData(this.search) &#125;) &#125;&#125;// ç»„ä»¶æŒ‚è½½å¥½ï¼Œå»ä¿®æ”¹é»˜è®¤æœç´¢å†…å®¹componentDidMount()&#123; this.setState(&#123; resultList: fetchData(this.search) &#125;)&#125; Functionç»„ä»¶ä¸­ 1234567// è®¾å®šsearchæœç´¢æ¡†ä¸­çš„å†…å®¹çŠ¶æ€const [search, setSearch] = React.useState('defaultValue')// å½“searchå†…å®¹å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ›´æ–°ç»“æœåˆ—è¡¨const [resultList, setResultList] = React.useState([])React.useEffect(() =&gt; &#123; setResultList(fetchResult(search))&#125;, [search]) é€»è¾‘æ›´ä¸ºé›†ä¸­å½“æ—¶ç”¨äº†classç»„ä»¶æ—¶ï¼Œå¤§éƒ¨åˆ†é€»è¾‘æ˜¯å¤„äºåˆ†æ•£åœ¨å„ä¸ªç”Ÿå‘½å‘¨æœŸå†…çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„ç±»ï¼Œæ‰€ä»¥å¿…é¡»æ˜¯ä¸€ä¸ªä¸ªæ–¹æ³•ï¼Œå¦‚æœåˆè¦é…åˆç”Ÿå‘½å‘¨æœŸä½¿ç”¨ï¼Œé‚£ä¹ˆstate+logic+lifecycleä¼šåˆ†æ•£å‡ºæ¥ï¼Œç„¶è€Œå¤§éƒ¨åˆ†ç»„ä»¶å†…çŠ¶æ€çš„ç®¡ç†éƒ½ä¼šä½¿ç”¨åˆ°è¿™ä¸‰ä¸ªæ–¹å¼ï¼Œèƒ½å°†æŸä¸€éƒ¨åˆ†é›†ä¸­èµ·æ¥ï¼Œä»£ç é‡å†å¤šçš„æƒ…å†µä¸‹ï¼Œä¹Ÿä¼šæ›´å¥½çš„æ‹†åˆ†å‡ºæ¥ã€‚ hookså¼€å‘ç›¸å…³å»ºè®® hooksä¸æ­¢æ˜¯å­˜å‚¨äº†this.state/this.setState æ— éœ€åˆ»æ„åœ¨functionç»„ä»¶ä¸­æ¨¡æ‹Ÿclassçš„å‘¨æœŸå¦‚æœçœŸçš„éœ€è¦classç»„ä»¶å‘¨æœŸä½¿ç”¨çš„ï¼Œé‚£ä¹ˆä½¿ç”¨classç»„ä»¶æ˜¯æ›´å¥½çš„æ–¹å¼ã€‚ å¤§éƒ¨åˆ†äººä¼šæ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸï¼Œæ¯”è¾ƒæ˜æ˜¾çš„å°±æ˜¯didMount 123React.useEffect(() =&gt; &#123; // æ¨¡æ‹ŸcomponentDidMount&#125;, []) å…¶å®å¯ä»¥å†™å¾ˆå¤šä¸ªï¼Œå†…éƒ¨ä½¿ç”¨ä¾èµ–è¿›è¡Œæ¯”è¾ƒï¼Œä¸€ä¸ªç©ºçš„ä¾èµ–å§‹ç»ˆéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥åªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚ 123456789101112// nameç›¸å…³æ“ä½œconst [name, setName] = React.useState('')React.useEffect(() =&gt; &#123; // åˆå§‹åŒ–nameæ“ä½œ...&#125;, [])// ageç›¸å…³æ“ä½œconst [age, setAge] = React.useState(0)React.useEffect(() =&gt; &#123; // åˆå§‹åŒ–ageæ“ä½œ...&#125;, []) ä½¿ç”¨callbackæ—¶çš„é—­åŒ…å½“ä½¿ç”¨callbackï¼Œä»–ä¼šç¼“å­˜å½“å‰çš„æ‰§è¡Œæ ˆç›¸å…³çš„ä¿¡æ¯ï¼Œè¿™é‡Œçš„ç¼“å­˜å¦‚æœæ§åˆ¶ä¸å¥½ä¾èµ–ï¼Œå°±å®¹æ˜“é€ æˆå¾ˆå¤§çš„é—®é¢˜ï¼ŒåŒæ ·çš„windowè‡ªå¸¦çš„setTimeout,setIntervalä¹Ÿä¼šæœ‰ç›¸å…³çš„é—®é¢˜ã€‚ æ¯”å¦‚æˆ‘ä»¬éœ€è¦åœ¨ç»„ä»¶æŒ‚è½½3såæ‰“å°å½“å‰çš„stateçŠ¶æ€ 12345678910111213const [count, setCount] = React.useState(0)React.useEffect(() =&gt; &#123; const timer = setTimeout(() =&gt; &#123; console.log(count) &#125;, 3000) // æ ¹æ®éœ€è¦è¿›è¡Œå¸è½½ return () =&gt; &#123; clearTimeout(timer) &#125;&#125;, [])return ( &lt;button onClick=&#123;() =&gt; &#123; setCount(count + 1) &#125;&#125;&gt;increment&lt;/button&gt;) å³ä½¿åŒæ ·éƒ½æ˜¯ç”¨åˆ°äº†count,å¤šæ¬¡ç‚¹å‡»æŒ‰é’®ï¼Œå‘ç°3sé’Ÿåæ‰“å°å‡ºçš„countè¿˜æ˜¯0,å› ä¸ºåˆ›å»ºæ—¶å·²ç»ç»‘å®šäº†ç¯å¢ƒï¼ŒåŠcountå·²ç»ä¸º0äº†ï¼Œï¼ˆä½¿ç”¨classç»„ä»¶å¹¶æ²¡ä½“ç°å‡ºæ¥ï¼Œthis.state.countï¼Œä¸€ä¸²å¼•ç”¨ï¼‰ ä½¿ç”¨å¼•ç”¨å»è§£å†³å¼•ç”¨,ref 1234567891011121314const [count, setCount] = React.useState(0)const callbackRef = React.useRef()React.useEffect(() =&gt; &#123; callbackRef.current = () =&gt; &#123; console.log(count) &#125;&#125;, [count])React.useEffect(() =&gt; &#123; setTimeout(() =&gt; &#123; callbackRef.current() &#125;, 3000)&#125;, []) æœ€ç»ˆç”±äºcountçš„æ”¹å˜ï¼Œä¿®æ”¹äº†callbackRefçš„currentï¼Œå¹¶ä¸”timeoutç»‘å®šçš„æ˜¯æ‰§è¡Œæ ˆçš„callbackRef,ç„¶è€Œä»–çš„refå·²ç»è¢«è·Ÿæ–°äº† ä¸è¦æ¬ºéª—ä½ çš„hookshooksçš„ä¾èµ–é¡¹å†³å®šäº†å½“å‰è¿™ä¸ªhooksæ˜¯å¦åœ¨ç»„ä»¶æ¸²æŸ“æ—¶é‡æ–°æ›´æ–°ï¼Œå³ç»‘å®šäº†ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­çš„å˜é‡ï¼Œæ‰€ä»¥å½“ä»–ç¼“å­˜èµ·æ¥æ—¶ï¼Œå°±å·²ç»å†³å®šäº†å†…éƒ¨çš„å„ç§stateå€¼ï¼Œå¯ä»¥è¯´å·²ç»è¢«æ›¿æ¢ä¸ºç›¸åº”çš„æ•°å€¼ï¼Œä¸å†æ˜¯ä¸€ä¸ªå˜é‡äº†ã€‚ 12345678910// ç»„ä»¶ç”³æ˜æ—¶const [count, setCount] = React.useState(0)React.useEffect(() =&gt; &#123; // count ...&#125;, [])// åç»­ç»„ä»¶è¢«ç¼“å­˜ï¼Œå¯ä»¥ç†è§£ä¸ºReact.useEffect(() =&gt; &#123; // 0 ...&#125;, []) å½“ä½¿ç”¨å„ç§callbackå»ä¼˜åŒ–æ—¶ï¼Œä¸€å®šè¦æ³¨æ„ä½¿ç”¨çš„ä¾èµ–æ˜¯å¦æ­£ç¡® hooksæ”¾ç½®åœ¨å‡½æ•°ç»„ä»¶é¡¶éƒ¨ å®˜æ–¹è¯´æ˜ hookså†…éƒ¨çš„å®ç°æ˜¯æŒ‚è½½äºfiberå†…çš„ä¸€ä¸ªé“¾è¡¨ï¼Œæ— è®ºæ˜¯useState,è¿˜æ˜¯useEffectç­‰ï¼ŒReactæ— æ³•ç”¨ä¸€ä¸ªæ˜æ˜¾çš„keyå€¼å»åŒºåˆ†æŒ‚è½½äºfiberä¸Šçš„å…·ä½“å“ªä¸€ä¸ªèŠ‚ç‚¹å¯¹åº”å“ªä¸€ä¸ªhooksï¼Œä½¿ç”¨ä»–ä»¬çš„é¡ºåºindexä¹Ÿå°±æˆäº†ç›®å‰æœ€å¥½çš„é€‰æ‹© 123456789const [count, setCount] = React.useState()React.useEffect(() =&gt; &#123; // ....&#125;, [])const price = React.useMemo(() =&gt; &#123; // ....ä»·æ ¼ç”±ä¸€å †å¤æ‚æŠ˜æ‰£è®¡ç®—è€Œæ¥ï¼Œ f(discount)&#125;, [ discount ]) ä¹‹åæŒ‚è½½ä¸è¯¥Fiberä¸Šçš„hooksé“¾è¡¨å¤§è‡´ä¸º 12345&#123; (countä»£è¡¨çš„useState) , next-&gt;(useEffect)&#125;&#123; (useEffect) , next-&gt;(useEffect)&#125;&#123; (countä»£è¡¨çš„useState) , next-&gt;(priceä»£è¡¨çš„useMemo)&#125;&#123; (priceä»£è¡¨çš„useMemo) , next-&gt;(null)&#125; æ­£å¸¸æƒ…å†µReactå†æ¬¡æ¸²æŸ“æ—¶ï¼Œæ ¹æ®å‡ºç°çš„é¡ºåºï¼Œå°†Fiberä¸Šè®°å¿†çš„æ¯ä¸€ä¸ªhooksï¼Œä¾æ®é¡ºåºå»èµ‹å€¼æ“ä½œï¼Œæ­£å¥½ä¹Ÿæ˜¯å¯¹ä¸Šçš„ å¦‚æœæœ‰hookså‰åå‡ºç°é¡ºåºä¸ä¸€è‡´ï¼Œåˆ™ä¼šå‡ºç°å†æ¬¡æ¸²æŸ“æ—¶å¯¹ä¸ä¸Šï¼Œå¯¼è‡´hooksè°ƒç”¨é”™è¯¯ 123456// é”™è¯¯å†™æ³•if (!isLogin) &#123; React.useEffect(() =&gt; &#123; // ..... &#125;, [])&#125; è¿™é‡Œæƒ³è¡¨ç¤ºï¼ŒæŸä¸€ä¸ªeffecté€»è¾‘åªåœ¨ç™»é™†æ—¶åšæ£€æŸ¥ï¼Œä½†æ˜¯ç”±äºå½“å‰è¿™ä¸ªhooksï¼ˆuseEffectï¼‰æ˜¯è¢«åµŒå¥—çš„ï¼Œå¾ˆå¯èƒ½å‡ºç°è¯¥hooksåœ¨å‡½æ•°å†…çš„æ‰§è¡Œé¡ºåºä¸ä¸€è‡´ isLogin == true hookså¯¹åº”æƒ…å†µ 123const [count, setCount] ----&gt; React.useState æ‰§è¡Œç›¸å…³effectå†…éƒ¨æ–¹æ³• ----&gt; React.useEffectconst price ----&gt; React.useMemo isLogin == false hookså¯¹åº”æƒ…å†µ 12const [count, setCount] ----&gt; React.useStateconst price ----&gt; React.useEffect è¿™æ—¶å‡ºç°äº†ï¼Œå¯¹ä¸ä¸Šhookså­˜å‚¨çš„ç›¸å…³æ•°æ®ä¸å…¶å¯¹åº”çš„ä½¿ç”¨å‘ç”Ÿäº†é”™è¯¯ï¼Œå³å‡ºç°äº†é—®é¢˜ æ­£ç¡®çš„ä½¿ç”¨æ–¹å¼ å°†åˆ¤æ–­é€»è¾‘ï¼ŒåµŒå¥—å†…ç½®ä¸hookså†…éƒ¨ 123456React.useEffect(() =&gt; &#123; if (!isLogin) &#123; // ..... &#125;&#125;, []) æ— è®ºç¨‹åºæ‰§è¡ŒçŠ¶å†µæ˜¯æ€æ ·çš„ï¼Œæœ€ç»ˆéƒ½æ˜¯ç¨³å®šï¼Œæ­£ç¡®çš„hooksè°ƒç”¨å…³ç³» 123const [count, setCount] ----&gt; React.useState æ‰§è¡Œç›¸å…³effectå†…éƒ¨æ–¹æ³• ----&gt; React.useEffectconst price ----&gt; React.useMemo éœ€è¦ç«‹åˆ»æ›¿æ¢hookså—å¯ä»¥ç€æ‰‹äºæ–°çš„ç»„ä»¶ä½¿ç”¨hooksæ¨¡å¼ï¼ˆå¦‚æœå–œæ¬¢è¿™ç§å¼€å‘æ–¹å¼ï¼‰ï¼Œhooksæ¨¡å¼ä¸classæ¨¡å¼æ˜¯å¯ä»¥å…±å­˜çš„ï¼Œæ‰€ä»¥å¹¶ä¸ç”¨ç€åŠ›å»ä¿®æ”¹ã€‚]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Objectä¸Mapçš„é€‰ç”¨]]></title>
    <url>%2F2020%2F08%2F28%2FObject%E4%B8%8EMap%E7%9A%84%E9%80%89%E7%94%A8%2F</url>
    <content type="text"><![CDATA[12const obj = &#123;&#125;const map = new Map(); å„è‡ªçš„ç‰¹ç‚¹ Map Object é»˜è®¤å€¼ ä¸åŒ…å«ä»»ä½•çš„å€¼ï¼Œåªæœ‰æ˜¾å¼æ’å…¥çš„é”® Objectä¸Šæœ‰åŸå‹ï¼ŒåŸå‹ä¸Šçš„é”®å¯èƒ½ä¼šä¸è‡ªå®šä¹‰é”®åå†²çª keyç±»å‹ ä»»æ„çš„ç±»å‹ String æˆ–è€…Symbol é•¿åº¦ é€šè¿‡å±æ€§sizeè·å– é”®å€¼ä¸ªæ•°åªèƒ½æ‰‹åŠ¨è®¡ç®— æ€§èƒ½ é¢‘ç¹å¢åˆ é”®å€¼å¯¹æœ‰ä¸€å®šçš„æ€§èƒ½ä¼˜åŒ– å¯¹é¢‘ç¹å¢æ·»åœºæ™¯æœªè¿›è¡Œä¼˜åŒ– Object æœ‰åŸç”Ÿçš„JSONç›¸å…³è½¬æ¢æ–¹æ³•ï¼Œå¯ä»¥æ›´æ–¹é¢çš„è½¬æ¢ä¸ºjsonä¸² å…¶keyéœ€ä¸ºstring,symbolç›¸å¯¹æ¥è¯´æœ‰ä¸€äº›é™åˆ¶ ä¸å¯ç›´æ¥è¿­ä»£ åŸå‹ä¸Šæœ‰ç›¸å…³æ–¹æ³•ï¼Œæ³¨æ„ä¸è¦ä¸keyé‡å¤1234567let o = &#123;&#125;console.log(o.constructor) // Object() &#123; [native code] &#125;o.constructor = 1 // `.`æ“ä½œçš„ç”¨æ³•console.log(o.constructorr) // 1// å¯èƒ½å‡ºé—®é¢˜çš„éƒ¨åˆ†let count = o[key] || 0 // å¦‚æœkeyä¸ºconstructoråˆ™ç¬¬ä¸€æ¬¡åˆå§‹åŒ–ä¸åˆ°0 Map å…¶keyå¯ä»¥ä¸ºä»»ä½•ç±»å‹ã€‚ keyä¸ºæ­£åˆ™ï¼Œå¯ä»¥ä¸ºä¸€ç±»æ•°æ®åŒ¹é…ç»“æœ keyä¹Ÿå¯ä¸ºå¯¹è±¡ï¼Œç›´æ¥key.status = xxx &amp;&amp; key.code === xxx Mapå¯¹è±¡æ’å…¥æ˜¯æœ‰é¡ºåºçš„ï¼Œå¯ä»¥ç›´æ¥è¿­ä»£æ‹¿å‡ºé¡ºåº å…¶keyä¸ä¼šæœ‰ä»»ä½•å†²çªï¼Œå› ä¸ºä»–æ˜¯ä½¿ç”¨æ–¹æ³•æ“ä½œçš„æ•°æ®ï¼Œå¹¶ä¸æ˜¯é€šè¿‡.æ¥æ“ä½œæ•°æ® æ“ä½œæ–¹æ³•åˆ›å»º1234567let obj1 = &#123;&#125;let obj2 = &#123; name: 'zhn' &#125;let map1 = new Map()let map2 = new Map([ ['name', 'zhn']]) å¢åˆ 12345678let key = 'age'let value = 18obj[key] = valuemap.set(key, value)delete obj[key]map.delete(key) è·å–å…ƒç´ 1234let key = 'name'obj[key] // zhnmap.get(key) // zhn éå†å…ƒç´ Objectobjectå¯æ­é…Object.keys(obj)è¿›è¡Œéå† objectæœ¬èº«å°±ä¸èƒ½ä¿è¯é¡ºåºï¼Œä½†æ˜¯å…¶Object.keyså¯ä»¥è¿”å›ä¸€å®šçš„é¡ºåºï¼ˆES6+ï¼‰ 123456const object = &#123; &#125;;object['key1'] = 'value1';object['key0'] = 'value0';object; // &#123; key1: "value1", key0: "value0" &#125;object[20] = 'value20'; // ç»å†äº†éšå¼ç±»å‹è½¬æ¢object; // &#123; 20: "value20", key1: "value1", key0: "value0" &#125; å€ŸåŠ©Objectéå†çš„æ–¹å¼ï¼Œ 123456789101112131415161718192021222324252627for(const key of Object.keys(object)) &#123; console.log(key);&#125;// key1// key2// key3for(const value of Object.values(object)) &#123; console.log(value);&#125;// value1// value2// value3for(const entry of Object.entries(object)) &#123; console.log(entry);&#125;// ["key1", "value1"]// ["key2", "value2"]// ["key3", "value3"]for(const [key,value] of Object.entries(object)) &#123; console.log(key,value);&#125;//"key1", "value1"//"key2", "value2"//"key3", "value3" objectä¸æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨for-ofç›´æ¥è·å–å…¶å€¼ï¼Œå¯ä»¥ä½¿ç”¨for-inæ–¹æ³•å»è·å–keys Mapmapæ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼Œå¹¶ä¸”ä¿è¯äº†å…¶åœ¨è¿­ä»£çš„é¡ºåºæ˜¯å¯ä»¥ä¿è¯çš„ 12345678910111213141516171819// forEachconst map = new Map();map.set('key1', 'value1');map.set('key2', 'value2');map.set('key3', 'value3');map.forEach((value, key) =&gt; &#123; console.log(key, value);&#125;);// key1 value1// key2 value2// key3 value3//for...of...for(const entry of map) &#123; console.log(entry);&#125;// ["key1", "value1"]// ["key2", "value2"]// ["key3", "value3"] å¦‚ä½•æ›´å¥½çš„é€‰ç”¨ ä¸èƒ½ç”¨mapå»ä»£æ›¿objectï¼Œåªæ˜¯ä¸€ç§è¡¥å……æ–¹æ¡ˆ è€ƒè™‘é”®å€¼ç±»å‹ï¼Œæ˜¯string, symbol,å¦‚æœè¾ƒä¸ºç®€å•ï¼Œåˆ™ä½¿ç”¨objectå³å¯ï¼Œå¦‚æœæœ‰æ›´ä¸ºå¤æ‚çš„keyç±»å‹ï¼Œä½¿ç”¨mapä¹Ÿå¯ä»¥ã€‚ è€ƒè™‘ä¹‹åéå†æ˜¯å¦éœ€è¦ä¿è¯å…¶ä¸­çš„é¡ºåºï¼Œmapæ˜¯å¯ä»¥ä¿è¯é¡ºåºçš„ï¼Œobjectçš„æœ¬æ„å°±æ˜¯æ²¡æœ‰é¡ºåºçš„ï¼Œè€Œä¸”éšå¼ç±»å‹è½¬æ¢ä¹Ÿæœ‰é—®é¢˜ã€‚ é¢‘ç¹æ“ä½œæ€§èƒ½è€ƒè™‘ï¼Œmapçš„ç»“æ„æ˜¯ä¸€ä¸ªå“ˆå¸Œç»“æ„ï¼Œé¢‘ç¹å¢ä¸Šæœ‰è¾ƒå¥½çš„æ€§èƒ½ä¼˜åŒ–æ•ˆæœ è€ƒè™‘å…¶keyçš„å¯èƒ½æ€§ï¼Œå¦‚æœkeyæ˜¯ç”¨æˆ·å¯è‡ªå®šçš„è¯ï¼Œè¦è€ƒè™‘æ˜¯å¦ä¼šè¦†ç›–ï¼Œæ¯”å¦‚ç”¨æˆ·è‡ªå®šäº†toStringè¿™ä¸ªé”®ï¼Œé‚£ä¹ˆä½¿ç”¨mapè¾ƒå¥½ è€ƒè™‘æ˜¯å¦éœ€è¦ä½¿ç”¨JSONï¼ŒobjectåŸç”Ÿå¯¹jsonä¸²æ”¯æŒè¾ƒå¥½ï¼Œmapéœ€è¦è‡ªå·±å»åšå®ç° è€ƒè™‘æ˜¯å¦è¦åœ¨keyä¸Šåšæ–‡ç« ï¼Œmapçš„keyä¸ºä»»æ„ç±»å‹ï¼Œå…¶ä¸­æ”¹å†™ä¸ºæ­£åˆ™ç±»å‹ï¼Œä¼šæœ‰æ›´å¥½çš„æ‹“å±•å»¶ä¼¸æ•ˆæœ]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¼˜åŒ–å¤šä¸ªåˆ¤æ–­åˆ†æ”¯]]></title>
    <url>%2F2020%2F08%2F28%2F%E4%BC%98%E5%8C%96%E5%A4%9A%E4%B8%AA%E5%88%A4%E6%96%AD%E5%88%86%E6%94%AF%2F</url>
    <content type="text"><![CDATA[åœ¨å……æ–¥äº†å¤§é‡çš„if-elseçš„åœºæ™¯ä¸­ï¼Œå¦‚æœåˆ†æ”¯åˆ‡æ¢è¿‡å¤šï¼Œä¼šå¯¼è‡´ä»¥åçœ‹èµ·æ¥ä¸æ˜¯å¾ˆç›´è§‚ï¼Œéœ€è¦è¿›è¡Œç­–ç•¥æ¨¡å¼çš„è®¾è®¡ ä½¿ç”¨switché€‚ç”¨äºæ“ä½œä¸å¤šçš„æƒ…å†µï¼Œç›´æ¥åšä¸€äº›è½¬æ¢ï¼Œæ¯”å¦‚reduxä¸­å°±ä½¿ç”¨äº†è¿™ç§æ–¹å¼ï¼Œå…¶ä¼˜ç‚¹æ˜¯å¯ä»¥åšä¸€äº›é€ç©¿ï¼Œä¸€å®šè¦æ³¨æ„breakï¼Œæˆ–è€…ç›´æ¥returnäº† 12345678910function reducer(state, action) &#123; switch(action.type) &#123; case 'ADD': return &#123; ... &#125; case 'UPDATE': return &#123; ... &#125; default: return &#123; ... &#125; &#125;&#125; æŠ½å‡ºæˆkey-valueçš„å½¢å¼å°†switchä¸­çš„åˆ¤æ–­caseåšæˆkeyå³å¯ 1234567891011121314151617181920// objectç±»å‹const actions = &#123; 'ADD', function1, 'UPDATE', function2, 'default', function2,&#125;let command = 'ADD'const res = actions[command] || actions['default']// mapç±»å‹const actions = new Map([ ['ADD', function1], ['UPDATE', function2], ['default', function3],])let command = 'ADD'const res = actions.get(command) || actions.get('default') å¤šå±‚åµŒå¥—åˆ¤æ–­12345678910111213141516171819202122232425262728if (guest) &#123; if (command === 'ADD') &#123; &#125; else if (command === 'UPDATE') &#123; &#125; else if (....)&#125; else if (master) &#123; if (command === 'ADD') &#123; &#125; else if (command === 'UPDATE') &#123; &#125; else if (....)&#125;// objectï¼Œmapéƒ½å¯ä»¥å åŠ ä½œä¸ºkeyconst actions = &#123; 'guest_ADD', function1, 'guest_UPDATE', function2, 'master_ADD', function3, 'master_UPDATE', function2, 'default', function2,&#125;let identity = 'guest'let action = 'ADD'let command = `$&#123;identity&#125;_$&#123;action&#125;`const res = actions[command] || actions['default'] åˆ©ç”¨mapçš„keyå¤šç±»å‹ï¼Œåšé«˜çº§keyä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å»åŒ¹é… 12345678910const actions = new Map([ [/^guest_(ADD|UPDATE)$/, function1], // åŒ¹é… guest_ADD, guest_UPDATE [/^master_[1-4]$/, function2] // åŒ¹é… master_1, master_2, ..., master_3 [/default/, function3]])let identity = 'guest'let action = 'ADD'let command = `$&#123;identity&#125;_$&#123;action&#125;`const res = [...actions].find(([key, value]) =&gt; key.test(command)) å°†keyç›´æ¥åšæˆä¸€ä¸ªå¯¹è±¡ 1234567891011const actions = new Map([ [&#123; identity: 'guest', action: 'ADD'&#125;, fucntion1], [&#123; identity: 'guest', action: 'UPDATE'&#125;, fucntion2], [&#123; identity: 'master', action: 'ADD'&#125;, fucntion3], [&#123; identity: 'master', action: 'UPDATE'&#125;, fucntion4], // ...])let identity = 'guest'let action = 'ADD'let command = `$&#123;identity&#125;_$&#123;action&#125;`const res = [...actions].find(([key, value]) =&gt; key.identity === identitu &amp;&amp; key.action === action)]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2020-0814]]></title>
    <url>%2F2020%2F08%2F14%2F2020-0814%2F</url>
    <content type="text"><![CDATA[2020-08-14 åŒ—äº¬-æµ·æ·€-ä¸­å…³æ‘ç´«é‡‘å¤§å¦ï¼ˆå­—èŠ‚å‡ºå·®äºæµ·æ·€å¤§å¦ï¼‰ æœ‰å¹¸äº22å²çš„æœ€åä¸€å¤©èµ¶ä¸Šæœ«ç­è½¦ï¼Œå›å¤´ä¸€çœ‹ï¼Œå·²ç»23å²äº†ï¼Œæ—¶é—´æŒºå¿«çš„ï¼Œä¸€åˆ‡éƒ½æ¥ä¸åŠæ€è€ƒï¼Œæ¥ä¸‹æ¥åŠ æ²¹å’¯ å®ä¹ -8k Bytedance next-age =&gt; 16k é€è‡ªå·±ä¸€å¥è¯ï¼ŒæŠ˜ä¸­çš„é€‰æ‹©ï¼Œä¼šå¸æ”¶ä¸¤è€…å…±åŒçš„ç¼ºç‚¹ï¼Œè™½ç„¶éƒ½æ˜¯æ­ªç†ï¼Œä½†è¿˜æ˜¯æŒºå–œæ¬¢çš„ï¼Œæ¥ä¸‹æ¥å¥½å¥½åŠªåŠ›ï¼Œé¡ºç€ä¸€ä¸ªæ–¹å‘æ·±æŒ–ï¼ŒåŠ æ²¹ã€‚]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TT]]></title>
    <url>%2F2020%2F08%2F03%2FTT%2F</url>
    <content type="text"><![CDATA[ç°åœ¨å·²ç»æ˜¯20200803äº†ï¼Œæœ€è¿‘å›½é™…å½¢åŠ¿ä¹Ÿæ˜¯é£é€Ÿå˜æ¢ï¼ŒTiktokåŒæ ·æ”¶åˆ°äº†é‡åˆ›ï¼ŒByteDanceé£è¯„è¢«å®³,ä¸€é¸£ä¹Ÿé£è¯„è¢«å®³ï¼Œç›®å‰ä¸æ¸…æ¥šæ‰€æœ‰çš„å½¢å¼ï¼Œä¹Ÿä¸èƒ½å¦„è‡ªäºˆä»¥åˆ¤æ–­ï¼Œè¿˜è®°å¾—ä¸Šä¸€ç¯‡ç§å¥½æ¯ä¸€é¢—åœŸè±†ï¼Œåä¸ºç®—æ˜¯æŒºè¿‡æ¥ï¼Œä½†æ˜¯ä¹Ÿè¢«å„ç§DISSçˆ±å›½è¥é”€ï¼Œä½œä¸ºä¸€ä¸ªå±€å¤–äººï¼Œæˆ‘è¿˜åœ¨è¿™åƒç“œï¼Œä½†æ˜¯è¿™æ¬¡è‡ªå·±ä¹Ÿç®—æ˜¯ä¸€ä¸ªdeveloperï¼Œå¯¹äºTTå¤§å®¶è¿˜éƒ½æ˜¯å¼•ä»¥ä¸ºå‚²çš„ï¼Œç½‘ç»œä¸Šåƒç“œç¾¤ä¼—ä¹Ÿå¾ˆå¤šï¼Œä¹Ÿä¸çŸ¥é“é‚£äº›åƒç“œç¾¤ä¼—éƒ½æ˜¯ä»€ä¹ˆå¿ƒæ€ï¼Œå…¶ä»–å°±äº¤ç»™å¤§ä½¬ä»¬äº†ï¼Œè‡ªå·±å…ˆæŠŠæ‰‹å¤´å·¥ä½œåšå¥½ï¼ŒåŠ æ²¹ï¼ŒAlways Day 1! æ­å·Â·è¥¿æ¹–ç™½å ¤]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSON.stringifyè½¬æ¢å­—ç¬¦ä¸²]]></title>
    <url>%2F2020%2F06%2F18%2FJSON-stringify%E8%BD%AC%E6%8D%A2%E5%AD%97%E7%AC%A6%E4%B8%B2%2F</url>
    <content type="text"><![CDATA[å­—ç¬¦ä¸²è½¬æ¢æ—¶ï¼Œä¼šä½¿ç”¨åˆ°JSON.stringifyä»–ä¼šå°†ä¸€ä¸ªå¯¹è±¡è½¬æ¢ä¸ºjsonä¸²æ ¼å¼ 12345let obj = &#123; name: 'zhn', age: 18&#125;JSON.stringify(obj) // "&#123;"name":"zhn","age":18&#125;" ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ä¸²,å…¶ä¸­å†…å®¹ä¸º&#123;"name":"zhn","age":18&#125; è½¬æ¢çº¯å­—ç¬¦ä¸²åŒæ—¶ä¹Ÿå¯ä»¥è½¬æ¢æ™®é€šçš„å­—ç¬¦ä¸² 1JSON.stringify('str') // ""str"" ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­çš„å†…å®¹ä¸º"str" è½¬æ¢çº¯å­—ç¬¦ä¸²ä¸­å¼•å·é»˜è®¤ä¼šè½¬æ¢ä¸ºåŒå¼•å· 123JSON.stringify('str') // ""str""JSON.stringify("str") // ""str"" å•å¼•å·ä¼šä¾æ—§å­˜åœ¨ 1JSON.stringify("st'666'r") // ""st'666'r"" åŒå¼•å·ä¼šè¢«è½¬ä¹‰ï¼ˆé»˜è®¤è½¬æ¢ä¸ºåŒå¼•å·ï¼‰ 1JSON.stringify('st"666"r') // ""st\"666\"r"" å¦‚æœæœ‰å¼•å·å åŠ çš„çŠ¶æ€ï¼Œåˆ™ä¼šä¿ç•™ï¼Œå› ä¸ºå­—ç¬¦ä¸²å¦‚æœè¾“å…¥æ­£ç¡®å°±å·²ç»è¢«è½¬ç§»è¿‡äº†ã€‚ 1JSON.stringify("st\"666\"r") // ""st\"666\"r"" åº”ç”¨äºwebpackæ‰“åŒ… å…·ä½“è¦çœ‹æ’ä»¶æ˜¯å¦‚ä½•å®šä¹‰çš„ï¼Œå¦‚webpack.DefinePluginåœ¨å…¶æ–‡æ¡£å†™æ¸…æ¥šäº† 12345678910111213141516// æ¯”å¦‚æˆ‘ä»¬æœ€ç»ˆæ‰“åŒ…åçš„ä»£ç ä¸ºconst code = 'console.log(1)'// æ‰§è¡Œä»£ç æ—¶ï¼Œåªéœ€è¦eval(code)// å¦‚æœæˆ‘ä»¬æœ€ç»ˆæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²const str = 'hello word'// æœ€ç»ˆæš´éœ²const code = 'module.exports = ' + str // æœ€ç»ˆcode = 'module.exports = hello word'eval(code) // æŠ¥é”™ hello æ‰¾ä¸åˆ°åº”ç”¨// æœ€ç»ˆæš´éœ²const code = 'module.exports = ' + JSON.stringify(str) // æœ€ç»ˆcode = 'module.exports = "hello word"'eval(code) // å¯æ­£å¸¸æ‰§è¡Œ]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[éšè—å…ƒç´ 3ç§æ–¹å¼åŒºåˆ«]]></title>
    <url>%2F2020%2F06%2F15%2F%E9%9A%90%E8%97%8F%E5%85%83%E7%B4%A03%E7%A7%8D%E6%96%B9%E5%BC%8F%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[display:none; display: none/block; è¯¥å…ƒç´ ä¼šå½»åº•ä»é¡µé¢ä¸Šæ¶ˆæ¯ï¼ŒDOMç»“æ„ä¼šæ¶ˆå¤±ï¼Œæ‰€ä»¥ä¼šç›´æ¥è§¦å‘é¡µé¢é‡æ’é‡ç»˜ï¼Œæ‰€ä»¥ä¸é€‚åˆé¢‘ç¹åœ°æ˜¾ç¤ºéšè—å…ƒç´ ã€‚å¹¶ä¸”ç”±äºå…¶æ¶ˆå¤±åï¼Œè‡ªèº«ç»‘å®šçš„äº‹ä»¶æ›´ä¸ä¼šè§¦å‘ï¼Œä¹Ÿä¸èƒ½æœ‰è¿‡æ¸¡æ•ˆæœã€‚å…¶ç­‰äºä»é¡µé¢ä¸Šæ¶ˆå¤±ï¼Œæ‰€ä»¥è¢«é®æŒ¡çš„å…ƒç´ ä¸å—åˆ°å½±å“ï¼Œä¾ç„¶å¯ä»¥æ­£å¸¸çš„æ“ä½œã€‚ ç”¨ä½œnavæ—¶ï¼Œä¸‹æ‹‰çš„æç¤ºæ•ˆæœã€‚ visibility:hidden; visibility: hidden/visible; ä»é¡µé¢ä¸Šä»…ä»…æ˜¯éšè—è¯¥å…ƒç´ ï¼ŒDOMç»“æœå‡ä¼šå­˜åœ¨ï¼Œåªæ˜¯å½“æ—¶åœ¨ä¸€ä¸ªä¸å¯è§çš„çŠ¶æ€ï¼Œä¸ä¼šè§¦å‘é‡æ’ï¼Œä½†æ˜¯ä¼šè§¦å‘é‡ç»˜ï¼Œå¹¶ä¸”ä»–ç»™äººçš„æ•ˆæœæ˜¯éšè—äº†ï¼Œæ‰€ä»¥ä»–è‡ªèº«çš„äº‹ä»¶ä¸æ”¯æŒï¼Œä»–éšè—åï¼Œè¢«é®æŒ¡ä½çš„å…ƒç´ ä¾ç„¶å¯ä»¥æ­£å¸¸çš„è§¦å‘å…¶è‡ªèº«äº‹ä»¶ã€‚ å…¶å­å…ƒç´ ä»ç„¶å¯ä»¥è®¾ç½®visibleæ¥æ˜¾ç¤ºå‡ºæ¥ ä¸€èˆ¬ç”¨ä½œè¾ƒä¸ºé¢‘ç¹çš„æ˜¾ç¤ºå’Œéšè—æ—¶ï¼Œå¯ä»¥ç”¨åˆ°ã€‚ opacity:0; opacity: 0/1; è¿™æ˜¯ä½¿ç”¨æµè§ˆå™¨é™ä½alphaæ•°å€¼æ¥è¾¾åˆ°éšè—çš„æ•ˆæœï¼Œå¯ä»¥è¯´æ˜¯å…ƒç´ æ­¤æ—¶è¿˜æ­£å¸¸ï¼Œåªæ˜¯æ­£å¥½é€æ˜äº†ï¼Œæˆ‘ä»¬çœ‹ä¸åˆ°è€Œå·²ï¼Œæ‰€ä»¥ä¸ä¼šå¼•å‘é‡æ’ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¹Ÿä¸ä¼šå¼•å‘é‡ç»˜ï¼Œç”±äºå…¶ä»ç„¶æ˜¯å­˜åœ¨äºé¡µé¢ä¸Šçš„ï¼Œæ‰€ä»¥ä»–è‡ªèº«çš„çš„äº‹ä»¶ä»ç„¶æ˜¯å¯ä»¥å‡ºå‘çš„ï¼Œä½†è¢«ä»–é®æŒ¡çš„å…ƒç´ æ˜¯ä¸èƒ½è§¦å‘å…¶äº‹ä»¶çš„ã€‚ å…¶å­å…ƒç´ ä¸èƒ½è®¾ç½®opacityæ¥è¾¾åˆ°æ˜¾ç¤ºçš„æ•ˆæœ ä¸‰ç§æ–¹å¼çš„å¯¹æ¯” display: none visibility: hidden opacity: 0 é¡µé¢ä¸­ ä¸å­˜åœ¨ å­˜åœ¨ å­˜åœ¨ é‡æ’ï¼ˆreflowï¼‰ ä¼š ä¸ä¼š ä¸ä¼š é‡ç»˜ï¼ˆpaintï¼‰ ä¼š ä¼š ä¸ä¸€å®š è‡ªèº«ç»‘å®šäº‹ä»¶ ä¸è§¦å‘ ä¸è§¦å‘ å¯è§¦å‘ transition ä¸æ”¯æŒ æ”¯æŒ æ”¯æŒ å­å…ƒç´ å¯å¤åŸ ä¸èƒ½ èƒ½ ä¸èƒ½ è¢«é®æŒ¡çš„å…ƒç´ å¯è§¦å‘äº‹ä»¶ èƒ½ èƒ½ ä¸èƒ½]]></content>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¯ä¸ªäººéƒ½å¯ä»¥å‘å…‰]]></title>
    <url>%2F2020%2F06%2F11%2F%E6%AF%8F%E4%B8%AA%E4%BA%BA%E9%83%BD%E5%8F%AF%E4%BB%A5%E5%8F%91%E5%85%89%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©ç»“æŸäº†å­—èŠ‚çš„3é¢+HRé¢,æ€»çš„æ¥è¯´ä½“éªŒè¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œé¦–å…ˆè¦æ€’å¤¸ä¸€æ³¢bytedance,åŠå…¬æ•ˆç‡çœŸçš„æ˜¯å¾ˆé«˜ï¼Œä¸€å…±ç”¨äº†4å¤©ã€‚ day1:æˆ‘å»å®˜ç½‘æŠ•äº†é¢è¯•ï¼Œå¾ˆå¿«æ”¶åˆ°äº†å­—èŠ‚çš„é‚®ä»¶å›å¤ï¼Œçœ‹æ ·å­åƒæ˜¯è‡ªåŠ¨å›å¤ï¼ˆå°šæœªè€ƒè¯è¿‡ï¼‰ä¸è¿‡ç½²åæ˜¯æ¥è‡ªå­—èŠ‚çš„äººåŠ›èµ„æºã€‚ day2:äººäº‹è”ç³»äº†æˆ‘ï¼Œï¼ˆæ²¡æƒ³åˆ°é‚£ä¹ˆå¿«ï¼Œé‚£æ—©è¿˜åœ¨åºŠä¸Šï¼Œçªç„¶æ”¶åˆ°ç”µè¯ï¼Œå·®ç‚¹ä»¥ä¸ºæ˜¯éªšæ‰°ç”µè¯æŒ‚äº†010å¼€å¤´ï¼‰å’Œæˆ‘çº¦äº†æ—¶é—´ï¼Œå¥¹çœ‹äº†ä¸‹å½“å¤©ä¸‹åˆï¼Œåº”è¯¥æ˜¯æ’æ»¡äº†ï¼Œäºæ˜¯å°±å®‰æ’äº†æˆ‘äºç¬¬äºŒå¤©ä¸‹åˆ14:00,å°±æ˜¯å‰ä¸€ç§’çš„ä½ è¿˜åœ¨åºŠä¸Šçœ‹bilibiliçš„æ²™é›•è§†é¢‘ï¼Œä¸‹ä¸€ç§’ä½ å°±å¾—çŸ¥æ˜å¤©é¢è¯•äº†ã€‚ day3:ä¸‹åˆ13:50å¤šï¼Œé¢è¯•å®˜ä¹ŸåŸºæœ¬æå‰æ¥äº†,å½“å¤©æ°”æ°›è¿˜ç®—å¯ä»¥ï¼Œ1é¢+2é¢ï¼ˆäºŒé¢ä»£ç ï¼Œæ€è€ƒåå¤šï¼Œç»“æŸåè¿é¢è¯•å®˜éƒ½ä¸å¤ªè®°å¾—é•¿ä»€ä¹ˆæ ·äº†ï¼‰ï¼Œå½“å¤©åšåˆ°16ç‚¹ï¼Œç»“æŸåï¼Œä¹Ÿç®—æ˜¯ä¼‘æ¯ä¸€æ³¢ï¼Œhré€šçŸ¥æˆ‘ï¼Œä»Šå¤©æ—¶é—´å¯èƒ½æ¥ä¸åŠäº†ï¼Œäºæ˜¯çº¦åˆ°äº†ç¬¬äºŒå¤©ä¸‹åˆ16ç‚¹ã€‚ day4:13:59é¢è¯•å®˜è¿˜æ²¡åˆ°ï¼Œæ„Ÿåˆ°æœ‰ç‚¹ä¸å¯¹åŠ²ï¼Œäºæ˜¯çœ‹äº†ä¸‹æ‰‹æœºï¼Œå‘ç°hrä¹‹å‰å‘äº†çŸ­ä¿¡ï¼Œè¿˜æ‰“äº†ç”µè¯ç»™æˆ‘ï¼Œï¼ˆç”µè¯è¢«æˆ‘é™éŸ³äº†ï¼Œå‘œå‘œå‘œï¼ï¼‰åé¢hråœ¨ç”µè¯é‡Œå¾ˆæ˜¯æŠ±æ­‰ï¼Œè¡¨ç¤ºæœ‰ä¸€ä¸ªç´§æ€¥ä¼šè®®ï¼Œè€Œä¸”å£°éŸ³å¾ˆå§”å©‰ã€‚ï¼ˆåº”è¯¥ç”¨è¿™ä¸ªå½¢å®¹è¯å§ï¼‰ä¸ç¦è®©æˆ‘ä¸€æƒŠÎ£(ã£ Â°Ğ” Â°;)ã£ï¼Œå¯¹é¢åªæ˜¯ä¸€ä¸ªè¿˜ä¸çŸ¥é“çŠ¶å†µçš„å®ä¹ ç”Ÿï¼Œä¹Ÿèƒ½å¦‚æ­¤å°Šæ•¬ï¼Œåæ¥æˆ‘ä»¥ä¸ºè¦æ”¹æ—¶é—´äº†ï¼Œä½†æ˜¯ä»–è¯´æ¨è¿Ÿåˆ°1ä¸ªå°æ—¶å³å¯ï¼Œé‚£ä¹ˆä»Šå¤©è¿˜æ˜¯å¯ä»¥æ­£å¸¸è¿›è¡Œçš„ï¼Œè¿˜æ˜¯å¾ˆå¥½çš„ã€‚æœ€å3é¢+HRé¢ï¼Œç»“æŸä¹Ÿéƒ½18ç‚¹40å¤šäº†ã€‚æ€»çš„æ¥è¯´ï¼Œå­—èŠ‚è¿˜æ˜¯å¾ˆè®¤çœŸçš„ï¼Œè€Œä¸”é¢è¯•å®˜ä¹Ÿæ˜¯å¾ˆä¸é”™çš„ï¼ŒæŒºåƒåŒå­¦çš„ï¼Œå’Œä»–èŠå¤©ã€‚ æœ€ç»ˆç»“æœè¦ç­‰åˆ°ä¸‹å‘¨ä¸€ï¼Œæ•´ä¸ªè¿‡ç¨‹è¿˜æ˜¯æŒºæ„‰å¿«çš„ï¼ŒæŒºä¸é”™çš„ä¸€æ¬¡ä½“éªŒï¼Œä¸å¾—ä¸è¯´ï¼Œbytedanceæ•ˆç‡çœŸé«˜ï¼Œéš”å£é¢Tencentçš„åŒå­¦ä¸¤è½®é¢è¯•ä¹‹é—´å·®äº†2å‘¨å¤šã€‚ ä»¥ä¸‹å’Œè‡ªå·±é¢è¯•æ²¡å…³ç³»ï¼Œå•çº¯æ˜¯äº†è§£æŠ–éŸ³æ—¶çš„ä¸€äº›æ„Ÿæƒ³ã€‚ è¿˜æœ‰å°±æ˜¯è‡ªå·±å¯¹æŠ–éŸ³çš„ç†è§£å§ï¼Œä¹‹å‰ä¸€ç›´è®¤ä¸ºæŠ–éŸ³åœ¨æ¶ˆè€—äººçš„æ—¶é—´ï¼Œä¼—å¤šçŸ­è§†é¢‘å¹³å°é‡Œçš„ä½¼ä½¼è€…ï¼Œä¹Ÿå‡ ä¹æ²¡æœ‰æ€ä¹ˆç»†ç»†å»çœ‹è¿‡ï¼Œä½†æ˜¯å‰ä¸¤å¤©ï¼Œå½“æˆ‘æ‰“å¼€æŠ–éŸ³å®˜ç½‘æ—¶ï¼Œè¢«ä»–éœ‡ä½äº†ï¼Œçªç„¶æ„Ÿè§‰æŠ–éŸ³ä¸æ˜¯æˆ‘æƒ³è±¡çš„è½¯ä»¶ï¼Œè®°å½•ç¾å¥½ç”Ÿæ´»çªç„¶é—´æœ‰äº†æ›´æ·±çš„æ„ä¹‰ï¼Œæˆ–è®¸æˆ‘ä»¬æ¯ä¸ªäººå¹¶æ²¡æœ‰é‚£æ ·åä¸½çš„å…‰ç¯ï¼Œå¤§å¤šæ•°éƒ½æ˜¯åœ¨è‡ªå·±çš„ç”Ÿæ´»ä¸­é»˜é»˜æ— é—»çš„å¥‰çŒ®ï¼Œé‚£ä¹ˆæ¯ä¸ªäººå°†è‡ªå·±å¹³å‡¡çš„ç”Ÿæ´»åšä¸€ä¸ªè®°å½•ï¼Œç•™ä¸‹äº›è®¸è®°å¿†çš„ç‰‡åˆ»ï¼Œä½•å°ä¸æ˜¯å¥½äº‹æƒ…å‘¢ï¼Œæˆ–è®¸ä¸–ç•Œè¿™ä¹ˆå¤§ï¼Œæ¯ä¸ªäººéƒ½æœ‰æ¯ä¸ªäººçš„ç”Ÿæ´»ï¼Œè‡ªå·±æ‰æ˜¯äººç”Ÿçš„ä¸»è§’ï¼ŒåŠªåŠ›å»è®°å¿†ï¼Œç­‰åˆ°ä»¥åå›å¿†æ—¶ï¼Œä¹Ÿä¼šæœ‰æŸç§ç‹¬ç‰¹çš„æ€ç»ªå§ï¼Œæˆ–è®¸è¿™æ‰æ˜¯ç§‘æŠ€åº”è¯¥ç»™äººå¸¦æ¥çš„ï¼Œè®°å½•æ¯ä¸ªäººå¹³å‡¡çš„ç”Ÿæ´»ï¼Œç”¨æ•°å­—çš„æ–¹å¼è®°å½•ä¸‹æ¥ï¼Œæ›¾å‡ ä½•æ—¶ï¼Œå†è®©æˆ‘ä»¬å›å¿†èµ·ï¼Œé‚£ä¹ˆä¹Ÿä¼šæœ‰ç€æŸç§æ€ç»ªä¸‡åƒçš„å›å¿†å§ã€‚ å¾ˆå–œæ¬¢å®˜ç½‘çš„è¿™ä¸ªå®£ä¼ ç‰‡ï¼Œå€Ÿæ­¤æœºä¼šä¿å­˜ä¸‹æ¥ã€‚ å¦‚æœ‰å¹¸å…¥èŒå®ä¹ ï¼Œé‚£ä¹ˆè¿˜æ˜¯åŠ æ²¹äº†ï¼æå‡ºç‚¹ä¸œè¥¿æ¥ï¼]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯è·¨åŸŸ]]></title>
    <url>%2F2020%2F06%2F10%2F%E5%89%8D%E7%AB%AF%E8%B7%A8%E5%9F%9F%2F</url>
    <content type="text"><![CDATA[ä¸ºä»€ä¹ˆä¼šæœ‰è·¨åŸŸåªè¦åè®®ã€åŸŸåã€ç«¯å£æœ‰ä»»ä½•ä¸€ä¸ªä¸åŒï¼Œéƒ½è¢«å½“ä½œæ˜¯ä¸åŒçš„åŸŸã€‚ æµè§ˆå™¨ä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œéšä¾¿ä½¿ç”¨ä»–äººçš„èµ„æºå¯èƒ½ä¼šå‘ç”Ÿå®‰å…¨é—®é¢˜ï¼Œæ‰€ä»¥ä¼šæœ‰è·¨åŸŸé—®é¢˜ã€‚ 123456789101112131415161718192021222324URL è¯´æ˜ æ˜¯å¦å…è®¸é€šä¿¡http://www.a.com/a.jshttp://www.a.com/b.js åŒä¸€åŸŸåä¸‹ å…è®¸http://www.a.com/lab/a.jshttp://www.a.com/script/b.js åŒä¸€åŸŸåä¸‹ä¸åŒæ–‡ä»¶å¤¹ å…è®¸http://www.a.com:8000/a.jshttp://www.a.com/b.js åŒä¸€åŸŸåï¼Œä¸åŒç«¯å£ ä¸å…è®¸http://www.a.com/a.jshttps://www.a.com/b.js åŒä¸€åŸŸåï¼Œä¸åŒåè®® ä¸å…è®¸http://www.a.com/a.jshttp://70.32.92.74/b.js åŸŸåå’ŒåŸŸåå¯¹åº”ip ä¸å…è®¸http://www.a.com/a.jshttp://script.a.com/b.js ä¸»åŸŸç›¸åŒï¼Œå­åŸŸä¸åŒ ä¸å…è®¸ï¼ˆcookieè¿™ç§æƒ…å†µä¸‹ä¹Ÿä¸å…è®¸è®¿é—®ï¼‰http://www.a.com/a.jshttp://a.com/b.js åŒä¸€åŸŸåï¼Œä¸åŒäºŒçº§åŸŸåï¼ˆåŒä¸Šï¼‰ ä¸å…è®¸ï¼ˆcookieè¿™ç§æƒ…å†µä¸‹ä¹Ÿä¸å…è®¸è®¿é—®ï¼‰http://www.cnblogs.com/a.jshttp://www.a.com/b.js ä¸åŒåŸŸå ä¸å…è®¸ é‡åˆ°è·¨åŸŸé—®é¢˜çš„æƒ…å†µæ“ä½œä¸åŒåŸŸçš„DOMä½¿ç”¨iframeçš„æ—¶å€™ï¼Œå¤–éƒ¨iframeå¦‚æœå’Œé‡Œé¢æºsrcä¸ä¸€æ ·ï¼Œæ“ä½œèµ·æ¥å¯èƒ½ä¼šæœ‰é—®é¢˜ è·å–ç½‘é¡µçš„å­˜å‚¨ä¿¡æ¯ï¼Œcookie, localStorageåœ¨www.baidu.comåšäº†ç™»å½•ï¼Œä¿¡æ¯æ˜¯åœ¨www.baidu.comä½†æ˜¯åœ¨yun.baidu.comä¹Ÿå¯ä»¥è·å–åˆ°ç›¸åº”çš„ç™»å½•ä¿¡æ¯ã€‚ è·å–æ•°æ®æ“ä½œæ•°æ®åœ°å€ä¸å‰ç«¯é¡µé¢ä¸åœ¨ä¸€ä¸ªåŸŸä¸‹ï¼Œå¯ä»¥å‘é€æ•°æ®ï¼Œå•å‡ºäºåŒæºè€ƒè™‘ï¼Œæµè§ˆå™¨ä¸ä¼šä½¿ç”¨æ•°æ® è§£å†³æ–¹æ¡ˆæ“ä½œä¸åŒåŸŸçš„DOMåªéœ€è¦èƒ½ä¿è¯èƒ½å¤Ÿé€šè¿‡çˆ¶å­é¡µé¢ä¸­ï¼Œç›´æ¥æ“ä½œåˆ°å…¶htmlçš„å†…å®¹å³å¯ çˆ¶è·å–å­ï¼Œå¯ä»¥è·å–åˆ°iframeåiframe.contentWindow å­è·å–çˆ¶ï¼Œå¯ä»¥ç›´æ¥è®¿é—®parentparentå³ä¸ºçˆ¶çš„windowã€‚ï¼ˆå­çš„window.parentæ˜¯çˆ¶å…ƒç´ windowï¼‰ ä½¿ç”¨document.domainä¿®æ”¹document.domainçš„æ–¹æ³•åªé€‚ç”¨äºä¸åŒå­åŸŸçš„æ¡†æ¶é—´çš„äº¤äº’ã€‚ æµè§ˆå™¨ä¸­ä¸åŒåŸŸçš„æ¡†æ¶ä¹‹é—´æ˜¯ä¸èƒ½è¿›è¡Œjsçš„äº¤äº’æ“ä½œçš„ã€‚ä¸åŒçš„æ¡†æ¶ä¹‹é—´æ˜¯å¯ä»¥è·å–windowå¯¹è±¡çš„ï¼Œä½†å´æ— æ³•è·å–ç›¸åº”çš„å±æ€§å’Œæ–¹æ³•ã€‚æ¯”å¦‚ï¼Œæœ‰ä¸€ä¸ªé¡µé¢ï¼Œå®ƒçš„åœ°å€æ˜¯http://www.damonare.cn/a.html ï¼Œ åœ¨è¿™ä¸ªé¡µé¢é‡Œé¢æœ‰ä¸€ä¸ªiframeï¼Œå®ƒçš„srcæ˜¯http://damonare.cn/b.html, å¾ˆæ˜¾ç„¶ï¼Œè¿™ä¸ªé¡µé¢ä¸å®ƒé‡Œé¢çš„iframeæ¡†æ¶æ˜¯ä¸åŒåŸŸçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ˜¯æ— æ³•é€šè¿‡åœ¨é¡µé¢ä¸­ä¹¦å†™jsä»£ç æ¥è·å–iframeä¸­çš„ä¸œè¥¿çš„ï¼š 123456789&lt;script type="text/javascript"&gt; function test()&#123; var iframe = document.getElementById('ifame'); var win = iframe.contentWindow;//å¯ä»¥è·å–åˆ°iframeé‡Œçš„windowå¯¹è±¡ï¼Œä½†è¯¥windowå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•å‡ ä¹æ˜¯ä¸å¯ç”¨çš„ var doc = win.document;//è¿™é‡Œè·å–ä¸åˆ°iframeé‡Œçš„documentå¯¹è±¡ var name = win.name;//è¿™é‡ŒåŒæ ·è·å–ä¸åˆ°windowå¯¹è±¡çš„nameå±æ€§ &#125;&lt;/script&gt;&lt;iframe id = "iframe" src="http://damonare.cn/b.html" onload = "test()"&gt;&lt;/iframe&gt; åªè¦æŠŠhttp://www.damonare.cn/a.html å’Œ damonare.cn/b.html è¿™ä¸¤ä¸ªé¡µé¢çš„document.domainéƒ½è®¾æˆç›¸åŒçš„åŸŸåå°±å¯ä»¥äº†ã€‚ä½†è¦æ³¨æ„çš„æ˜¯ï¼Œdocument.domainçš„è®¾ç½®æ˜¯æœ‰é™åˆ¶çš„ï¼Œæˆ‘ä»¬åªèƒ½æŠŠdocument.domainè®¾ç½®æˆè‡ªèº«æˆ–æ›´é«˜ä¸€çº§çš„çˆ¶åŸŸï¼Œä¸”ä¸»åŸŸå¿…é¡»ç›¸åŒã€‚ åœ¨é¡µé¢http://www.damonare.cn/a.html ä¸­è®¾ç½®document.domain: 1234567&lt;iframe id = "iframe" src="http://damonare.cn/b.html" onload = "test()"&gt;&lt;/iframe&gt;&lt;script type="text/javascript"&gt; document.domain = 'damonare.cn';//è®¾ç½®æˆä¸»åŸŸ function test()&#123; alert(document.getElementById('iframe').contentWindow);//contentWindow å¯å–å¾—å­çª—å£çš„ window å¯¹è±¡ &#125;&lt;/script&gt; åœ¨é¡µé¢http://damonare.cn/b.html ä¸­ä¹Ÿè®¾ç½®document.domain: 123&lt;script type="text/javascript"&gt; document.domain = 'damonare.cn';//åœ¨iframeè½½å…¥è¿™ä¸ªé¡µé¢ä¹Ÿè®¾ç½®document.domainï¼Œä½¿ä¹‹ä¸ä¸»é¡µé¢çš„document.domainç›¸åŒ&lt;/script&gt; è·å–ç½‘é¡µçš„å­˜å‚¨ä¿¡æ¯ï¼Œcookie, localStorage www.baiduåŸŸåä¸‹é¢ç™»å½•äº†ï¼Œå‘ç°yun.baiduåŸŸåä¸‹é¢ä¹Ÿè‡ªç„¶è€Œç„¶ç™»å½•äº†ï¼›æ·˜å®ç™»å½•äº†ï¼Œå‘ç°å¤©çŒ«ä¹Ÿç™»å½•äº†ï¼Œæ·˜å®å’Œå¤©çŒ«æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„2ä¸ªåŸŸåã€‚ ç”¨æ¥ä¼ é€’ä¿¡æ¯çš„ï¼Œå› ä¸ºæœ‰è·¨åŸŸä¸èƒ½å»æ‹¿å…¶ä»–é¡µé¢å­˜å‚¨çš„å†…å®¹ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ç›®æ ‡é¡µé¢ç”Ÿæˆä¸€ä¸ªiframeï¼ŒåŒ¹é…å­˜å‚¨å†…å®¹çš„srcï¼Œä¹‹åæ‹¿åˆ°æ•°æ®å‘å›ä¸»é¡µé¢å³å¯ã€‚ ä½¿ç”¨location.hashæ¥è·¨åŸŸhashæ˜¯æ˜æ–‡å­˜å‚¨çš„ï¼Œå­˜åœ¨ç›´æ¥æš´éœ²åœ¨urlä¸­ï¼Œæ•°æ®å®¹é‡å’Œç±»å‹éƒ½æœ‰é™ç­‰çš„é—®é¢˜ã€‚ URLæœ‰ä¸€éƒ¨åˆ†è¢«ç§°ä¸ºhashï¼Œå°±æ˜¯#å·åŠå…¶åé¢çš„å­—ç¬¦ï¼Œå®ƒä¸€èˆ¬ç”¨äºæµè§ˆå™¨é”šç‚¹å®šä½ï¼ŒServerç«¯å¹¶ä¸å…³å¿ƒè¿™éƒ¨åˆ†ï¼Œåº”è¯¥è¯´HTTPè¯·æ±‚è¿‡ç¨‹ä¸­ä¸ä¼šæºå¸¦hashï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†çš„ä¿®æ”¹ä¸ä¼šäº§ç”ŸHTTPè¯·æ±‚ï¼Œä½†æ˜¯ä¼šäº§ç”Ÿæµè§ˆå™¨å†å²è®°å½•ã€‚ å‡å¦‚çˆ¶é¡µé¢æ˜¯baidu.com/a.html,iframeåµŒå…¥çš„é¡µé¢ä¸ºgoogle.com/b.htmlï¼ˆæ­¤å¤„çœç•¥äº†åŸŸåç­‰urlå±æ€§ï¼‰ï¼Œè¦å®ç°æ­¤ä¸¤ä¸ªé¡µé¢é—´çš„é€šä¿¡å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•ã€‚ a.htmlä¼ é€æ•°æ®åˆ°b.html a.htmlä¸‹ä¿®æ”¹iframeçš„srcä¸ºgoogle.com/b.html#paco b.htmlç›‘å¬åˆ°urlå‘ç”Ÿå˜åŒ–ï¼Œè§¦å‘ç›¸åº”æ“ä½œ b.htmlä¼ é€æ•°æ®åˆ°a.htmlï¼Œç”±äºä¸¤ä¸ªé¡µé¢ä¸åœ¨åŒä¸€ä¸ªåŸŸä¸‹IEã€Chromeä¸å…è®¸ä¿®æ”¹parent.location.hashçš„å€¼ï¼Œæ‰€ä»¥è¦å€ŸåŠ©äºçˆ¶çª—å£åŸŸåä¸‹çš„ä¸€ä¸ªä»£ç†iframe b.htmlä¸‹åˆ›å»ºä¸€ä¸ªéšè—çš„iframeï¼Œæ­¤iframeçš„srcæ˜¯baidu.comåŸŸä¸‹çš„ï¼Œå¹¶æŒ‚ä¸Šè¦ä¼ é€çš„hashæ•°æ®ï¼Œå¦‚src=â€www.baidu.com/proxy.html#â€¦&quot; proxy.htmlç›‘å¬åˆ°urlå‘ç”Ÿå˜åŒ–ï¼Œä¿®æ”¹a.htmlçš„urlï¼ˆå› ä¸ºa.htmlå’Œproxy.htmlåŒåŸŸï¼Œæ‰€ä»¥proxy.htmlå¯ä¿®æ”¹a.htmlçš„url hashï¼‰ a.htmlç›‘å¬åˆ°urlå‘ç”Ÿå˜åŒ–ï¼Œè§¦å‘ç›¸åº”æ“ä½œ å­é¡µé¢b.htmlå…³é”®å¦‚ä¸‹ 123456789try &#123; parent.location.hash = 'data'; &#125; catch (e) &#123; // ieã€chromeçš„å®‰å…¨æœºåˆ¶æ— æ³•ä¿®æ”¹parent.location.hashï¼Œ var ifrproxy = document.createElement('iframe'); ifrproxy.style.display = 'none'; ifrproxy.src = "http://www.baidu.com/proxy.html#data"; document.body.appendChild(ifrproxy); &#125; proxy.htmlå…³é”®å¦‚ä¸‹ 12//å› ä¸ºparent.parentï¼ˆå³baidu.com/a.htmlï¼‰å’Œbaidu.com/proxy.htmlå±äºåŒä¸€ä¸ªåŸŸï¼Œæ‰€ä»¥å¯ä»¥æ”¹å˜å…¶location.hashçš„å€¼ parent.parent.location.hash = self.location.hash.substring(1); ä½¿ç”¨document.domainå¦‚æœä¸¤ä¸ªé¢ä¸»åŸŸåå®Œå…¨ç›¸åŒï¼Œåˆ™ä½¿ç”¨è¯¥æ–¹æ³•å°±å¯ä»¥ï¼Œå’Œä¸Šé¢ä»‹ç»çš„æ–¹æ³•ä¸€æ · 12345// www.a.comdocument.domain = 'a.com'// yun.a.comdocument.domain = 'a.com' ä½¿ç”¨postMessageå¦‚æœä¸¤ä¸ªåŸŸåå®Œå…¨ä¸ç›¸åŒï¼Œå¯ä»¥ç”¨postMessageå’Œiframeç›¸ç»“åˆçš„æ–¹æ³•ã€‚postMessage(data,origin)æ–¹æ³•å…è®¸æ¥è‡ªä¸åŒæºçš„è„šæœ¬é‡‡ç”¨å¼‚æ­¥æ–¹å¼è¿›è¡Œé€šä¿¡ã€‚ postMessageçš„ä½¿ç”¨æ–¹æ³•ï¼š 12345otherWindow.postMessage(message, targetOrigin);otherWindow:æŒ‡ç›®æ ‡çª—å£ï¼Œä¹Ÿå°±æ˜¯ç»™å“ªä¸ªwindowå‘æ¶ˆæ¯ï¼Œæ˜¯ window.frames å±æ€§çš„æˆå‘˜æˆ–è€…ç”± window.open æ–¹æ³•åˆ›å»ºçš„çª—å£message: æ˜¯è¦å‘é€çš„æ¶ˆæ¯ï¼Œç±»å‹ä¸º Stringã€Object (IE8ã€9 ä¸æ”¯æŒ)targetOrigin: æ˜¯é™å®šæ¶ˆæ¯æ¥æ”¶èŒƒå›´ï¼Œä¸é™åˆ¶è¯·ä½¿ç”¨ '*' æ¯”å¦‚damonare.cnåŸŸçš„Aé¡µé¢é€šè¿‡iframeåµŒå…¥äº†ä¸€ä¸ªgoogle.comåŸŸçš„Bé¡µé¢ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•å®ç°Aå’ŒBçš„é€šä¿¡ã€‚ A-&gt;Bå‘é€æ•°æ®ä½¿ç”¨Aé¡µé¢é€šè¿‡postMessageå‘é€æ•°æ® 12345window.onload = function() &#123; var ifr = document.getElementById('ifr'); var targetOrigin = "http://www.google.com"; ifr.contentWindow.postMessage('hello world!', targetOrigin); &#125;; Bé¡µé¢é€šè¿‡messageäº‹ä»¶ç›‘å¬å¹¶æ¥å—æ¶ˆæ¯: 12345678910111213141516var onmessage = function (event) &#123; var data = event.data;//æ¶ˆæ¯ var origin = event.origin;//æ¶ˆæ¯æ¥æºåœ°å€ var source = event.source;//æºWindowå¯¹è±¡ if(origin=="http://www.baidu.com")&#123; console.log(data);//hello world! &#125; &#125;;// å¤„ç†å…¼å®¹ï¼Œç»‘å®šäº‹ä»¶if (typeof window.addEventListener != 'undefined') &#123; window.addEventListener('message', onmessage, false); &#125; else if (typeof window.attachEvent != 'undefined') &#123; //for ie window.attachEvent('onmessage', onmessage); &#125; B-&gt;Aå‘é€æ•°æ®ä¸A-&gt;Bå‘é€æ•°æ®æ˜¯ç›¸åŒçš„ åœ¨å­é¡µé¢Bä¸­ï¼Œè¦åœ¨Bå†…æ“ä½œé€»è¾‘ï¼Œparentå³ä¸ºçˆ¶å…ƒç´ Açš„window Bå…ƒç´ å‘é€æ—¶parent.postMessage(data, target) Aå…ƒç´ æ¥æ”¶æ—¶window.addEventListener(&#39;message&#39;, handle)å³å¯ã€‚ ä¸æœåŠ¡ç«¯æ‹‰å–æ•°æ®çš„å‰ç«¯ç¯å¢ƒéƒ¨ç½²çš„æœåŠ¡å™¨åœ°å€ï¼Œä¸åç«¯ç¯å¢ƒçš„æ•°æ®åœ°å€å¹¶ä¸åœ¨åŒä¸€ä¸ªåœ°æ–¹ï¼Œæ‰€ä»¥æµè§ˆå™¨åœ¨è®¿é—®æ—¶å°±ä¼šé‡åˆ°è·¨åŸŸçš„é—®é¢˜ã€‚ ä½¿ç”¨åå‘ä»£ç† å‰ç«¯å¼€å‘æ—¶ï¼Œå¯ä»¥é…ç½®webpackçš„ä»£ç†ã€‚å¤šç”¨äºå¼€å‘ç¯å¢ƒ è·¨åŸŸæ˜¯æµè§ˆå™¨ç«¯çš„ï¼ŒæœåŠ¡ç«¯å¹¶æ— æ­¤é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼€å‘æ—¶çš„nodeä¸­è½¬ä¸€ä¸‹ã€‚ 12345678mmodule.exports = &#123; //... devServer: &#123; proxy: &#123; '/api': 'http://localhost:3000' &#125; &#125;&#125;; fetch(&#39;/api/xxx&#39;)ä¹Ÿå°±æ˜¯å¯¹è‡ªå·±å‘å‡ºè®¿é—®ï¼Œé€šè¿‡ä»£ç†èµ°ä¸€å±‚ã€‚ è¯·æ±‚åˆ° /api/xxx ç°åœ¨ä¼šè¢«ä»£ç†åˆ°è¯·æ±‚ http://localhost:3000/api/xxx, ä¾‹å¦‚ /api/user ç°åœ¨ä¼šè¢«ä»£ç†åˆ°è¯·æ±‚ http://localhost:3000/api/user ä½¿ç”¨jsonp jsonpå’Œajaxå¹¶æ— å…³ç³»ï¼Œæ˜¯ä¸¤ç§ä¸ä¸€æ ·çš„ä¸œè¥¿ï¼Œåªæ˜¯jQueryåšäº†å°è£…ï¼Œä½¿å¾—$.ajaxå¯ä»¥åšjsonp jsonpéœ€è¦åç«¯æ¥é…åˆ,åªèƒ½ä½¿ç”¨ä¸€äº›ç®€å•çš„è¯·æ±‚ã€‚ä¾èµ–åç«¯é…åˆ æˆ‘ä»¬å®šä¹‰äº†ä½¿ç”¨è¿™ä¸ªæ•°æ®çš„æ–¹æ³•ï¼Œç­‰åˆ°è¿™ä¸ªæ•°æ®è¯·æ±‚æˆåŠŸåï¼Œè¿”å›ç»“æœå°±æ˜¯è°ƒç”¨æ–¹æ³•ï¼Œå¹¶ä¸”å‚æ•°å·²ç»æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœäº†ã€‚ 1234567&lt;script type="text/javascript"&gt; function dosomething(jsondata)&#123; //å¤„ç†è·å¾—çš„jsonæ•°æ® &#125;&lt;/script&gt;&lt;script src="http://example.com/data.php?callback=dosomething"&gt;&lt;/script&gt; &lt;!-- è¿”å›ç»“æœï¼Œdosomething(['a','b','c']);ä¸Šè¿°å‡½æ•°ä¼šè¢«ç›´æ¥è§¦å‘ --&gt; jQueryä¸­çš„å¤„ç†æ–¹æ³•ï¼Œå…¶å®ä»–åœ¨å†…éƒ¨ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œä»–åˆ›å»ºäº†ä¸ªä¸´æ—¶æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨å®Œæ¯•ä¹‹åç«‹å³é”€æ¯äº† 12345&lt;script type="text/javascript"&gt; $.getJSON('http://example.com/data.php?callback=?,function(jsondata)')&#123; //å¤„ç†è·å¾—çš„jsonæ•°æ® &#125;);&lt;/script&gt; ä½¿ç”¨CORSè¿™ä¹Ÿæ˜¯ç›®å‰ä½¿ç”¨æœ€ä¸»æµçš„æ–¹å¼,ä¾èµ–åç«¯é…åˆã€‚ CORSï¼ˆCross-Origin Resource Sharingï¼‰è·¨åŸŸèµ„æºå…±äº«ï¼Œå®šä¹‰äº†å¿…é¡»åœ¨è®¿é—®è·¨åŸŸèµ„æºæ—¶ï¼Œæµè§ˆå™¨ä¸æœåŠ¡å™¨åº”è¯¥å¦‚ä½•æ²Ÿé€šã€‚CORSèƒŒåçš„åŸºæœ¬æ€æƒ³å°±æ˜¯ä½¿ç”¨è‡ªå®šä¹‰çš„HTTPå¤´éƒ¨è®©æµè§ˆå™¨ä¸æœåŠ¡å™¨è¿›è¡Œæ²Ÿé€šï¼Œä»è€Œå†³å®šè¯·æ±‚æˆ–å“åº”æ˜¯åº”è¯¥æˆåŠŸè¿˜æ˜¯å¤±è´¥ã€‚ç›®å‰ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒè¯¥åŠŸèƒ½ï¼ŒIEæµè§ˆå™¨ä¸èƒ½ä½äºIE10ã€‚æ•´ä¸ªCORSé€šä¿¡è¿‡ç¨‹ï¼Œéƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨å®Œæˆï¼Œä¸éœ€è¦ç”¨æˆ·å‚ä¸ã€‚å¯¹äºå¼€å‘è€…æ¥è¯´ï¼ŒCORSé€šä¿¡ä¸åŒæºçš„AJAXé€šä¿¡æ²¡æœ‰å·®åˆ«ï¼Œä»£ç å®Œå…¨ä¸€æ ·ã€‚æµè§ˆå™¨ä¸€æ—¦å‘ç°AJAXè¯·æ±‚è·¨æºï¼Œå°±ä¼šè‡ªåŠ¨æ·»åŠ ä¸€äº›é™„åŠ çš„å¤´ä¿¡æ¯ï¼Œæœ‰æ—¶è¿˜ä¼šå¤šå‡ºä¸€æ¬¡é™„åŠ çš„è¯·æ±‚ï¼Œä½†ç”¨æˆ·ä¸ä¼šæœ‰æ„Ÿè§‰ã€‚è·¨åŸŸèµ„æºå…±äº« CORS è¯¦è§£ ä¹Ÿå°±æ˜¯è¯´æµè§ˆå™¨ç”¨äº†å„ç§åŸå› é™åˆ¶äº†æˆ‘ä»¬ï¼Œæˆ‘ä»¬ç”¨å„ç§æ–¹æ³•ç»•è¿‡è·¨åŸŸæ£€æŸ¥ï¼Œä¹Ÿå¯ä»¥ä»æ­£é¢èµ°ï¼Œå°±æ˜¯è®©æµè§ˆå™¨çŸ¥é“è¿™ä¸ªæºï¼Œæˆ‘è·¨åŸŸäº†ï¼Œä½†æ˜¯ä»–å°±æ˜¯æˆ‘æƒ³è¦çš„ï¼Œä»–æ˜¯å®‰å…¨çš„ï¼Œè€Œä¸”æœåŠ¡ç«¯è¿”å›çš„åœ°å€é‡Œï¼Œä¹Ÿæœ‰å®¢æˆ·ç«¯çš„åœ°å€ï¼Œæ˜¯å¼€å‘äººå‘˜æŒ‡å®šçš„ï¼Œæˆ‘ä»¬å‘é€è¯·æ±‚å’Œä¹‹å‰å¹¶æ— å¼‚æ ·ã€‚ 123var xhr = new XMLHttpRequest();xhr.open("GET", "http://segmentfault.com/u/trigkit4/",true);xhr.send(); å¦‚æœå‰ç«¯è¦å‘é€å‡­è¯(æºå¸¦cookie)æ—¶ï¼Œè®¾ç½®withCredentials: true å¦‚æœè¦ä½¿ç”¨withCredentialsï¼ŒæœåŠ¡ç«¯è¯·æ±‚å¤´Access-Control-Allow-Origin: ä¸èƒ½ä¸º* xhrï¼šxhr.withCredentials = true fetch: fetch(url, {credentials: &#39;include&#39;}); æœåŠ¡ç«¯è¦é…ç½®CORSç›¸å…³å¤´ å‚è€ƒhttps://juejin.im/post/5815f4abbf22ec006893b431 https://www.cnblogs.com/xjy20170907/p/11772416.html]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[BFCå—çŠ¶æ ¼å¼åŒ–åŒºåŸŸ]]></title>
    <url>%2F2020%2F06%2F09%2FBFC%E5%9D%97%E7%8A%B6%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%8C%BA%E5%9F%9F%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯BFCBFCï¼ˆblock-fomatting-contextï¼‰æ˜¯ä¸€ç§cssæ¸²æŸ“è§„åˆ™ï¼Œè§„å®šäº†å…¶å†…éƒ¨å…ƒç´ çš„æ¸²æŸ“è§„å¾‹ï¼Œcss2.1è§„å®šäº†BFC,IFC,css3åˆè§„å®šäº†BFC,IFC,GFC,FFCã€‚ BFCå°±æ˜¯å—çº§çš„ä½œç”¨åŸŸã€‚GFCå°±æ˜¯gridä½œç”¨åŸŸã€‚IFCå°±æ˜¯å†…è”ä½œç”¨åŸŸã€‚FFCå°±æ˜¯flexä½œç”¨åŸŸã€‚ BFCå¯ä»¥ç†è§£ä¸ºä¸€ç§æ¸²æŸ“çš„ç‹¬ç«‹åŒºåŸŸï¼Œè§„å®šäº†å†…éƒ¨å¦‚ä½•æ¸²æŸ“ï¼Œå¹¶ä¸”ä¸å¤–éƒ¨ä¹Ÿæ¯«ä¸å…³è”ã€‚å¸¸ç”¨åœ¨ç‹¬ç«‹çš„å®šä½åŒºåŸŸï¼Œå¹¶å¤šä½™floatå…³è”ï¼ˆfloatä¹Ÿæ˜¯è¥é€ å‡ºBFCçš„ä¸€ç§æ–¹å¼ï¼‰ BFCå†…éƒ¨ç‰¹æ€§å¦‚ä¸‹ å†…éƒ¨çš„Boxä¼šåœ¨å‚ç›´æ–¹å‘ä¸Šä¸€ä¸ªæ¥ç€ä¸€ä¸ªæ”¾ç½®ã€‚ Boxå‚ç›´æ–¹å‘çš„è·ç¦»ç”± margin å†³å®šã€‚å±äºåŒä¸€ä¸ªBFCä¸­çš„ä¸¤ä¸ªç›¸é‚»çš„Boxä¸Šä¸‹marginä¼šå‘ç”Ÿå åŠ ã€‚ æ¯ä¸ªå…ƒç´ çš„margin box çš„å·¦è¾¹ï¼Œä¸åŒ…å«å—border box çš„å·¦è¾¹ç›¸æ¥è§¦ã€‚å³ä½¿æµ®åŠ¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ BFC çš„åŒºåŸŸä¸ä¼šä¸float box é‡å ã€‚ BFCå°±æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“å¤–é¢çš„å…ƒç´ ï¼Œåä¹‹ä¹Ÿå¦‚æ­¤ã€‚ è®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—ã€‚ ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬çš„BFCç¯å¢ƒä¸­ï¼Œä»–çš„è®¡ç®—éƒ½æ˜¯ç‹¬ç«‹å‡ºæ¥çš„ï¼Œä¸å¤–éƒ¨çš„BFCåŒºåŸŸè¾¹ç•Œæ¥è§¦ã€‚å¹¶ä¸”å†…éƒ¨ä¸å¤–éƒ¨ä¸ç›¸äº’å½±å“ã€‚ è¥é€ å‡ºBFCç¯å¢ƒçš„å‡ ç§æ–¹å¼ position:absoluteæˆ–è€…fixedã€‚ float:ä¸æ˜¯noneã€‚ overflow: ä¸æ˜¯visibleã€‚ display: inline-boxæˆ–è€…flex æ ¹å…ƒç´ &lt;html&gt; ä½¿ç”¨åœºæ™¯å³ä¸‹è§’å¹¿å‘Šè·Ÿéšå±å¹•ç§»åŠ¨ï¼Œè®¾ç½®å…¶position: fixedå½¢æˆäº†ä¸€ä¸ªBFCï¼Œå¯å¯¹å†…å¸ƒå±€ã€‚ æµ®åŠ¨åŒºåŸŸleftä¸rightä¸¤ä¸ªå…ƒç´ ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œå°†leftè®¾ç½®ä¸ºBFC(float)é‚£ä¹ˆå¦‚æœrightçš„é«˜åº¦ç‰¹åˆ«å¤§ï¼Œrightå…ƒç´ ä¼šç¯ç»•åœ¨leftçš„å››å‘¨ï¼Œè¿™ä¹Ÿæ˜¯floatæœ€åˆçš„è®¾è®¡ï¼Œæ–‡å­—æ’ç‰ˆä¸­åšå›¾ç‰‡ç¯ç»•çš„åŠŸèƒ½ã€‚å¦‚æœå°†rightä¹Ÿè®¾ç½®ä¸ºBFC(float)é‚£ä¹ˆä¸¤ä¸ªå…ƒç´ çš„è¾¹ç•Œæ‰ä¼šæŒ¨åœ¨ä¸€èµ·ã€‚ 123456789101112131415161718192021&lt;style&gt; .float-wrapper &#123; border: 2px solid red; overflow: auto; &#125; .left &#123; float: left; background: yellowgreen; width: 50px; height: 50px; &#125; .right &#123; float: left; background: hotpink; height: 100px; &#125;&lt;/style&gt;&lt;div class="float-wrapper"&gt; &lt;div class="left"&gt;left&lt;/div&gt; &lt;div class="right"&gt;right&lt;/div&gt;&lt;/div&gt; æ¸…é™¤æµ®åŠ¨å½“å…¶å†…éƒ¨å…ƒç´ éƒ½ä¸ºfloatæ—¶ï¼Œä¼šé€ æˆé«˜åº¦å¡Œé™·ï¼Œå› ä¸ºæˆ‘ä»¬çš„BFCæ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸ºçˆ¶å…ƒç´ è®¾ç½®ä¸ºBFCï¼Œè§£å†³æ¸…é™¤æµ®åŠ¨ã€‚ 123456789&lt;style&gt;.wrapper &#123; overflow: auto; &#125;.box &#123; float: left; width: 50px; height: 50px; &#125;&lt;/style&gt;&lt;div class="wrapper"&gt; &lt;div class="box"&gt; &lt;div class="box"&gt;&lt;/div&gt; è§£å†³marginæ— æ•ˆçš„é—®é¢˜åŒä¸€ä¸ªBFCå†…ï¼Œä¼šå‡ºç°marginåˆå¹¶çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åŒºåŸŸå†…è¥é€ å‡ºä»–è‡ªå·±çš„BFCç¯å¢ƒï¼Œä¸å¤–ç•Œéš”ç¦»å³å¯ã€‚ 1234567891011121314151617181920212223242526272829&lt;style&gt; .box &#123; width: 50px; height: 50px; margin: 50px 0; &#125; .wrapper &#123; overflow: auto; &#125;&lt;/style&gt;&lt;!-- marginå‡ºç°é‡åˆ --&gt;&lt;div&gt; &lt;div class="box"&gt; &lt;div class="box"&gt;&lt;/div&gt;&lt;!-- marginæ¢å¤ --&gt;&lt;div&gt; &lt;div class="wrapper"&gt; &lt;div class="box"&gt; &lt;/div&gt; &lt;div class="wrapper"&gt; &lt;div class="box"&gt; &lt;/div&gt;&lt;/div&gt; å…¶ä»–-åœ£æ¯å¸ƒå±€æŒ‰ç…§è§£æé¡ºåºï¼Œcenteråœ¨å‰ã€‚ 123&lt;div class="center"&gt;&lt;/div&gt;&lt;div class="left"&gt;&lt;/div&gt;&lt;div class="right"&gt;&lt;/div&gt; ä¼šä½¿ç”¨åˆ°margin-left: -100px;ä»–ä¼šå‘å·¦å»èµ°ï¼Œå¦‚æœè¿™ä¸ªå…ƒç´ ä¹‹å‰è¢«æŒ¤ä¸‹æ¥äº†ï¼Œé‚£ä¹ˆä»–ä¼šåˆä¸Šå»ã€‚ ä½¿ç”¨padding: 0 100pxç„¶ååœ¨å°†å…ƒç´ æµ®åŠ¨åˆ°ä½ç½®ï¼Œä½¿ç”¨positionä¹‹åï¼Œå®šä½åˆ°ç©ºç¼ºé‡Œï¼Œå®ç°å·¦å³ä¸¤ä¾§å›ºå®šã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;style&gt; header, footer &#123; background: hotpink; &#125; .wrapper &#123; padding: 0 50px; overflow: auto; &#125; .center &#123; float: left; width: 100%; background: yellowgreen; &#125; .left &#123; position: relative; float: left; left: -50px; width: 50px; margin-left: -100%; background: deeppink; &#125; .right &#123; position: relative; right: -50px; float: left; width: 50px; margin-left: -50px; background: deeppink; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;header&gt;header&lt;/header&gt; &lt;div class="wrapper"&gt; &lt;div class="center"&gt;center&lt;/div&gt; &lt;div class="left"&gt;left&lt;/div&gt; &lt;div class="right"&gt;right&lt;/div&gt; &lt;/div&gt; &lt;footer&gt;footer&lt;/footer&gt;&lt;/body&gt;&lt;/html&gt; æœ¬èº«ä½¿ç”¨float+margin-left: -50pxå°±å¯ä»¥å®ç°ï¼Œä½†æ˜¯ä¼šè¦†ç›–ä½centeræ‰€ä»¥ï¼Œè®¾ç½®äº†wrapperçš„ä¸¤ä¾§çš„padding,å¹¶ä¸”å°†å…¶å‘ä¸¤ä¾§å®šä½å³å¯ã€‚]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¨¡æ‹Ÿasyncè‡ªæ‰§è¡Œå‡½æ•°]]></title>
    <url>%2F2020%2F06%2F07%2F%E6%A8%A1%E6%8B%9Fasync%E8%87%AA%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[å›é¡¾generatorå‡½æ•°generatorå‡½æ•°æ˜¯ç”¨æ¥å¤„ç†å¼‚æ­¥ç¼–ç¨‹çš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒä½¿å¾—ä¸€ä¸ªå‡½æ•°å¯ä»¥æš‚æ—¶ç¦»å¼€å½“å‰çš„æ‰§è¡Œæ ˆï¼Œå¹¶å°†å‡½æ•°çš„æ‰§è¡Œæƒäº¤ç”±å¤–éƒ¨å»å¤„ç†ã€‚ nextæ–¹æ³•ï¼Œæ‰‹åŠ¨è·å–å½“å‰çš„æ‰§è¡Œæƒ…å†µï¼Œnext()æ–¹æ³•çš„è¿”å›å€¼ï¼Œæ˜¯yieldçš„å³ä¾§å†…å®¹ï¼Œè€Œnext(param)å‚æ•°paramåˆ™æ˜¯ä¼ é€’ç»™generatorå‡½æ•°ä¸­è¢«yieldæŒ‚èµ·çš„å·¦ä¾§è¿”å›å€¼ã€‚ 1234567891011121314151617function* generator() &#123; const data1 = yield 2 const data2 = yield data1 + 1 return data2&#125;/* æ‰§è¡Œæƒ…å†µ1 */const gen = generator()gen.next() // &#123; value: 2, done: false &#125; å‡½æ•°ä»å¤´å¼€å§‹ï¼Œåœåœ¨åœ¨yield 2å³å¤„gen.next() // &#123; value: NaN, done: false &#125; å‡½æ•°ä»yield 2 å·¦ä¾§å¼€å§‹ï¼Œå¹¶è¿”å›undefined, åœåœ¨yield data1 + 1 gen.next() // &#123; value: NaN, done: true &#125; å‡½æ•°ä»yield data1 + 1 å·¦ä¾§å¼€å§‹ å¹¶è¿”å›undefined åœåœ¨æ‰§è¡Œå®Œå‡½æ•°return/* æ‰§è¡Œæƒ…å†µ2 */const gen = generator()gen.next() // &#123; value: 2, done: false &#125; å‡½æ•°ä»å¤´å¼€å§‹ï¼Œåœåœ¨åœ¨yield 2å³å¤„gen.next(8) // &#123; value: 9, done: false &#125; å‡½æ•°ä»yield 2 å·¦ä¾§å¼€å§‹ï¼Œå¹¶è¿”å›8, åœåœ¨yield data1 + 1 gen.next(2) // &#123; value: 2, done: true &#125; å‡½æ•°ä»yield data1 + 1 å·¦ä¾§å¼€å§‹, å¹¶è¿”å›2, åœåœ¨æ‰§è¡Œå®Œå‡½æ•°return å¯ä»¥çœ‹å‡ºgeneratorè®¾è®¡å¹¶ä¸æ˜¯å°†yieldå³ä¾§å†…å®¹ï¼Œå¼‚æ­¥å¤„ç†å®Œæ¯•åè§£æç»™å·¦ä¾§ï¼Œä»–æ˜¯è®©ä½ æ¥å¤„ç†ï¼Œåªä¸è¿‡å¤§å¤šæ•°æƒ…å†µæˆ‘ä»¬éƒ½å°†å¤„ç†çš„ç»“æœè¿”å›yield,é€ æˆäº†ä¸€ç§å‡è±¡ï¼Œå¹¶ä¸”å…¶å®ç›´æ¥è¿”å›å†…å®¹ç»™yieldæ­£æ˜¯æˆ‘ä»¬çš„æœ¬æ„ for-ofå¾ªç¯å¯ä»¥åœ¨doneä¸ºfalseçš„æƒ…å†µä¸‹ï¼Œä¸æ–­æ‰§è¡Œï¼Œä½¿ç”¨generatoræ‰§è¡Œfibonacci 1234567891011121314function* fibonacci() &#123; let [pre, cur] = [0, 1]; while(true) &#123; [pre, cur] = [cur, pre + cur]; yield cur &#125;&#125;for (let n of fibonacci()) &#123; if (n &gt; 100) &#123; break; &#125; console.log(n) // 1 ... 89&#125; å®ç°ä¸€ä¸ªasync/awaitçš„å®ç° async/awaitæ˜¯generatorå‡½æ•°çš„ä¸€ä¸ªè¯­æ³•ç³– ç›®çš„ä½¿ç”¨async/awaité‡å†™ä¾‹å­ 1234567async function asyncFunc() &#123; const data1 = await 2 const data2 = await data1 + 1 return data2&#125;asyncFunc().then(val =&gt; console.log(val)) // 3 æˆ‘ä»¬æœŸæœ›é€šè¿‡å°è£…ä¹‹åèƒ½å¤Ÿå®ç°async/awaitç±»ä¼¼çš„æ•ˆæœ 1234567const asyncFunc = asyncToGenerator(function* generator() &#123; const data1 = yield 2 const data2 = yield data1 + 1 return data2&#125;)asyncFunc().then(val =&gt; console.log(val)) // 3 å®ç°å¦‚æœå®ç°ä¸²å¼ï¼Œéœ€è¦ä½¿ç”¨åˆ°Promise,æ ¸å¿ƒå†…å®¹ä¸ºï¼Œå¦‚æœå½“å‰nextæœªæ‰§è¡Œå®Œæ¯•ï¼Œåˆ™åœ¨ä¸‹ä¸€ä¸ªpromise.thenä¸­ç»§ç»­è°ƒç”¨next(),ä¹Ÿå³æˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªPromiseï¼Œçœç•¥äº†generatorä¸­è‹¥å¹²å¯æ§åˆ¶çš„yield,åªå°†ä»–çš„è¿”å›å€¼å–å‡ºæ¥äº†ã€‚ 1234567891011121314151617181920212223function asyncToGenerator(generatorFunc) &#123; return function (...args) &#123; const gen = generatorFunc.apply(this, args) return new Promise((resolve, reject) =&gt; &#123; function step(key, arg) &#123; let generatorResult try &#123; generatorResult = gen[key](arg) &#125; catch(error) &#123; return reject(error) &#125; const &#123; value, done &#125; = generatorResult if (done) &#123; return resolve(value) &#125; else &#123; return Promise.resolve(value).then(val =&gt; step('next',val), err =&gt; step('throw',err)) &#125; &#125; // å¼€å¯ä»»åŠ¡ step('next') &#125;) &#125;&#125; æµ‹è¯• 123456789function* calcFunc(num) &#123; const x = yield num * 2; console.log(x); const y = 3 * (yield x + 1); console.log(y); return x + y;&#125;const gen = asyncToGenerator(calcFunc)gen(2).then(val =&gt; console.log(val)); // 16]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsä¸­å¸¸ç”¨ç»§æ‰¿æ–¹å¼]]></title>
    <url>%2F2020%2F06%2F06%2Fjs%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%BB%A7%E6%89%BF%E6%96%B9%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ç»§æ‰¿èƒ½å¤Ÿå®ç°ï¼Œæ˜¯å› ä¸ºå¯¹è±¡æ‰¾å±æ€§ï¼Œå¦‚æœæ‰¾ä¸åˆ°ä¼šä¸€ç›´é¡ºç€åŸå‹é“¾èµ°ä¸‹å»ï¼Œç›´åˆ°æ‰¾åˆ°nullä¸ºä¹‹ã€‚ åŸå‹é“¾ç»§æ‰¿å°†åŸå‹æŒ‡å‘ä¸€ä¸ªåˆ›å»ºçš„æ–°çš„çˆ¶å¯¹è±¡ ä¼˜ç‚¹ï¼šå¯ä»¥è®¿é—®çˆ¶å¯¹è±¡çš„æ‰€æœ‰æ–¹æ³•ç¼ºç‚¹ï¼š1.çˆ¶å¯¹è±¡çš„æ•°æ®ä¼šè¢«æ‰€ä»¥å­ç±»å…±äº«ï¼Œ2.æ— æ³•å‘æ„é€ å‡½æ•°å†…ä¼ å‚ å¦‚æœä¸ºå­ç±»æ”¹åŸå‹ä¹‹åï¼Œè¦ä¿®æ”¹å¥½ä¹‹åå†å»æ·»åŠ åŸå‹ä¸Šçš„æ–¹æ³•ã€‚ 123456789101112131415161718function Parent () &#123; this.names = ['kevin', 'daisy'];&#125;function Child () &#123; &#125; Child.prototype = new Parent(); let child1 = new Child(); child1.names.push('yayu'); console.log(child1.names); // ["kevin", "daisy", "yayu"] let child2 = new Child(); console.log(child2.names); // ["kevin", "daisy", "yayu"] ç±»å¼ç»§æ‰¿ï¼Œæ„é€ å™¨ç»§æ‰¿ï¼Œç»å…¸ç»§æ‰¿åˆ©ç”¨åˆ›å»ºå¯¹è±¡æ—¶ï¼ŒåŒes6ä¸­ç±»çš„constructä¸­thisçš„ç‰¹æ€§,ä¹Ÿå³æœ€ç»ˆè¿”å›çš„ç»“æœä¼šæ˜¯çœŸæ­£åˆ›å»ºå‡ºæ¥ ä»–é¿å…äº†åŸå‹ç»§æ‰¿çš„å¤§éƒ¨åˆ†ç¼ºç‚¹ï¼Œå¹¶ä¸”ç­‰äºå°†çˆ¶ç±»â€™æ„é€ å™¨â€˜å€Ÿç”¨äº†è‡ªå·±ä¸€ä¸‹ã€‚ ä¼˜ç‚¹ï¼š1.é¿å…å­ç±»æ‰€æœ‰å±æ€§å…±äº«ã€‚2.å¯ä»¥å‘æ„é€ å™¨å†…ä¼ å‚ç¼ºç‚¹ï¼š1.ä¸èƒ½è®¿é—®çˆ¶ç±»åŸå‹æ–¹æ³•ã€‚2.åªæ˜¯ä½¿ç”¨ä¸€ä¸‹çˆ¶ç±»åŸå‹ï¼Œä½†æ˜¯æ¯ä¸€æ¬¡éƒ½è¦é‡æ–°åˆ›å»ºçˆ¶ç±» 123456789101112131415function Parent (name) &#123; this.name = name;&#125; function Child (name) &#123; Parent.call(this, name);&#125; const child1 = new Child('kevin'); console.log(child1.name); // kevin const child2 = new Child('daisy'); console.log(child2.name); // daisy ç»„åˆç»§æ‰¿åŸå‹é“¾ç»§æ‰¿ + ç±»å¼ç»§æ‰¿ åŸå‹ç»§æ‰¿é‡ç‚¹å…³æ³¨äº†åŸå‹éƒ¨åˆ†ï¼Œç±»å¼ç»§æ‰¿é‡ç‚¹å…³æ³¨äº†å®ä¾‹éƒ¨åˆ†ï¼Œå°†ä»–ä»¬è¿›è¡Œä¸€æ¬¡ç»„åˆ ä¼˜ç‚¹ï¼š1.ä¸èƒ½è®¿é—®çˆ¶ç±»åŸå‹æ–¹æ³•ã€‚2.é¿å…å­ç±»æ‰€æœ‰å±æ€§å…±äº«ã€‚3.å¯ä»¥å‘æ„é€ å™¨å†…ä¼ å‚ç¼ºç‚¹ï¼š1.åªæ˜¯ä½¿ç”¨ä¸€ä¸‹çˆ¶ç±»åŸå‹ï¼Œä½†æ˜¯æ¯ä¸€æ¬¡éƒ½è¦é‡æ–°åˆ›å»ºçˆ¶ç±»ï¼Œè°ƒç”¨2æ¬¡ï¼Œåˆ›å»ºå®ä¾‹ä¸€æ¬¡ï¼Œç»‘å®šåŸå‹ä¸€æ¬¡ã€‚ 123456789101112131415161718192021222324252627282930function Parent (name) &#123; this.name = name; this.colors = ['red', 'blue', 'green'];&#125; Parent.prototype.getName = function () &#123; console.log(this.name)&#125; function Child (name, age) &#123; Parent.call(this, name); this.age = age;&#125; Child.prototype = new Parent(); var child1 = new Child('kevin', '18'); child1.colors.push('black'); console.log(child1.name); // kevinconsole.log(child1.age); // 18console.log(child1.colors); // ["red", "blue", "green", "black"] var child2 = new Child('daisy', '20'); console.log(child2.name); // daisyconsole.log(child2.age); // 20console.log(child2.colors); // ["red", "blue", "green"] åŸå‹å¼ç»§æ‰¿åˆ›å»ºå¯¹è±¡æ—¶ï¼Œç›´æ¥ä»¥æŸä¸ªå¯¹è±¡ä¸ºåŸå‹æŒ‚è½½ï¼Œå’ŒåŸå‹é“¾ç»§æ‰¿ç›¸ä¼¼ï¼Œåªä¸è¿‡æˆ‘ä»¬å¹¶æ²¡æœ‰æä¾›æ„é€ å‡½æ•°ã€‚ ä»–å’ŒåŸå‹é“¾ç»§æ‰¿çš„åŒºåˆ«æ˜¯ï¼š åŸå‹é“¾ç»§æ‰¿ï¼Œæœ‰æ„é€ å‡½æ•°ï¼Œæ”¹å˜prototype åŸå‹å¼ç»§æ‰¿ï¼Œæ— æ„é€ å‡½æ•°ï¼Œå†…éƒ¨åˆ›å»ºä¸€ä¸ªç©ºæ„é€ å‡½æ•°ï¼Œç›´æ¥æ›¿æ¢prototype,åªå…³å¿ƒä»¥æŸä¸ªå¯¹è±¡ä¸ºåŸå‹çš„åˆ›å»ºã€‚ 123456789// es6å®˜æ–¹å®ç°Object.create()// åœ¨å†…éƒ¨æ‰‹åŠ¨åˆ›å»ºäº†æ„é€ å™¨function createObj(proto) &#123; function F()&#123;&#125; F.prototype = proto return new F()&#125; ä¼˜ç‚¹ï¼š1.å¯ä»¥ä½¿ç”¨åŸå‹é“¾çš„æ–¹æ³•ã€‚2.åˆ›å»ºèµ·æ¥æ¯”è¾ƒç®€å•ã€‚ç¼ºç‚¹ï¼š1.ä¼šå…±äº«çˆ¶å¯¹è±¡æ–¹æ³•ï¼Œä½†ä¸ä¸€å®šä¼šæ”¹å˜ 12345678910111213let person = &#123; name: 'kevin', friends: ['daisy', 'kelly']&#125; let person1 = createObj(person);let person2 = createObj(person); person1.name = 'person1';console.log(person2.name); // kevin person1.friends.push('taylor');console.log(person2.friends); // ["daisy", "kelly", "taylor"] è¿™é‡Œä¸€å®šè¦æ³¨æ„.æ“ä½œç¬¦ï¼Œå¦‚æœä»–æ²¡æœ‰è¯¥å±æ€§ï¼Œä¼šè¿›è¡Œæ·»åŠ ï¼Œç„¶åè¿›è¡Œä¿®æ”¹çš„è¯æ˜¯ä¸ä¼šå‘ç”Ÿæ”¹å˜çš„ã€‚ æ‰€ä»¥ï¼Œä¿®æ”¹person1.nameçš„å€¼ï¼Œperson2.nameçš„å€¼å¹¶æœªå‘ç”Ÿæ”¹å˜ï¼Œå¹¶ä¸æ˜¯å› ä¸ºperson1å’Œperson2æœ‰ç‹¬ç«‹çš„ name å€¼ï¼Œè€Œæ˜¯å› ä¸ºperson1.name = &#39;person1&#39;ï¼Œç»™person1æ·»åŠ äº†nameå€¼ï¼Œå¹¶éä¿®æ”¹äº†åŸå‹ä¸Šçš„nameå€¼ã€‚ åŒæ ·ï¼Œå¦‚æœæ˜¯person1.friends = [ xxx ]è¿™æ ·ä»¥åå†ä¿®æ”¹ï¼Œä¹Ÿæ˜¯ä¸ä¼šå½±å“åˆ°åŸå‹ä¸Šçš„æ–¹æ³•çš„ã€‚ å¯„ç”Ÿå¼ç»§æ‰¿å’ŒåŸå‹å¼ç»§æ‰¿å¾ˆåƒï¼Œåªæ˜¯å¢æ·»äº†ä¸€äº›æ–¹æ³•ï¼Œç±»ä¼¼äºåŒ…è£…äº†ä¸€å±‚ 12345678function createObj(o) &#123; let clone = Object.create(o) clone.sayName = function () &#123; console.log('hi') &#125; return clone&#125; å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ä»–æ˜¯ç»“åˆäº†ä¸Šè¿°çš„ä¼˜ç‚¹ï¼Œåªæ˜¯æˆ‘ä»¬å†ä½¿ç”¨ç»§æ‰¿æ—¶ï¼Œä¸€èˆ¬ä¸ä¼šå¸Œæœ›å­ç±»å»å…±äº«çˆ¶ç±»çš„æ–¹æ³•ï¼Œï¼ˆæœ‰çš„è¯ï¼Œå°±ä½¿ç”¨ç»„åˆç»§æ‰¿ï¼‰æ‰€ä»¥ä¼šåˆ›å»ºå¾ˆå¤šå¯¹è±¡ï¼Œå…¶åŸå‹ä¸Šå¯èƒ½ä¼šæœ‰ä¸€äº›ç”¨ä¸åˆ°çš„å¯¹è±¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç”¨ç»„åˆç»§æ‰¿å°±å¯ä»¥é¿å… ä¼˜ç‚¹ï¼š1.å¯ä»¥è®¿é—®çˆ¶ç±»åŸå‹ã€‚2.é¿å…å…±äº«çˆ¶ç±»æ•°æ®ã€‚3.å¯ä»¥è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚ã€‚4.å…å»åŸå‹ä¸Šä¸å¿…è¦çš„å±æ€§ã€‚ å°±æ˜¯åœ¨ç»„åˆç»§æ‰¿çš„åŸºç¡€ä¸Šï¼Œé¿å…ç›´æ¥prototype = new Xxx(),è€Œæ˜¯é‡‡ç”¨è¿‚å›çš„æ–¹å¼ã€‚ æœ€ç»ˆParentä¸Šçš„å±æ€§ï¼Œé€šè¿‡ç±»å¼ç»§æ‰¿ï¼Œå€Ÿç»™å­ç±»ï¼Œç­‰äºç›´æ¥å˜æˆäº†å­ç±»çš„å±æ€§ï¼Œè€Œåœ¨åŸå‹ä¸Šï¼Œç”±äºå¹¶æ²¡æœ‰newæ“ä½œï¼Œæ‰€ä»¥ä¹Ÿå¹¶ä¸ä¼šå°†Parentä¸Šçš„éƒ¨åˆ†æ— ç”¨å±æ€§æŒ‚è½½åˆ°åŸå‹ä¸Šã€‚ 123456789101112131415161718192021function Parent (name) &#123; this.name = name; this.colors = ['red', 'blue', 'green'];&#125; Parent.prototype.getName = function () &#123; console.log(this.name)&#125;function Child (name, age) &#123; Parent.call(this, name); this.age = age;&#125;function inheritPrototype(subObj, supperObj) &#123; const prototype = Object.create(supperObj.prototype) prototype.constructor = subObj prototype.constructor.prototype = prototype&#125;inheritPrototype(Child, Parent) å‚è€ƒ(https://www.cnblogs.com/lanyueff/p/7792009.html)[https://www.cnblogs.com/lanyueff/p/7792009.html]]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡´2å¹´å‰çš„è‡ªå·±]]></title>
    <url>%2F2020%2F06%2F04%2F%E8%87%B42%E5%B9%B4%E5%89%8D%E7%9A%84%E8%87%AA%E5%B7%B1%2F</url>
    <content type="text"><![CDATA[2å¹´å‰çš„è‡ªå·±åº”è¯¥æ˜¯åœ¨å‡†å¤‡é«˜è€ƒäº†ï¼Œä»Šå¹´å—åˆ°ç–«æƒ…å½±å“æœ‰æ‰€æ¨è¿Ÿï¼Œåº”è¯¥æ˜¯åˆ°7æœˆä»½äº†ã€‚ä»Šå¤©å’ŒåŒå­¦èŠäº†èŠäººç”Ÿï¼Œæ„Ÿè§‰ä¸çŸ¥ä¸è§‰å¤§å®¶ä¹Ÿéƒ½å¼€å§‹è€ƒè™‘äººç”Ÿäº†ï¼Œåè§‚è‡ªå·±ï¼Œè¿™é‡Œä¸€è·¯èµ°æ¥è¿˜æ˜¯å¾—ä»¥æœ‰çˆ¶æ¯èƒ½ä¸€ç›´æ”¯æŒä¸é¼“åŠ±æˆ‘ã€‚æ•™è‚²çœŸçš„å¾ˆé‡è¦ï¼Œä¸€å®šä¸èƒ½å°çœ‹äº†ä»–çš„ä½œç”¨ï¼Œä¸ä»…æ˜¯æ•™æˆä¸€ä¸ªäººçŸ¥è¯†ï¼Œæ›´æ˜¯çº¦æŸä¸€ä¸ªäººåœ¨æ­£ç¡®æ—¶é—´å¹²æ­£ç¡®çš„äº‹ï¼Œå¸Œæœ›çˆ¶æ¯ä¸€åˆ‡å®‰å¥½ï¼Œä¹Ÿç»™è‡ªå·±æ‰“æ°”ï¼ŒåŠ æ²¹ï¼]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ ‡å‡†Packageæ‰“åŒ…æ–¹å¼]]></title>
    <url>%2F2020%2F05%2F31%2F%E6%A0%87%E5%87%86Package%E6%89%93%E5%8C%85%E6%96%B9%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[å‰åŠéƒ¨åˆ†æ˜¯father-buildï¼Œåéƒ¨åˆ†æ˜¯æ‰“åŒ…éœ€è¦æ³¨æ„çš„éƒ¨åˆ† ä½¿ç”¨father-buildæ‰“åŒ… å…·ä½“å¯å‚è€ƒreduxçš„åŒ…ç®¡ç†ï¼Œæ˜¯ä¸€ä¸ªç›¸å¯¹æ¯”è¾ƒè§„èŒƒçš„åŒ…ç®¡ç†ä»“åº“(unpkg) ä½¿ç”¨æ–¹å¼1234567891011# å®‰è£…æ–¹å¼yarn add father-build -D# ä½¿ç”¨æ–¹å¼"build": "father-build"# åº”è¯¥ä¸ºåœ¨å½“å‰ç›®å½•ä¸‹å®‰è£…ä¾èµ–åç›´æ¥ä½¿ç”¨father-build# æ­¤å¤„ä¸ºäº†èŠ‚çœnode_modulesï¼Œå‡å®‰è£…åœ¨äº†ä¸Šä¸€çº§ç›®å½•../node_modules/.bin/father-build é…ç½®æ–‡ä»¶.fatherrc.js 123456789101112131415161718192021222324252627// rollupï¼ˆæ¨èï¼‰export default &#123; entry: 'src/index.js', esm: &#123; type: 'rollup', mjs: true, // å¼€å¯mjs &#125;, cjs: 'rollup', umd: &#123; name: 'demo', // æš´éœ²å…¨å±€çš„åç§° minFile: true, // æ˜¯å¦æ‰“å‡ºumd.min &#125;&#125;// babelexport default &#123; entry: 'src/index.js', esm: &#123; type: 'babel', mjs: true, &#125;, cjs: 'babel', umd: &#123; name: 'demo', minFile: true, &#125;&#125; æ³¨æ„åŒ…åç§° ç›®å½•åç§° package.jsonåç§° package.jsonç‰ˆæœ¬ åŒ…æŒ‡å‘ main(cjs) module(esm) unpkg(umd) åŒ…å«çš„æ–‡ä»¶package.json 123456&#123; "files": [ "dist/", "lib/" ]&#125; å‘åŒ…å‰æ£€æŸ¥1npm pack å‘å¸ƒ1npm publish]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨requestIdleCallbackè°ƒåº¦ä»»åŠ¡]]></title>
    <url>%2F2020%2F05%2F27%2F%E4%BD%BF%E7%94%A8requestIdleCallback%E8%B0%83%E5%BA%A6%E4%BB%BB%E5%8A%A1%2F</url>
    <content type="text"><![CDATA[ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿæ“ä½œç³»ç»Ÿä¸­è°ƒåº¦æ“ä½œç³»ç»Ÿä¸­ï¼ŒåŸºäºæ—¶é—´ç‰‡è°ƒåº¦æ—¶ï¼Œå¦‚æœåˆ°äº†æ—¶é—´è¯¥ç¨‹åºè¿˜æ²¡æœ‰è¿è¡Œå®Œæ¯•ï¼Œé‚£ä¹ˆæ­¤æ—¶ä¼šæœ‰ä¸­æ–­ï¼Œå°†è¯¥ç¨‹åºçš„ç›¸å…³è¿è¡Œä½ç½®ï¼Œä»¥åŠä¸Šä¸‹æ–‡ç¯å¢ƒç­‰å­˜å…¥ç›¸å…³çš„å¯„å­˜å™¨ä¸­ï¼Œä¹‹åè¿›è¡Œæ¢å¤ æµè§ˆå™¨ä¸­è°ƒåº¦æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­ï¼Œä¹Ÿå¯ä»¥è¿‘ä¼¼çš„æ¨¡æ‹Ÿå‡ºè°ƒåº¦ç®—æ³•ï¼Œä½†æ˜¯jsç¨‹åºå¿…é¡»è‡ªå·±å®ˆæ—¶ï¼Œå¦‚æœåˆ°äº†æ—¶é—´ä¸è‡ªå·±é€€å‡ºï¼Œæˆ–è€…æ˜¯é•¿æ—¶é—´å ç”¨ä¸»çº¿ç¨‹ï¼Œé‚£ä¹ˆå¡é¡¿æ˜¯å¿…ç„¶çš„ï¼Œæ‰€ä»¥åœ¨æµè§ˆå™¨ä¸­å¿…é¡»æ¥æ‰‹åŠ¨å°½å¯èƒ½çš„æ§åˆ¶ç¨‹åºçš„è¿è¡Œã€‚ æµè§ˆå™¨ä¸­ç›®å‰æä¾›çš„æ–¹å¼åœ¨ä¸€ä¸ªEventLoopï¼Œå¦‚æœå½“å‰è¿™ä¸ªå¾ªç¯éœ€è¦æ›´æ–°ï¼Œjsä»£ç -requestAnimationFrame-UIæ¸²æŸ“(layout, paint)-requestIdleCallback(0ä¸ªæˆ–å¤šä¸ª)-macroTask requestIdleCallbackå½“æµè§ˆå™¨è¿è¡Œæ—¶ï¼Œä¸»çº¿ç¨‹æœ‰ç©ºé—²çš„æ—¶é—´ï¼Œé‚£ä¹ˆå°±ä¼šå»è¿è¡Œä»£ç ï¼Œä½†æ˜¯æµè§ˆå™¨ç©ºé—²ä¸‹æ¥ï¼Œè°ä¹Ÿä¸èƒ½ä¿è¯æ¥ä¸‹æ¥æµè§ˆå™¨ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œä¼šä¸ä¼šæœ‰ä¼˜å…ˆçº§æ›´é«˜çš„ä»»åŠ¡è¿›æ¥,å¦‚ç”¨æˆ·ç‚¹å‡»çš„äº¤äº’äº‹ä»¶ï¼Œæˆ–è€…æ˜¯åŠ¨ç”»äº‹ä»¶,ç›¸å…³çš„ç ”ç©¶å‘ç°ï¼Œäººåœ¨50mså†…æ˜¯ä¸å¤ªå®¹æ˜“å¯Ÿè§‰å‡ºå˜åŒ–æ¥çš„ï¼Œæ‰€ä»¥å¦‚æœå½“å‰çº¿ç¨‹ç©ºé—²ï¼ˆç”¨æˆ·ä¸æ“ä½œï¼Œæˆ–è€…å½“å‰å¹¶æ²¡ä»€ä¹ˆæ“ä½œè¿›è¡Œï¼‰å½“å‰requestIdleCallbackä¼šè®¾å®š&lt;50msæ‰§è¡Œæ—¶é—´ã€‚ requestIdleCallback(fn, timeout?) fnæœ€ç»ˆå›è°ƒæ‰§è¡Œfn(deadline),deadline.timeoutæ˜¯å¦è¶…æ—¶,deadline.timeRemaining()å‰©ä½™æ—¶é—´ï¼Œ&gt;=0, åˆ°0è¡¨ç¤ºå·²ç»æ‰§è¡Œè¶…æ—¶äº†ã€‚ timeout,è¡¨ç¤ºè¶…æ—¶æ—¶é—´ï¼Œå› ä¸ºrICå¹¶ä¸ä¸€å®šä¼šæ‰§è¡Œï¼Œå¦‚æœæµè§ˆå™¨é•¿æ—¶é—´å¿™ç¢Œï¼Œé‚£ä¹ˆä»–ä¼šåœ¨timeoutè¶…æ—¶ä¸‹å¼ºåˆ¶æ‰§è¡Œ Reactçš„polyfill `React@16.6.x` Reactå›¢é˜Ÿè€ƒè™‘åˆ°æµè§ˆå™¨å…¼å®¹é—®é¢˜ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨rIC,è€Œæ˜¯ä½¿ç”¨rAF+setTimeoutæ¥è¿›è¡Œpolyfill rAF,requestAnimationFrameç”¨æ¥åœ¨æ¯ä¸ªæ¸²æŸ“æ—¶ï¼Œå‘å‡ºæ‰§è¡Œçš„ä¿¡å· å¹¶ä¸”å…¶è°ƒåŠ¨callbackæ—¶ï¼Œä¼šä¼ å…¥ç±»ä¼¼å½“å‰performace.nowï¼Œä»–ä½¿ç”¨è®¡ç®—å±å¹•çš„åˆ·æ–°ç‡ï¼ˆå¤šæ¬¡rAFé—´éš”ï¼‰è®¡ç®—å‡ºä¸‹ä¸€æ¬¡æ¸²æŸ“çš„deadlineå½“ç„¶è¿™é‡ŒåŒ…æ‹¬äº†UIçº¿ç¨‹çš„æ—¶é—´ï¼Œdeadlineä¸å½“å‰æ—¶é—´nowå¯è¿‘ä¼¼ç®—å‡ºï¼Œè¿™ä¸€å¸§è¿˜æœ‰å¤šå°‘çš„æ‰§è¡Œæ—¶é—´ã€‚ setTimeoutåŒæ ·æ˜¯ä¸ºäº†é˜²æ­¢è¯¥ä»»åŠ¡åœ¨æµè§ˆå™¨ç¹å¿™æ—¶ï¼Œå¤šæ¬¡å¾—ä¸åˆ°æ‰§è¡Œè€Œè®¾å®šçš„ä¸€ä¸ªè¶…æ—¶ åœ¨rAFä¸­å‘å‡ºpostMessageï¼ŒUIæ¸²æŸ“ç»“æŸåï¼Œè°ƒç”¨macroTask,ç›‘å¬messageå›è°ƒçš„äº‹ä»¶ä¼šæ‰§è¡Œï¼Œå¹¶é€šè¿‡ä¸Šä¸‹æ–‡è®¡ç®—æ˜¯å¦è¶…æ—¶ ä½¿ç”¨rIC(requestIdleCallback)å°ä¾‹å­ ä½¿ç”¨chromeæ—¶ï¼Œå¯åœ¨Performanceè°ƒä½æ€§èƒ½ï¼Œæ•ˆæœè¾ƒä¸ºæ˜æ˜¾ã€‚ æ‰§è¡Œä¸€å®šæ•°é‡çš„console.logæ“ä½œï¼Œä½¿ç”¨åŒæ­¥å¼‚æ­¥æ¥æ‰§è¡Œ æ¨¡æ‹Ÿæµè§ˆå™¨å¿™ç¢Œçš„æƒ…å†µä½¿ç”¨ä¸€ä¸ªcssåŠ¨ç”»æ¨¡æ‹Ÿæµè§ˆå™¨çš„å¿™ç¢Œæƒ…å†µï¼Œä»è€Œæ›´å¥½çš„æµ‹è¯•æ€§èƒ½ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå·¦å³ç§»åŠ¨çš„box 123456789101112131415161718192021222324252627282930&lt;style&gt;/* ä½¿ç”¨marginç§»åŠ¨ï¼Œæ›´å¥½éªŒè¯æ•ˆæœï¼Œå¦‚æœåšåŠ¨ç”»ï¼Œtransformè¿˜æ˜¯é¦–é€‰ */@keyframes slide &#123; 0% &#123; margin-left: 0; /* transform: translateX(0); */ &#125; 50% &#123; margin-left: 200px; /* transform: translateX(200px); */ &#125; 100% &#123; margin-left: 0; /* transform: translateX(0); */ &#125;&#125;.box &#123; width: 400px; height: 200px; animation-duration: 3s; animation-name: slide; animation-iteration-count: infinite; background: red;&#125;&lt;/style&gt;&lt;div class="box"&gt;&lt;/box&gt; åŒæ­¥123456789101112131415161718192021222324const TEST_SIZE = 1000function performSync () &#123; const arr = new Array(TEST_SIZE) let i = 0; console.time('push') // æ”¾å…¥æ•°ç»„ä¸­ for (; i &lt; TEST_SIZE; i++) &#123; arr[i] = i &#125; i = 0 console.timeEnd('push') // push: 0.41015625ms console.time('sync-log') // æ‰“å° for (; i &lt; TEST_SIZE; i++) &#123; console.log(arr[i]) &#125; i = 0 console.timeEnd('sync-log') // sync-log: 2690.320068359375ms&#125; å¯ä»¥çœ‹åˆ°ï¼Œæ‰§è¡ŒperformSyncæ—¶ï¼Œæµè§ˆå™¨åŠ¨ç”»å‘ç”Ÿäº†æ˜æ˜¾çš„å¡é¡¿ï¼Œä¹Ÿå³jså ç”¨æ—¶é—´è¿‡é•¿ï¼Œå¯¼è‡´åé¢å‡ºç°æ‰å¸§ å¼‚æ­¥æˆ‘ä»¬è¿™é‡Œå­˜å–æ•°æ®æ—¶ï¼Œéœ€è¦ä½¿ç”¨é“¾è¡¨è¿›è¡Œæ“ä½œäº†ï¼Œå¯èƒ½ä¼šæ¶‰åŠåˆ°é¢‘ç¹çš„å¢æ·»å…ƒç´ ï¼Œ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758function performAsync () &#123; let deadline = null let firstCallbackNode = null let lastCallbackNode = null const arr = new Array(TEST_SIZE) let i = 0 console.time('push') // æ”¾å…¥é“¾ä¸­ let obj = &#123;&#125; for (; i &lt; TEST_SIZE; i++) &#123; obj = &#123; next: null, payload: i &#125; if (firstCallbackNode === null) &#123; lastCallbackNode = firstCallbackNode = obj &#125;else &#123; lastCallbackNode = lastCallbackNode.next = obj &#125; &#125; i = 0 console.timeEnd('push') // push: 1.015869140625ms // æ‰§è¡Œé“¾è¡¨ä¸­çš„ä»»åŠ¡ function flushWork(callback) &#123; while (deadline.timeRemaining() &gt; 0) &#123; // ç»“æŸä»»åŠ¡ if (firstCallbackNode === null) &#123; lastCallbackNode = null return &#125; callback(firstCallbackNode.payload) firstCallbackNode = firstCallbackNode.next &#125; &#125; // è¿›è¡Œè°ƒåº¦ function scheduleWork(deadlineObj) &#123; deadline = deadlineObj // ç»“æŸ if (firstCallbackNode === null) &#123; deadline = null console.timeEnd('async-log') // async-log: 7676.759033203125ms return &#125; // ä¸‹ä¸€æ¬¡ç»§ç»­è°ƒåº¦ requestIdleCallback(scheduleWork) // å½“å‰æ‰§è¡Œåˆ·æ–°ä»»åŠ¡ flushWork(console.log) &#125; console.time('async-log') // å¯åŠ¨è°ƒåº¦ requestIdleCallback(scheduleWork)&#125; å¯ä»¥çœ‹åˆ°åœ¨æ‰§è¡ŒperformAsyncæ—¶ï¼ŒåŠ¨ç”»æ‰§è¡Œä¾æ—§æ¯”è¾ƒæµç•…ï¼Œå½“ç„¶ç›¸åº”æ‰€è€—è´¹æ—¶é—´è¿˜æ˜¯å¢åŠ çš„ã€‚ ç»“è®ºæµè§ˆè¦å¹²çš„æ´»æ˜¯ä¸€å®šçš„ï¼Œä½ è®©ä»–ä¸€ä¸‹å¹²å®Œï¼Œæ—¶é—´å¾ˆå°‘ï¼Œä½†æ˜¯å‘ç”Ÿäº†æ˜æ˜¾çš„å¡é¡¿ï¼ˆä»–è‡ªå·±çš„æ´»æ¥ä¸åŠå¹²äº†ï¼‰ã€‚è®©ä»–ç©ºé—²çš„æ—¶å€™æ‰§è¡Œï¼ŒåŠ¨ç”»è¾ƒä¸ºæµç•…ï¼Œæ‰§è¡Œä»»åŠ¡æ‰€éœ€çš„æ—¶é—´ä¹Ÿä¹…äº†ï¼ˆç»™ä½ å¹²æ´»çš„æ—¶é—´å°‘äº†ï¼‰ Reactå›¢é˜ŸåŒæ—¶å¼•è¿›äº†ConcurrentModeæ„ä¸ºç»™ä»»åŠ¡å¢åŠ ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œè¿™æ ·èƒ½å¤Ÿæ›´å¥½çš„è°ƒåº¦ï¼Œå½“ç„¶ä»–é‡‡ç”¨â€œæ‡’â€ç­–ç•¥ï¼Œèƒ½ä¸æ‰§è¡Œå°±ä¸æ‰§è¡Œï¼Œç­‰ä»–è¦è¶…æ—¶äº†ï¼Œèµ¶ç´§æ‰§è¡Œã€‚ä¿è¯äº†æœ‰å¤§é‡é—´éš™æ—¶é—´ç»™ç”¨æˆ·äº¤äº’ï¼Œä½†æ˜¯ä»»åŠ¡è¶Šç§¯è¶Šå¤šï¼Œåˆ°æœ€åä¸€å¤§ç¬”å¸è¦ç®—çš„æ—¶å€™ï¼Œè¿˜æ˜¯ä¼šå‡ºç°å¡é¡¿ã€‚]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨å¯¹è±¡æ± åˆ›å»ºæ•°æ®]]></title>
    <url>%2F2020%2F05%2F25%2F%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1%E6%B1%A0%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%2F</url>
    <content type="text"><![CDATA[åœ¨Reactä¸­,ä½¿ç”¨åˆ°poolçš„åœ°æ–¹å¹¶ä¸å°‘ï¼Œæ¯”å¦‚SyntheticEvent.jsä¸­ä½¿ç”¨äº‹ä»¶å¯¹è±¡æ± ï¼Œæ¥åˆ›å»ºé”€æ¯äº‹ä»¶ã€‚ReactChild.jsä½¿ç”¨childå¯¹è±¡æ± ï¼ŒReact.Children.forEachæ¥éå†å­èŠ‚ç‚¹ã€‚ ä½¿ç”¨å¯¹è±¡æ± æ¥åˆ›å»ºæ•°æ®ï¼Œå¯ä»¥å¾ˆå¥½åœ°å¸®åŠ©æˆ‘ä»¬åˆ›å»ºé‚£äº›éœ€è¦é¢‘ç¹åˆ›å»ºé”€æ¯çš„å…ƒç´ ,å¹¶åœ¨æ€§èƒ½ä¸Šåšä¸€éƒ¨åˆ†ä¼˜åŒ–ã€‚ ä¸¾ä¾‹æˆ‘ä»¬ä½¿ç”¨Markeræ¥æ ‡è®°åœ°å›¾ä¸Šçš„ç‚¹ å‚è€ƒReact.16.6.0ä¸­SyntheticEvent.jsåˆ›å»ºäº‹ä»¶æ± çš„å†™æ³• å®šä¹‰Markerå¯¹è±¡123456789101112131415function Marker(x, y, containerInfo) &#123; this.x = x this.y = y this.containerInfo = containerInfo&#125;Marker.prototype.destroy = function () &#123; this.x = null this.y = null this.containerInfo = null&#125;Marker.prototype.show = function () &#123; console.log(`x: $&#123;this.x&#125; y:$&#123;this.y&#125; containerInfo:$&#123;this.containerInfo&#125;`)&#125; å®šä¹‰å¯¹è±¡æ± ç›¸å…³1234567891011121314151617181920212223242526272829303132333435// å¯¹è±¡æ± å¤§å°const MARKER_POOL_SIZE = 10// ä»poolä¸­å¾—åˆ°ä¸€ä¸ªmarkerå¯¹è±¡function getPooledMarker(x, y, containerInfo) &#123; const MarkerConstructor = this if (MarkerConstructor.markerPool.length) &#123; const instance = MarkerConstructor.markerPool.pop() MarkerConstructor.call(instance, x, y, containerInfo) return instance &#125; return new MarkerConstructor(x, y, containerInfo)&#125;// å½’è¿˜ä¸€ä¸ªmarkerå¯¹è±¡åˆ°poolä¸­function releasePooledMarker(marker) &#123; const MarkerConstructor = this if (marker instanceof MarkerConstructor === false) &#123; throw Error() // å½“å‰markerä¸æ˜¯ç”±å…¶åˆ›é€ ,é”™è¯¯æç¤º &#125; marker.destroy() if (MarkerConstructor.markerPool.length &lt; MARKER_POOL_SIZE) &#123; MarkerConstructor.markerPool.push(marker) &#125;&#125;// å‘Markerä¸ŠæŒ‚è½½å¯¹è±¡æ± çš„æ–¹æ³•function addMarkerPoolingTo(MarkerConstructor) &#123; MarkerConstructor.markerPool = [] MarkerConstructor.getPooled = getPooledMarker MarkerConstructor.release = releasePooledMarker&#125;// å°†å¯¹è±¡æ± åº”ç”¨åˆ°Markerä¸ŠaddMarkerPoolingTo(Marker) ä½¿ç”¨æ–¹å¼ è¿™é‡Œæ‰‹åŠ¨é‡Šæ”¾marker,å³marker = null 12345678910111213141516// æœªä½¿ç”¨å¯¹è±¡æ± let marker1 = new Marker(1, 1, 'container1')marker1.show()marker1.destroy()marker1 = null// ä½¿ç”¨å¯¹è±¡æ± let marker2 = Marker.getPooled(2, 2, 'container2')marker2.show()Marker.release(marker2)marker2 = null]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äº‹ä»¶å›è°ƒç³»ç»Ÿä¸­å¤„ç†é”™è¯¯]]></title>
    <url>%2F2020%2F05%2F21%2F%E4%BA%8B%E4%BB%B6%E5%9B%9E%E8%B0%83%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%A4%84%E7%90%86%E9%94%99%E8%AF%AF%2F</url>
    <content type="text"><![CDATA[æ›´ä¼˜çš„è°ƒè¯•æ–¹å¼å¦‚ä½•è®©æˆ‘ä»¬åœ¨è°ƒè¯•ä»£ç æ—¶ï¼Œæ—¢çœ‹åˆ°å…·ä½“çš„æŠ¥é”™ä¿¡æ¯ï¼Œåˆèƒ½ä¸å½±å“å½“å‰çš„æ‰§è¡Œç¯å¢ƒ,ä½¿ç”¨try-catchçš„æ–¹å¼ä¼šå¸®æˆ‘ä»¬é™é»˜æ•è· ç¨‹åºå‡ºé”™æ˜¯ä¸èƒ½èµ°æ­£å¸¸çš„é€»è¾‘ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»…æ˜¯è®°å½•é”™è¯¯ä¿¡æ¯ï¼ŒhasErrorç­‰å¹¶ä¸”å»èµ°å‡ºé”™çš„é€»è¾‘ï¼ŒReactçš„ErrorBandageæ¸²æŸ“é”™è¯¯çš„å¤‡ç”¨UIï¼Œè¿™é‡Œä»…æ˜¯èƒ½çœ‹åˆ°æŠ¥é”™çš„å…·ä½“ä¿¡æ¯ï¼Œä½†æ˜¯åˆä¸å½±å“å‡ºé”™çš„é€»è¾‘ã€‚ 1234567891011121314151617// æ¨¡æ‹Ÿå‡ºæ•ˆæœfunction toggleError() &#123; throw Error()&#125;console.log('script start')toggleError()console.log('script end')// å®é™…æ‰§è¡Œæ•ˆæœscript startUncaught Error// æœ€ç»ˆæœŸæœ›çš„æ‰§è¡Œç»“æœscript startUncaught Errorscript end äº‹ä»¶å›è°ƒç³»ç»Ÿäº‹ä»¶å›è°ƒç³»ç»Ÿæ‹¥æœ‰è‡ªå·±çš„ä¸Šä¸‹æ–‡ï¼Œå³ä¾¿åœ¨è‡ªå·±çš„äº‹ä»¶å›è°ƒç³»ç»Ÿä¸­è§¦å‘äº†é”™è¯¯ä¹Ÿä¸ä¼šå½±å“åˆ°æ•´ä¸ªäº‹ä»¶çš„å¤„ç†ç³»ç»Ÿ 1234567891011121314// ä½¿ç”¨äº‹ä»¶å›è°ƒç³»ç»Ÿdocument.addEventListener("DOMContentLoaded", function() &#123; console.log("Init: 1"); DOES_NOT_EXIST++; // error&#125;, false);document.addEventListener("DOMContentLoaded", function() &#123; console.log("Init: 2");&#125;, false);// æ­¤æ—¶consoleä¸­ä¼šæ˜¾ç¤ºå¦‚ä¸‹å†…å®¹Init: 1Uncaught ReferenceError: DOES_NOT_EXIST is not definedInit: 2 12345678910111213// jQueryä¸­ä½¿ç”¨å›è°ƒç³»ç»Ÿå®ç°$(document).ready(function() &#123; console.log("Init: 1"); DOES_NOT_EXIST++; // error&#125;); $(document).ready(function() &#123; console.log("Init: 2");&#125;)// æ­¤æ—¶consoleä¸­ä¼šæ˜¾ç¤ºå¦‚ä¸‹å†…å®¹Init: 1Uncaught ReferenceError: DOES_NOT_EXIST is not defined å¯ä»¥çœ‹åˆ°ä½¿ç”¨äº†äº‹ä»¶å¤„ç†å‡½æ•°ä¼šä½¿å¾—æŸä¸ªå›è°ƒäº‹ä»¶ä¸­å‘ç”Ÿäº†é”™è¯¯ä¸ä¼šç ´ååˆ°æ•´ä¸ªç³»ç»Ÿ ä¸åŒç¯å¢ƒä¸‹å¤„ç†é”™è¯¯çš„ä¸åŒç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„try-catchæ­¤æ—¶å‘ç”Ÿçš„é”™è¯¯ä¼šè¢«æˆ‘ä»¬æ•è·ï¼Œå¹¶ä¸”ç»§ç»­è¿›è¡Œåç»­çš„æ‰§è¡Œï¼Œ(æ¯”å¦‚Reactä¸­ErrorBandageå¯æ¸²æŸ“å¤‡ç”¨çš„é”™è¯¯UI) 123456789function toggleError() &#123; throw Error()&#125;try &#123; toggleError()&#125; catch (e) &#123; // å¤„ç†é”™è¯¯ä¿¡æ¯&#125; å¼€å‘ç¯å¢ƒä¸­å½“ç„¶ä½¿ç”¨try-catchæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯æ—¢ç„¶æˆ‘ä»¬æ­£åœ¨å¼€å‘ï¼Œå°±åº”è¯¥å¾—çŸ¥å…·ä½“çš„æŠ¥é”™æƒ…å†µï¼Œå¹¶ä¸”å¤„ç†æ‰ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€æ—¦ä½¿ç”¨try-catchå°±ä¼šå¸®æˆ‘ä»¬é™é»˜çš„å¤„ç†ï¼Œå¹¶ä¸ä¼šæš´éœ²é”™è¯¯ï¼Œchromeä¸­æœ‰è°ƒè¯•å·¥å…·pause on caught exceptionåªæœ‰å‡ºé”™å°±æš‚åœåˆ°æ­¤å¤„,æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ä¸€ç§æ›²çº¿æ•‘å›½çš„æ–¹å¼ï¼Œä½¿ç”¨äº‹ä»¶å›è°ƒçš„æ–¹å¼å»è¿è¡Œï¼ŒæŠ¥é”™å¹¶ä¸ä¼šå½±å“åˆ°å¤–éƒ¨ç¯å¢ƒã€‚ æ¨¡æ‹ŸReactä¸­çš„invokeGuardedCallbackï¼Œå³å°†å›è°ƒæ”¾åˆ°ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶å‡½æ•°ä¸­ï¼Œç«‹å³è§¦å‘ï¼Œæœ‰é”™è¯¯ä¸ä¼šå½±å“å¤–éƒ¨ 123456789101112131415161718192021222324252627let hasError = truelet error = nullfunction invokeGuardedCallback(callback) &#123; // å…¨å±€erroräº‹ä»¶ï¼Œæœ‰é”™è¯¯è®°å½•errorä¿¡æ¯ function handleWindowError(event) &#123; error = event.error &#125; window.addEventListener('error', handleWindowError); // è‡ªå®šä¹‰äº‹ä»¶å¤„ç†å›è°ƒ const eventType = 'fakeErrEventType' const evt = document.createEvent('Event') evt.initEvent(eventType, false, false) const fakeNode = document.createElement('fake-err') // å¤„ç†å›è°ƒ function callCallback() &#123; fakeNode.removeEventListener(eventType, callCallback, false) callback.call(null) // é»˜è®¤æœ‰é”™è¯¯ï¼Œå¦‚æœæ­£å¸¸æ‰§è¡Œcallbackï¼Œåˆ™è®¤ä¸ºæ²¡æœ‰é”™è¯¯å‘ç”Ÿ hasError = false &#125; // ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶å¹¶è§¦å‘ fakeNode.addEventListener(eventType, callCallback, false) fakeNode.dispatchEvent(evt)&#125; ä¸åŒæ–¹æ³•å¤„ç†å®ä¾‹1234// ç›®æ ‡å›è°ƒå‡½æ•°toggleErrorfunction toggleError() &#123; throw Error()&#125; ä¸è¿›è¡Œé”™è¯¯å¤„ç†1234567console.log('script start')toggleError()console.log('script end')// æ‰§è¡Œç»“æœscript startUncaught Error ä½¿ç”¨try-catchå¤„ç†1234567891011console.log('script start')try &#123; toggleError()&#125; catch (err) &#123; // err é”™è¯¯ç›¸å…³ä¿¡æ¯&#125;console.log('script end')// æ‰§è¡Œç»“æœï¼Œ å¹¶ä¸èƒ½çœ‹å‡ºé”™è¯¯è¯¦æƒ…ä½ç½®ï¼Œå¯èƒ½ä¼šå¿½ç•¥å‘ç”Ÿäº†é”™è¯¯ï¼Œå› ä¸ºè¢«å¤„ç†äº†script startscript end ä½¿ç”¨invokeGuardedCallback1234567891011console.log('script start')invokeGuardedCallback(toggleError)if (hasError) &#123; // error æ˜¯å…¨å±€æ•è·çš„å‡ºé”™ä¿¡æ¯&#125;console.log('script end')// æ‰§è¡Œç»“æœï¼Œ èƒ½çœ‹å‡ºé”™è¯¯è¯¦æƒ…ä½ç½®script startUncaught Errorscript end å‚è€ƒèµ„æ–™ https://www.cnblogs.com/fangzhaolee/p/3719384.html https://github.com/facebook/react/blob/22f7663f14f12ebd6174292931e94d2b352cf666/packages/shared/invokeGuardedCallbackImpl.js#L61]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ­£è´Ÿ0çš„é—®é¢˜]]></title>
    <url>%2F2020%2F05%2F16%2F0-0%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[åœ¨å…¶ä»–è¯­è¨€ä¸­ï¼ˆJavaï¼‰å¦‚æœå‡ºç°äº†1/0è¿™ç§æ“ä½œï¼Œåˆ™ä¼šç›´æ¥æŠ¥å‡ºException,ä½†æ˜¯åœ¨jsä¸­å¹¶ä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯ç»™å‡ºä¸€ä¸ªç‰¹æ®Šå€¼Infinity 1230/1 = 01/0 = Infinity // æ— é™å¤§ +0å’Œ-0çš„åŒºåˆ«+0å’Œ-0æ˜¯å®Œå…¨ç›¸ç­‰çš„ï¼Œæ‰€ä»¥è¦æ˜¯è¿›è¡Œæ¯”è¾ƒè¿˜æ˜¯åº”è¯¥ä»1/0çš„ç‰¹æ€§æ¥è¯´ 1234567891011121314151617181920212223242526272829303132+0 === -0 // true+0 === 0 // true-0 === 0 // true1/0 = Infinity1/-0 = -InfinityInfinity === Infinity // trueInfinity === -Infinity // false/** * ä»¥ä¸‹è®¡ç®—åœ¨æ­£å¸¸æƒ…å†µï¼Œä¸è¦æ•…æ„æ”¹å˜ .e.g * Infinity + (-Infinity) = NaN * Infinity * (1 / Infinity) = NaN * * è¿™æ ·ä¸æ”¹å˜è¿ç®—æƒ…å†µæ˜¯å¯ä»¥çš„ * Infinity * -Infinity = -Infinity * * `*`ï¼Œ`/`è¿ç®—è¦è€ƒè™‘nçš„ç¬¦å· */Infinity + n = Infinity // nä¸ºæ‰€æœ‰å€¼Infinity - n = Infinity // nä¸ºéInfinityInfinity - Infinity = NaNInfinity * n = Infinity // nä¸ºæ‰€æœ‰å€¼Infinity / n = Infinity // nä¸ºéInfinityInfinity / Infinity = NaN NaNå’Œ0çš„å…³ç³»123456780/0 = NaN // ç‰¹æ®Š+n / 0 = Infinity-n / 0 = -Infinity0 / n = NaN // (n !== 0)NaN === NaN // false Object.isçš„polyfill1234567function is(x, y) &#123; if (x === y) &#123; // åˆ¤æ–­æ­£è´Ÿ0 return x !== 0 || y !== 0 || 1/x === 1/y &#125; else &#123; // NaN !== Nan, è¿™é‡Œpolyfillè®¤ä¸º ä¸¤è€…ç›¸ç­‰ return x !== x || y !== y &#125;&#125;]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jså¯¹é¦–å±æ¸²æŸ“çš„é—®é¢˜]]></title>
    <url>%2F2020%2F05%2F12%2Fjs%E5%AF%B9%E9%A6%96%E5%B1%8F%E6%B8%B2%E6%9F%93%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[æµè§ˆå™¨å‘å‡ºè¯·æ±‚åï¼Œæ¥æ”¶æµç¨‹ Bytes, (3C 62 5F 49 ....) Characters, &lt;html&gt;&lt;head&gt;....&lt;/head&gt;.. Tokens, StartTag: html, StartTag: head, ... Hello .... EndTag: html Nodes, html, head, meta, body, p, Hello DOM, ç”Ÿæˆæœ€ç»ˆDOMæ ‘ï¼Œ HTML - head, body(æ ‘ç»“æ„) æµè§ˆå™¨æ¸²æŸ“æµç¨‹HTMLç”Ÿæˆä¸ºDOMå¯¹è±¡ï¼ŒCSSç”Ÿæˆä¸ºCSSOMå¯¹è±¡ï¼Œä¸¤è€…è¿›è¡ŒAttachedæ“ä½œåï¼Œå³å¯ç”Ÿæˆä¸€ä¸ªrender treeï¼Œé€šè¿‡layoutï¼ˆreflowï¼‰è®¡ç®—å…¶åœ¨æµè§ˆå™¨ä¸Šçš„æ ·å¼ï¼Œæœ€ç»ˆè¿›è¡Œpaintç»˜åˆ¶åˆ°æµè§ˆå™¨ä¸Š åœ¨æ²¡æœ‰JSçš„æƒ…å†µDOMå¯¹è±¡å’ŒCSSOMå¯¹è±¡åŒæ­¥ç”Ÿæˆï¼Œå¾…CSSOMå¯¹è±¡ç”Ÿæˆå®Œæ¯•å(å¦‚æœä¹‹åçš„CSSå¯¹ä¹‹å‰çš„æ ·å¼è¿›è¡Œä¿®æ”¹ï¼Œæµè§ˆå™¨ä¼šå‘ç”Ÿå¤šæ¬¡é‡ç»˜å’Œå›æµï¼Œè¦ç­‰CSSOMç”Ÿæˆå®Œæ¯•ååœ¨è¿›è¡Œæ¸²æŸ“)ï¼Œä¹‹åä»ä¸Šåˆ°ä¸‹æ˜¾ç¤ºé¡µé¢ï¼Œç›´åˆ°æ•´ä¸ªDOMæ¸²æŸ“å®Œæˆã€‚ JSå¯¹æµè§ˆå™¨æ¸²æŸ“å¼•æ“çš„å½±å“å› ä¸ºJSå¯ä»¥æ“ä½œDOM, CSSæ‰€ä»¥ï¼Œjså¯èƒ½ä¼šä¿®æ”¹ä¹‹å‰çš„å†…å®¹ï¼Œä½¿æµè§ˆå™¨å‘ç”Ÿé‡ç»˜ï¼Œå½±å“æ€§èƒ½ï¼Œæµè§ˆå™¨æ­¤æ—¶éœ€è¦é˜»å¡å½“å‰çº¿ç¨‹ï¼Œè½¬è€Œå»è¿è¡Œjså†…å®¹ï¼Œè¿è¡Œå®Œåï¼Œç»§ç»­è¿›è¡Œä¹‹åçš„æ¸²æŸ“é€»è¾‘ã€‚ æ³¨æ„ï¼šå¦‚æœscriptæ ‡ç­¾æ˜¯å¼‚æ­¥æ‹‰å–çš„ï¼Œé‚£ä¹ˆæ‹‰å–ä¹‹ååˆ°æœ¬åœ°ï¼Œå½“è¿è¡ŒJSæ—¶ï¼Œçº¿ç¨‹ä¾ç„¶ä¼šé˜»å¡ HTML,CSS,JSå­˜åœ¨çš„æ¸²æŸ“æƒ…å†µæµè§ˆå™¨æ¥æ”¶åˆ°å†…å®¹åï¼Œå¼€å§‹è§£æï¼Œå…ˆå»åŒ¹é…ä¸€ä¸‹scriptæ ‡ç­¾ï¼Œæœ‰çš„è¯å°±ä¼šåŒ¹é…åˆ°ä¹Ÿç»™tcpï¼Œå»è¿›è¡Œä¸‹è½½ï¼ˆå¹¶éæ‰§è¡Œåˆ°æ‰å›å»åŠ è½½ï¼Œåªæ˜¯æå‰ä¸‹è½½ï¼‰,æµè§ˆå™¨DOM,CSSOMï¼Œç”ŸæˆrenderTree,ä¹‹åç»˜åˆ¶åˆ°æµè§ˆå™¨ï¼Œä¸€æ—¦é‡åˆ°scriptæ ‡ç­¾åï¼Œé˜»å¡å½“å‰çº¿ç¨‹ï¼Œå»è¿è¡Œscriptæ ‡ç­¾å†…çš„ä¸œè¥¿ï¼ˆä¹Ÿå°±æ˜¯scriptå†…çš„æ“ä½œä¹‹å‰çš„DOMç»“æ„ï¼Œåé¢çš„è¿˜æ²¡æœ‰ç”Ÿæˆï¼‰ï¼Œå¦‚æœåé¢è¿˜æœ‰å†…å®¹ï¼Œåˆ™ä¸ä¼šæ¸²æŸ“ï¼Œä¸¥é‡æƒ…å†µå¯èƒ½ä¼šå‡ºç°é¡µé¢æ¸²æŸ“äº†ä¸€åŠçš„æƒ…å†µã€‚ é¦–å±æ¸²æŸ“æ—¶é—´ï¼Œé¡µé¢åŠ è½½å®Œæˆæ—¶é—´FPï¼ˆFirst Paintï¼‰ï¼šé¦–å±æ¸²æŸ“ï¼Œè¿™é‡Œæ˜¯é¦–é¡µéœ€è¦æ˜¾ç¤ºçš„å†…å®¹ï¼ˆéƒ¨åˆ†æ˜¯ä¸éœ€è¦è¢«é¦–æ¬¡æ¸²æŸ“å‡ºæ¥çš„ï¼‰ DCL(DOM Content Loaded)ï¼š é¡µé¢åŠ è½½å®Œæˆ (æ‰€æœ‰çš„jsæ‰§è¡Œå®Œæˆï¼Œè§¦å‘DOMContentLoadedäº‹ä»¶ï¼Œwindow.onLoad) æˆ‘ä»¬å…³å¿ƒçš„æ˜¯é¦–å±æ¸²æŸ“äº‹ä»¶ï¼Œå¦‚æœé¦–å±æ¸²æŸ“åˆ°ä¸€åŠï¼Œä¸­é—´æ’å…¥äº†jsï¼Œå¦‚æœè¯¥jså ç”¨è¾ƒé•¿æ—¶é—´ï¼Œæˆ–åŠ è½½é—®é¢˜ï¼Œä¼šé€ æˆé¡µé¢è¢«æˆªæ–­ï¼Œåªèƒ½æ˜¾ç¤ºä¸€éƒ¨åˆ†é¡µé¢ï¼Œæ‰€ä»¥æˆ‘ä»¬å…³å¿ƒçš„æ˜¯è¿™ä¸ªéƒ¨åˆ†ã€‚ ä¸ºä»€ä¹ˆjsæ”¾åˆ°bodyæœ€åjsæ”¾åˆ°æœ€åä¹Ÿä¼šä¸‹è½½ï¼Œä½†æ˜¯ç”±äºä»–åœ¨æœ€åï¼Œå¹¶ä¸ä¼šå½±å“ä¹‹å‰é¦–å±å†…å®¹çš„æ¸²æŸ“ï¼Œä¹Ÿå°±æ˜¯è¯´jsæ–‡ä»¶æ”¾åˆ°å‰é¢è¿˜æ˜¯åé¢ï¼ŒDOMContentLoadæ˜¯ä¸ä¼šæ”¹å˜çš„ï¼Œä½†æ˜¯ä¸åŒçš„ä½ç½®ä¼šå½±å“FP,è¿™é‡Œè‚¯å®šæ˜¯å…ˆè®©ç”¨æˆ·çœ‹åˆ°é¡µé¢æœ€å¥½ï¼Œæ‰€ä»¥ä¸€èˆ¬jsè¯·æ±‚ä¼šæ”¾åˆ°æœ€åé¢ å…¶å®æµè§ˆå™¨å‘ç°æœ‰jså­˜åœ¨ï¼Œä¼šå»å¼€å¯ä¸‹è½½ï¼Œé‚£ä¹ˆå¿…ç„¶ä¼šå ç”¨é‚£ä¹ˆä¸€ä¸¢ä¸¢æµè§ˆèµ„æºï¼ŒåŒ…æ‹¬CPU]]></content>
      <tags>
        <tag>æ°é¥­</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ©ç”¨äºŒè¿›åˆ¶ç è¡¨ç¤ºçŠ¶æ€]]></title>
    <url>%2F2020%2F04%2F20%2F%E5%88%A9%E7%94%A8%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%A0%81%E8%A1%A8%E7%A4%BA%E7%8A%B6%E6%80%81%2F</url>
    <content type="text"><![CDATA[åœ¨å‰ç«¯ä¸­ï¼ŒäºŒè¿›åˆ¶ç ä¼¼ä¹åœ¨å¹³å¸¸çš„å¼€å‘ä¸­å¾ˆå°‘ä¼šå»ä½¿ç”¨åˆ°ï¼Œä½†æ˜¯åœ¨ä¸€äº›æ¡†æ¶ä¸­ï¼Œä¹Ÿä¼šçœ‹åˆ°å…¶ä½œä¸ºå¼€å‘çš„ä¸€éƒ¨åˆ†å­˜åœ¨ï¼Œå¹¶ä¸”ç»“åˆä½è¿ç®—ï¼Œæœ‰æ—¶ä¹Ÿèƒ½è¾¾åˆ°è¾ƒå¥½çš„ä½¿ç”¨æ•ˆæœã€‚ 123456789101112131415161718// react\packages\shared\ReactSideEffectTags.js ä¸­ä½¿ç”¨çš„ç›¸å…³çŠ¶æ€ç export type SideEffectTag = number;// Don't change these two values. They're used by React Dev Tools.export const NoEffect = /* */ 0b00000000000;export const PerformedWork = /* */ 0b00000000001;// You can change the rest (and add more).export const Placement = /* */ 0b00000000010;export const Update = /* */ 0b00000000100;export const PlacementAndUpdate = /* */ 0b00000000110;export const Deletion = /* */ 0b00000001000;export const ContentReset = /* */ 0b00000010000;export const Callback = /* */ 0b00000100000;export const DidCapture = /* */ 0b00001000000;export const Ref = /* */ 0b00010000000;export const Snapshot = /* */ 0b00100000000; ç®€å•çš„ä½è¿ç®—ä½è¿ç®—ä¸ä¼šè¿›ä½ï¼Œä¸è¦ä¸äºŒè¿›åˆ¶çš„åŠ å‡è¿ç®—æ··æ·† 123456 ä¸(AND) æˆ–(OR) å¼‚æˆ–(XOR) é(NOT) 0b001 0b001 0b011 &amp; 0b010 | 0b010 ^ 0b001 ~ 0b011-------- -------- -------- -------- 0b000 0b011 0b010 0b100 åœ¨jsä¸­çš„æ•°å­—ç±»å‹è½¬æ¢ä¸­: 0,NaNå¯¹åº”çš„booleanå€¼ä¸ºfalse 123,-123,Infinity,...å¯¹åº”çš„booleanå€¼ä¸ºtrueã€‚ æ‰€ä»¥åˆ©ç”¨è¿™ä¸€ç‰¹æ€§å¯ä»¥å°†äºŒè¿›åˆ¶æ•°ä½è¿ç®—çš„å€¼è½¬æ¢ä¸ºbooleanå€¼ã€‚ è¿ç”¨ä½è¿ç®—å®ä¾‹åƒé¥­ï¼Œç¡è§‰ï¼Œæ‰“è±†è±†ä¸ºä¾‹ 1234567891011121314151617181920// å­˜åœ¨çš„å„ç§çŠ¶æ€ï¼ˆä¸ºäº†å¯¹é½ï¼Œå€Ÿé‰´Reactçš„ä¹¦å†™æ–¹å¼ï¼‰const Eat = /* */ 0b001 // åƒé¥­const Sleep = /* */ 0b010 // ç¡è§‰const Fight = /* */ 0b100 // æ‰“è±†è±†const Mode = /* */ 0b000 // ç”¨æˆ·çš„åˆå§‹çŠ¶æ€let eatAndSleep = Mode | Eat | Sleep // 0b011let emptyMode = Mode // 0b000let fightMode = Mode | Fight // 0b100// æ£€éªŒæ˜¯å¦åƒé¥­console.log(eatAndSleep &amp; Eat) // 1 (0b001) -&gt; trueconsole.log(emptyMode &amp; Eat) // 0 (0b000) -&gt; falseconsole.log(fightMode &amp; Eat) // 0 (0b000) -&gt; false// æ£€éªŒæ˜¯å¦æ‰“è±†è±†console.log(eatAndSleep &amp; Fight) // 0 (0b000) -&gt; falseconsole.log(emptyMode &amp; Fight) // 0 (0b000) -&gt; falseconsole.log(fightMode &amp; Fight) // 4 (0b100) -&gt; true æ·»åŠ ç±»å‹1let mode = Mode | Eat // å¢åŠ åƒé¥­çš„æ ‡è®° 0b001 æ˜¯å¦æœ‰ç±»å‹12let hasEat = Mode &amp; Eat // ç»“æœ0æˆ–è€…é0// let hasEat = !!(Mode &amp; Eat) // ç»“æœä¸ºtrue/false å»é™¤ç±»å‹1234mode = mode ^ Eat // å»é™¤ç¡è§‰çš„æ ‡è®° 0b000mode = mode &amp; ~(Eat) // å»é™¤ç¡è§‰çš„æ ‡è®°mode = mode &amp; ~(Eat | Sleep) // å»é™¤ ç¡è§‰ï¼Œåƒé¥­ çš„æ ‡è®° æ›´ä¸ºé€šç”¨çš„æ–¹æ³•123456789101112131415161718192021222324252627282930/** * åˆ¤æ–­æ˜¯å¦å­˜åœ¨å½“å‰çš„çŠ¶æ€ * @param &#123;Number&#125; currentMode å½“å‰çš„çŠ¶æ€ * @param &#123;Number&#125; targetMode ç›®æ ‡çŠ¶æ€ * @return &#123;Boolean&#125; æ˜¯å¦å­˜åœ¨ */function hasMode(currentMode, targetMode) &#123; return (currentMode &amp; targetMode) !== 0&#125;/** * ä¸ºå½“å‰çŠ¶æ€ç æ·»åŠ çŠ¶æ€ * @param &#123;Number&#125; currentMode å½“å‰çš„çŠ¶æ€ * @param &#123;Number&#125; targetMode ç›®æ ‡çŠ¶æ€ * @return &#123;Number&#125; æ–°ç”Ÿæˆçš„çŠ¶æ€å— */function addMode(currentMode, targetMode) &#123; return currentMode | targetMode&#125;/** * ä¸ºå½“å‰çŠ¶æ€ç å»é™¤çŠ¶æ€ * @param &#123;Number&#125; currentMode å½“å‰çš„çŠ¶æ€ * @param &#123;Number&#125; targetMode ç›®æ ‡çŠ¶æ€ * @return &#123;Number&#125; æ–°ç”Ÿæˆçš„çŠ¶æ€å— */function removeMode(currentMode, targetMode) &#123; // return currentMode &amp; ~targetMode // ä¹Ÿå¯ä½¿ç”¨ return currentMode ^ targetMode // å¯ä½¿ç”¨ ^å¼‚æˆ–å»é™¤&#125; ä½¿ç”¨æ–¹å¼ä½¿ç”¨å°è£…çš„æ–¹æ³•123456let eatMode = addMode(Mode, Eat)let eatAndSleepMode = addMode(eatMode, Sleep)console.log(hasMode(eatAndSleepMode, Eat)) // truelet sleepMode = removeMode(eatAndSleepMode, Eat)console.log(hasMode(sleepMode, Eat)) // false ç›´æ¥ä½¿ç”¨äºŒè¿›åˆ¶æ“ä½œ Reactæºç ä¸­å¤§é‡ä½¿ç”¨åˆ°äº†ä½æ“ä½œ !!æ“ä½œå¯ä»¥ç›´æ¥è½¬æ¢ä¸ºbooleanå€¼ 12345let eatAndSleepMode = Mode | Eat | Sleepconsole.log(!!(eatAndSleepMode &amp; Eat)) // truelet sleepMode = eatAndSleepMode &amp; ~Eatconsole.log(!!(sleepMode &amp; Eat)) // false æœ‰æ—¶Reactä¼šç›´æ¥æ“ä½œå½“å‰mode 123effectTag |= Ref // å°†Refæ ‡è¯†æ·»åŠ åˆ°effectTagä¸­effectTag &amp;= ~Placement // å°†PlacementçŠ¶æ€ä»effectTagä¸­å»é™¤]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ·±æ‹·è´]]></title>
    <url>%2F2020%2F04%2F14%2F%E6%B7%B1%E6%8B%B7%E8%B4%9D%2F</url>
    <content type="text"><![CDATA[JSä¸­çš„æ·±æ‹·è´æœ€ä¸ºç®€å•çš„æ–¹å¼1JSON.parse(JSON.stringify(obj)) ä½¿ç”¨é€’å½’ï¼Œæ‰‹å†™æ·±æ‹·è´1234567891011function clone (target) &#123; if (typeof target === 'object') &#123; const cloneTarget = Array.isArray(target) ? [] : &#123;&#125; for (const key in target) &#123; cloneTarget[key] = clone(target[key]) &#125; return cloneTarget &#125; else &#123; return target &#125;&#125; ä½¿ç”¨map,é˜²æ­¢å¾ªç¯å¼•ç”¨è‡ªèº«çš„æƒ…å†µ(é‡å¤å¼•ç”¨æƒ…å†µ) WeakMap,å¦‚æœæ”¾å…¥çš„å¯¹è±¡å…¶å¼•ç”¨å·²ç»ä¸ºnull,åˆ™å…¶ä¸­çš„å…ƒç´ ä¼šè‡ªåŠ¨é”€æ¯ï¼Œè¢«åƒåœ¾å›æ”¶å™¨å¤„ç† è¿™é‡Œä»…ä»…è€ƒè™‘æœ€ä¸ºæ™®é€šçš„å½¢å¼ï¼Œå³æ·±å±‚æ¬¡é€’å½’çš„æ˜¯ä¸€ä¸ªæ•°ç»„æˆ–è€…æ˜¯å¯¹è±¡ï¼Œå¦‚æœæ˜¯å‡½æ•°functionï¼Œåˆ™ç›´æ¥è¿”å›å…¶å¼•ç”¨å³å¯ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆæ·±å±‚æ¬¡æ‹·è´çš„æ„ä¹‰ 123456789101112131415function clone (target, map = new WeakMap()) &#123; if (typeof target === 'object') &#123; const cloneTarget = Array.isArray(target) ? [] : &#123;&#125; if (map.get(target)) &#123; return map.get(target) &#125; map.set(target, cloneTarget) for (const key in target) &#123; cloneTarget[key] = clone(target[key], map) &#125; return cloneTarget &#125; else &#123; return target &#125;&#125; ç”±äºwhileå¾ªç¯é€Ÿåº¦è¾ƒå¿«ï¼Œå¯ä»¥å°†for in å¾ªç¯æ”¹è¿›æˆwhileå¾ªç¯ whileå¾ªç¯æ•ˆç‡ &gt; æ™®é€šforå¾ªç¯çš„æ•ˆç‡ &gt; for inçš„æ•ˆç‡ 1234567function forEach(array, callback) &#123; let index = -1 const length = array.length while (++index &lt; length) &#123; callback.call(array[index], array[index], index) &#125;&#125; è€ƒè™‘å¤šç§æ•°æ®ç±»å‹é‡æ„åˆ¤æ–­åŸºæœ¬ç±»å‹ functionç›´æ¥å½“åšåŸºæœ¬ç±»å‹ï¼Œå¤åˆ¶è¿‡å» 12345678function isObject (obj) &#123; const type = typeof obj return type !== null &amp;&amp; (type === 'object' || type === 'function' )&#125;function getType (obj) &#123; return Object.prototype.toString.call(obj)&#125; å…‹éš†æ—¶ï¼Œä¿è¯å…¶åŸå‹å¯¹è±¡æŒ‚è½½æ­£å¸¸1234function getInit (obj) &#123; const Ctor = obj.constructor return new Ctor()&#125; æ„å»ºå¤šç§ç±»å‹ï¼ŒåŒ…æ‹¬é€‚åˆæ·±æ‹·è´1234567891011121314151617// é€‚åˆé€’å½’æ·±æ‹·è´çš„ç±»å‹const mapTag = '[object Map]'const setTag = '[object Set]'const arrayTag = '[object Array]'const objectTag = '[object Object]'const deepTag = [mapTag, setTag, arrayTag, objectTag]// å…¶ä½™é‡æ–°æ‹·è´çš„ç±»å‹const booleanTag = '[object Boolean]'const dateTag = '[object Date]'const errorTag = '[object Error]'const numberTag = '[object Number]'const regexpTag = '[object RegExp]'const stringTag = '[object String]'const symbolTag = '[object Symbol]'const functionTag = '[object Function]' æ·±åº¦clone 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051function clone (target, map = new WeakMap()) &#123; // å…‹éš†åŸå§‹ç±»å‹ if (!isObject(target)) &#123; return target &#125; // åˆå§‹åŒ– const type = getType(target) let cloneTarget if (deepTag.includes(type)) &#123; cloneTarget = getInit(target) &#125; // é˜²æ­¢å¾ªç¯å¼•ç”¨ if (map.get(target)) &#123; return map.get(target) &#125; map.set(target, cloneTarget) // å…‹éš†set if (type === setTag) &#123; target.foreach(value =&gt; &#123; cloneTarget.add(clone(value, map)) &#125;) &#125; // å…‹éš†map if (type === mapTag) &#123; target.foreach((value, key) =&gt; &#123; cloneTarget.set(key, clone(value, map)) &#125;) &#125; // å…‹éš†æ•°ç»„ if (type === arrayTag) &#123; foreach(target, (value, index) =&gt; &#123; // [a, b, c] =&gt; 0:a 1:b 2:c ä½¿ç”¨çš„æ˜¯0,1,2 cloneTarget[index] = clone(target[index], map) &#125;) &#125; // å…‹éš†å¯¹è±¡ if (type === objectTag) &#123; const keys = Object.keys(target) foreach(keys, (key, index) =&gt; &#123; // ['name', 'age'] =&gt; 0: 'name', 1: 'age' æˆ‘ä»¬ä½¿ç”¨åˆ°çš„æ˜¯name, age cloneTarget[key] = clone(target[key], map) &#125;) &#125;&#125; å…‹éš†å‡½æ•°çš„æ–¹å¼ å‡½æ•°å¯ä»¥ç›´æ¥å¼•ç”¨åœ°å€ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™åŒ¹é… ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨eval()ç”Ÿæˆ æ™®é€šå‡½æ•°æœ‰åŸå‹ï¼Œéœ€è¦ä½¿ç”¨new Function(...params, functionBody) 123456789101112131415161718192021222324252627function cloneFunction (fn) &#123; const bodyReg = /(?&lt;=\&#123;)(.|\n)+(?=\&#125;)/m const paramsReg = /(?&lt;=\().+(?=\)\s+\&#123;)/ const fnStr = fn.toString() if (fn.prototype) &#123; // æ™®é€šå‡½æ•° const body = bodyReg.exec(fnStr) const params = paramsReg.exec(fnStr) // æ— å‡½æ•°ä½“ if (!body) &#123; return null &#125; // æ— å‚æ•° if (!params) &#123; return new Function(body[0]) &#125; // æœ‰å‚æ•° const paramsArr = params[0].split(',') return new Function(...paramsArr, body[0]) &#125; else &#123; // ç®­å¤´å‡½æ•° return eval(fnStr) &#125;&#125; å…‹éš†å…¶ä»–ç±»å‹çš„æ–¹å¼é™¤äº†map, set, object, arrayå…¶ä½™å¯ä»¥ä½¿ç”¨æ„é€ å™¨ï¼Œæˆ–è€…å†ç”Ÿæˆ 123456789101112131415161718192021222324252627282930313233343536373839404142const type = getType(target)let cloneTargetif (deepTag.includes(type)) &#123; cloneTarget = getInit(target)&#125; else &#123; return cloneOtherType(target, type)&#125;// å…‹éš†å…¶ä»–ç±»å‹function cloneOtherType (target, type) &#123; const Ctor = target.constructor switch (type) &#123; case booleanTag: case numberTag: case stringTag: case dateTag: case errorTag: return new Ctor(target) case functionTag: return cloneFunction(target) case symbolTag: return cloneSymbol(target) case regexpTag: return cloneRegExp(target) default: return null &#125;&#125;// å…‹éš†Symbolfunction cloneSymbol (symbol) &#123; return Object(Symbol.prototype.valueOf.call(symbol))&#125;// å…‹éš†æ­£åˆ™function cloneRegExp (regExp) &#123; // const flagReg = /[i|m|g]*$/g const flagReg = /\w*$/g const result = new RegExp(regExp.source, flagReg.exec(regExp)) result.lastIndex = regExp.lastIndex return result&#125; æ€»ç»“ åŸºæœ¬æ•°æ®ç±»å‹åœ¨æ ˆä¸­å­˜å‚¨ï¼Œä¸€æ—¦åˆ›å»ºåˆ™ä¸å¯æ”¹å˜ï¼›å­˜å‚¨åœ¨å †ä¸­çš„å¼•ç”¨ç±»å‹åˆ™éœ€è¦æ·±æ‹·è´ã€‚ æ·±æ‹·è´æ—¶ï¼Œè¦è€ƒè™‘ä¸‰ç§ç±»å‹çš„æ‹·è´ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ï¼Œé€šè¿‡é€’å½’æ“ä½œçš„å¼•ç”¨ç±»å‹ï¼Œé€šè¿‡åˆ›å»ºå®ä¾‹çš„å…¶ä»–å¼•ç”¨ç±»å‹ åŸºæœ¬æ•°æ®ç±»å‹é¦–å…ˆJSä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹æœ‰,null undefined boolean number string symbol object è¦åˆ¤æ–­æ˜¯åŸºæœ¬æ•°æ®ç±»å‹è¿˜æ˜¯å¼•ç”¨ç±»å‹ï¼Œéœ€è¦ä½¿ç”¨typeof å¯åŒºåˆ† typeofä¼šå°†functionç±»å‹å•ç‹¬åŒºåˆ†å‡ºæ¥ï¼Œå…¶å®æ˜¯å±äºobjectç±»å‹ä¸­çš„ typeof null === &#39;object&#39;è¿™æ˜¯æ—©æœŸjsè®¾è®¡çš„bug,åæ¥è€ƒè™‘åˆ°å…¼å®¹æ€§çš„é—®é¢˜ï¼Œå°±æ²¡æœ‰åœ¨è¿›è¡Œä¿®å¤ å› ä¸ºfunctionç±»å‹å¹¶æ²¡æœ‰å®é™…æ‹·è´çš„éœ€è¦ï¼Œlodashä¸­ä¹Ÿæ˜¯ç›´æ¥è¿”å›çš„ æ‰€ä»¥åˆ›å»ºå‡ºä¸€ä¸ªåˆ¤æ–­æ˜¯å¦æ˜¯Objectç±»å‹çš„æ–¹æ³•ï¼Œæ ¸å¿ƒä½¿ç”¨typeofè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœä¸æ˜¯objectç±»å‹(functionç±»å‹ä¹Ÿç›´æ¥è¢«è¿”å›äº†)ï¼Œç›´æ¥è¿”å›è¯¥å€¼ é€šè¿‡é€’å½’æ“ä½œçš„å¼•ç”¨ç±»å‹å…¶æ¬¡åˆ¤æ–­ç±»å‹åº”è¯¥ä½¿ç”¨Object.prototype.toString.call(target)æ¥åˆ¤æ–­ï¼Œåˆ†ä¸ºä¸¤ç±» éœ€è¦è¿›è¡Œé€’å½’æ“ä½œæ‹·è´çš„ç±»å‹map, set, object, arrayæš‚ä¸è€ƒè™‘WeakMap, WeakSet å¦ä¸€ç±»åŒ…æ‹¬åŸºæœ¬ç±»å‹çš„ä¸€äº›åŒ…è£…ç±»å‹Number, Boolean, String, è¿˜æœ‰å…¶ä»–ç±»å‹Date, Symbol, RegExp éœ€è¦æ·±æ‹·è´çš„ç±»å‹ 12345678910111213141516171819202122232425262728293031323334const Ctor = target.constructorlet cloneTarget = new Ctor()// å…‹éš†set if (type === setTag) &#123; target.foreach(value =&gt; &#123; cloneTarget.add(clone(value, map)) &#125;) &#125; // å…‹éš†map if (type === mapTag) &#123; target.foreach((value, key) =&gt; &#123; cloneTarget.set(key, clone(value, map)) &#125;) &#125; // å…‹éš†æ•°ç»„ if (type === arrayTag) &#123; foreach(target, (value, index) =&gt; &#123; // [a, b, c] =&gt; 0:a 1:b 2:c ä½¿ç”¨çš„æ˜¯0,1,2 cloneTarget[index] = clone(target[index], map) &#125;) &#125; // å…‹éš†å¯¹è±¡ if (type === objectTag) &#123; const keys = Object.keys(target) foreach(keys, (key, index) =&gt; &#123; // ['name', 'age'] =&gt; 0: 'name', 1: 'age' æˆ‘ä»¬ä½¿ç”¨åˆ°çš„æ˜¯name, age cloneTarget[key] = clone(target[key], map) &#125;) &#125; å…¶ä»–ç±»å‹ é€šè¿‡åˆ›å»ºå®ä¾‹çš„å…¶ä»–å¼•ç”¨ç±»å‹å…¶ä»–ç±»å‹ï¼ŒåŒ…è£…ç±»å‹ï¼Œä»¥åŠä¸€äº›ç®€å•çš„ç±»å‹ 123456789const Ctor = target.constructorswitch (type) &#123; case booleanTag: case numberTag: case stringTag: case dateTag: case errorTag: return new Ctor(target)&#125; å…¶ä»–ç±»å‹ Symbol 1234567const s1 = Symbol('foo')// const s2 = Symbol.prototype.valueOf.call(s1) // s1 === s2const s2 = Object(Symbol.prototype.valueOf.call(s1)) // s1 !== s2function cloneSymbol(symbol) &#123; return Object(Symbol.prototype.valueOf.call(symbol))&#125; å…¶ä»–ç±»å‹ RegExp 12345function cloneRegExp(regExp) &#123; const flagReg = /\w*$/ // åŒ¹é…ç»“å°¾çš„æ¨¡å¼ä¿®é¥°ç¬¦img const result = new RegExp(regExp.source, flagReg.exec(regExp)) // é‡æ–°åˆ›å»ºç¤ºä¾‹ result.lastIndex = regExp.lastIndex // ä¿®æ­£lastIndex&#125; å…¶ä»–ç±»å‹ function functionç±»å‹å¯ä»¥ç›´æ¥è¿”å›ï¼Œä½†æ˜¯è¿™é‡Œä¹Ÿåšå‡ºå®ç° ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹ï¼Œå¯ä»¥ç”¨evalç›´æ¥è¿”å› æ™®é€šå‡½æ•°æœ‰åŸå‹ï¼Œå¯ä»¥ä½¿ç”¨new Function(...params, functionBody) 12345678910111213141516171819202122232425262728function cloneFunction (fn) &#123; const bodyReg = /(?&gt;=\&#123;)(.|\n)+(?=\&#125;)/m const paramsReg = /(?&gt;=\().+(?=\)\s+\&#123;)/ const fnStr = fn.toString() if (fn.prototype) &#123; // æ™®é€šå‡½æ•° const body = bodyReg.exec(fnStr) const params = paramsReg.exec(fnStr) // æ— å‡½æ•°ä½“ if (!body) &#123; return null &#125; // æ— å‚æ•° if (!params) &#123; return new Function(body[0]) &#125; // æœ‰å‚æ•° const paramsArr = params[0].split(',') return new Function(...paramsArr, body[0]) &#125; else &#123; // ç®­å¤´å‡½æ•° return eval(fnStr) &#125;&#125; å¤„ç†å¾ªç¯å¼•ç”¨WeakMap,è‹¥keyå¯¹åº”ä¸åœ¨æœ‰å¼•ç”¨ï¼Œåˆ™ä¸‹ä¸€æ¬¡GCä¼šå¯¹å…¶å¼•ç”¨å›æ”¶ï¼Œé¿å…å†…å­˜æ³„æ¼ 1function clone]]></content>
      <tags>
        <tag>æ°é¥­</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[win10ä¼˜åŒ–]]></title>
    <url>%2F2020%2F04%2F10%2Fwin10%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[å…³é—­åº”ç”¨å•†åº—ä¸­çš„åå°åº”ç”¨è®¾ç½®ä¸­æœç´¢-åå°åº”ç”¨ï¼Œæˆ–è€…å†éšç§ä¸­æ‰¾åˆ°åå°å…³é—­ä¸éœ€è¦çš„åº”ç”¨ å…³é—­ä¸éœ€è¦çš„é€šçŸ¥è®¾ç½®ä¸­æœç´¢-é€šçŸ¥ï¼Œå…³é—­ä¸éœ€è¦çš„é€šçŸ¥æé†’ å…³é—­åŠ¨ç”»è®¾ç½®ä¸­æœç´¢-è½»æ¾ä½¿ç”¨ï¼Œå…³é—­ä¸éœ€è¦çš„åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ å…³é—­å¹³æ¿æ¨¡å¼è®¾ç½®ä¸­æœç´¢-å¹³æ¿æ¨¡å¼ï¼Œå§‹ç»ˆä½¿ç”¨æ¡Œé¢æ¨¡å¼ï¼Œä¸è¯¢é—®æˆ‘ï¼Œä¸åˆ‡æ¢ å…³é—­ä¸éœ€è¦å¯åŠ¨é¡¹ä»»åŠ¡ç®¡ç†å™¨ä¸­ï¼Œé€‰æ‹©å¯åŠ¨ä¹‹åå…³é—­ä¸éœ€è¦çš„å¯åŠ¨é¡¹ å¼€å¯å“è¶Šæ€§èƒ½æ¨¡å¼ï¼ˆå™ªå£°å¤§ï¼Œå¯é€‰ï¼‰è®¾ç½®ä¸­ï¼Œæœç´¢ç”µæ± ï¼Œé€‰æ‹©ç”µæºè®¡åˆ’ï¼Œé€‰æ‹©å“è¶Šæ€§èƒ½ 12# powershellä¸­ï¼Œè¾“å…¥æ­¤ä»£ç ï¼Œè·å–å“è¶Šæ€§èƒ½æ¨¡å¼powercfg -duplicatescheme e9a42b02-d5df-448d-aa00-03f14749eb61 ç¦ç”¨æœåŠ¡ï¼ˆè§†æƒ…å†µï¼‰12# ä½¿ç”¨win+Rservices.msc Connected User Experiences and Telemetry ä¸Šä¼ å¯å…³é—­ Windows Search å¯å…³é—­ åˆ†æç”µè„‘å®‰è£…çš„é©±åŠ¨ä½¿ç”¨driverstoreè¿›è¡Œåˆ†æç”µè„‘é©±åŠ¨ï¼Œåˆ é™¤åŒå‘½åçš„é©±åŠ¨ï¼Œå°†æ—§çš„åˆ é™¤å³å¯ å¦‚æœä½ é€‰æ‹©äº†é”™è¯¯çš„é©±åŠ¨ï¼Œå¦‚æœä¸å‹¾é€‰å¼ºåˆ¶åˆ é™¤ï¼Œæ˜¯æ²¡æœ‰é—®é¢˜çš„,ä¸ä¼šåˆ é™¤æ‰æ­£åœ¨ä½¿ç”¨çš„é©±åŠ¨ åˆ†æç”µè„‘ç£ç›˜ä¸­å®‰è£…çš„å¤§å°ä½¿ç”¨sspacesnifferåˆ†æç”µè„‘ä¸­å„ç›˜æ‰€å çš„å¤§å°ï¼Œè‡ªå·±å»å¯»æ‰¾å ç”¨è¾ƒå¤§çš„æ–‡ä»¶è¿›è¡Œå¤„ç†]]></content>
      <tags>
        <tag>æŠ€å·§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gitå›é¡¾]]></title>
    <url>%2F2020%2F04%2F05%2Fgit%E5%9B%9E%E9%A1%BE%2F</url>
    <content type="text"><![CDATA[Gitæ˜¯ä¸€ç§åˆ†å¸ƒå¼ä»£ç ç®¡ç†çš„æ–¹å¼ï¼Œç›¸æ¯”ä¼ ç»Ÿçš„SVNç›¸æ¯”ï¼Œå…¶é€Ÿåº¦æ›´å¿«ï¼ˆæ¯ä¸ªæäº¤éƒ½æ˜¯å­˜å‚¨çš„å®Œæ•´å¿«ç…§ï¼Œè€Œä¸æ˜¯é¡¹ç›®è¡¥ä¸ï¼‰ï¼Œæ€§èƒ½æ›´å¥½ï¼ˆä½¿ç”¨æè‡´çš„å‹ç¼©ç®—æ³•ï¼Œä½¿å¾—å­˜å‚¨å ç”¨å¾ˆå°‘ï¼‰ åˆ†å¸ƒå¼VSé›†ä¸­å¼åœ¨æ—©å‰ï¼Œéƒ½æ˜¯ç”¨é›†ä¸­å¼ï¼ˆSVNï¼‰ä»£ç ç®¡ç†çš„æ–¹å¼ï¼Œå³ä½¿ç”¨ä¸€å°ä¸­å¿ƒæœåŠ¡å™¨ä½œä¸ºä»£ç ç®¡ç†ï¼Œå¤§å®¶éƒ½ä»ä¸Šé¢æ‹‰ä»£ç ï¼Œç„¶åæäº¤ä»£ç ï¼Œä½†æ˜¯ä¸€æ—¦æ­¤ä¸­å¿ƒæœåŠ¡å™¨å‘ç”Ÿé—®é¢˜ï¼Œåˆ™å¯èƒ½ä¼šä¸¢å¤±ä»£ç ï¼ˆå¦‚æœè¦æ¢å¤ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªäººä¿å­˜è¿‡é¡¹ç›®çš„æ‰€æœ‰å®Œæ•´å¿«ç…§ï¼‰å¹¶ä¸”æ­¤æœåŠ¡å™¨å¦‚æœå‘ç”Ÿé—®é¢˜åï¼Œå†™çš„ä»£ç éƒ½æ˜¯ä¸ä¿é™©çš„ï¼Œå› ä¸ºæ²¡æœ‰æœ¬åœ°çš„ä»£ç æ°¸è¿œæ˜¯é‚£ä¸€ä»½ï¼Œä¸å­˜åœ¨ç‰ˆæœ¬ï¼Œå¦‚æœé”™äº†ï¼Œåªèƒ½å›é€€åˆ°æœåŠ¡å™¨å‘ç”Ÿæ•…éšœä¹‹å‰çš„ä»£ç ã€‚ åˆ†å¸ƒå¼ï¼ˆGitï¼‰ä»£ç ç®¡ç†çš„æ–¹å¼ï¼Œå¾ˆå¥½çš„è§£å†³äº†ä¸Šé¢çš„é—®é¢˜ï¼Œæ¯ä¸ªäººçš„å®¢æˆ·ç«¯éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªé¡¹ç›®ç®¡ç†ä»“åº“ï¼Œå¹¶ä¸”åœ¨æœ¬åœ°ä¹Ÿå¯ä»¥åšç‰ˆæœ¬æ§åˆ¶ï¼Œæ­¤æ—¶å…¬å¸é‡Œå¯ä»¥æ‰¾ä¸€å°æœåŠ¡å™¨å½“åšä¸€ä¸ªç‰¹æ®Šçš„å®¢æˆ·ç«¯ï¼Œå½“ç„¶å¦‚æœå®ƒåäº†ï¼Œåªæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯åäº†ï¼Œæ‰€æœ‰äººé‚£è¾¹éƒ½æ˜¯æœ‰ä»£ç çš„ï¼Œä¸ä¼šé€ æˆå¤ªå¤§çš„æŸå¤± æ ¹æ®ä»–ä»¬çš„å­˜å‚¨æ–¹å¼è€Œè¨€ï¼Œåˆ†å¸ƒå¼ä»£ç çš„ç®¡ç†æ–¹å¼è¦æ¯”é›†ä¸­å¼ä»£ç çš„ç®¡ç†æ–¹å¼ï¼Œå­˜å‚¨çš„å†…å®¹å¤šå¾ˆå¤šï¼Œå› ä¸ºæ¯ä¸ªäººéƒ½è¦å­˜å®Œæ•´çš„é¡¹ç›®å†å²ï¼Œä½†æ˜¯ï¼Œç”±äºGitå›¢é˜Ÿçš„æè‡´ä¼˜åŒ–å‹ç¼©ï¼Œæ‰€å ç”¨çš„å­˜å‚¨ç©ºé—´å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œç›¸æ¯”SVNå¤§é‚£ä¹ˆä¸€ç‚¹ç‚¹ç‚¹ åº•å±‚åŸç†gitå…¶å®æœ¬è´¨æ˜¯ä¸€ä¸ªæ•°æ®åº“ï¼Œå°†å„ä¸ªæ–‡ä»¶ï¼Œè¿›è¡Œå‹ç¼©åï¼Œå¾—åˆ°ä¸€ä¸²hashå€¼ï¼Œä¿å­˜åˆ°.gitï¼ˆé€šå¸¸éšè—ç›®å½•ï¼‰ç›®å½•ä¸­ï¼Œé€šè¿‡Gitå¯¹è±¡ï¼ŒTreeå¯¹è±¡ï¼ŒCommitå¯¹è±¡æ¥å¯¹æ•´ä¸ªé¡¹ç›®è¿›è¡Œç®¡ç†ã€‚ Gitå¯¹è±¡ä¸€ä¸ªæ–‡ä»¶å­˜å‚¨åˆ°Gitä¸­æ—¶ï¼Œå°±æ˜¯ä¸€ä¸ªGitå¯¹è±¡ï¼Œå¦‚æœè¯¥æ–‡ä»¶å‘ç”Ÿäº†æ”¹å˜ï¼Œé‚£ä¹ˆå­˜å‚¨è¿‡åï¼Œä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„Gitå¯¹è±¡ã€‚ åªèƒ½å­˜å‚¨Gitå¯¹è±¡çš„å†…å®¹ï¼Œå¹¶ä¸èƒ½å­˜å‚¨æ–‡ä»¶åç§°ã€‚ Treeå¯¹è±¡å¤šä¸ªä¿®æ”¹å¥½çš„æ–‡ä»¶ï¼Œå¯ä»¥æ”¾åˆ°åŒä¸€ä¸ªæäº¤æ ‘ä¸Šï¼Œå¹¶ä¸”å¯ä»¥æŒ‡å®šå¯¹è±¡çš„Gitå¯¹è±¡çš„Hashå€¼æ‰€å¯¹åº”çš„æ–‡ä»¶åç§°ï¼Œç­‰äºä¸€æ¬¡å­˜å‚¨äº†è¯¥é¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶ã€‚ ä¸€ä¸ªæ ‘å¯¹è±¡è‡³å°‘æœ‰ä¸¤ä¸ªGitå¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯æ–‡ä»¶å¯¹è±¡å¯¹åº”çš„Gitå¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯æ­¤æ ‘å¯¹è±¡å¯¹åº”çš„Gitå¯¹è±¡ã€‚ Commitå¯¹è±¡ç­‰äºå¯¹æ•´ä¸ªé¡¹ç›®å¿«ç…§è¿›è¡Œäº†ä¸€æ¬¡åŒ…è£¹ï¼Œä¹Ÿå°±æ˜¯åŒ…è£¹äº†ä¸€ä¸ªtreeå¯¹è±¡ï¼Œå¹¶ä¸”å¢åŠ äº†å…¶ä¸­æäº¤å¤‡æ³¨ï¼Œæäº¤äººï¼Œé‚®ç®±ï¼Œæ—¶é—´ç­‰ï¼Œå¹¶ä¸”å¯ä»¥æŒ‡å®šä»–çš„çˆ¶æäº¤å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ…¢æ…¢å½¢æˆäº†ä¸€é¢—Commitæ ‘ã€‚ ä¸€ä¸ªæäº¤å¯¹è±¡å¯¹åº”çš„æ˜¯ä¸€ä¸ªé¡¹ç›®çš„ç‰ˆæœ¬ï¼Œè€Œå…¶ä¸­åŒ…è£¹çš„æ ‘å¯¹è±¡æ‰æ˜¯ä¸€ä¸ªé¡¹ç›®çš„å¿«ç…§ã€‚ é«˜çº§æŒ‡ä»¤git init åˆå§‹åŒ–é¡¹ç›®git add ./ æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº git hash-object -w, git update-index ... å…ˆå°†æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶ç”ŸæˆGitå¯¹è±¡ï¼Œä¹‹åå°†å…¶å­˜å…¥æš‚å­˜åŒºä¸­ è¡¨é¢ä¸Šæ˜¯ï¼šå·¥ä½œåŒº-æš‚å­˜åŒºï¼Œå…¶å®æ˜¯ï¼šå·¥ä½œåŒº-ç‰ˆæœ¬åº“-æš‚å­˜åŒº git commit -m &quot;.....&quot; åˆ›å»ºä¸€æ¬¡æäº¤ git write-tree, git commit-tree å…ˆå°†æš‚å­˜åŒºä¸­çš„å†…å®¹ç”Ÿæˆä¸€ä¸ªæ ‘å¯¹è±¡ï¼Œæ”¾å…¥ç‰ˆæœ¬åº“ä¸­ï¼Œåœ¨å°†è¿™ä¸ªæ ‘å¯¹è±¡åŒ…è£¹æˆä¸€ä¸ªæäº¤å¯¹è±¡ï¼Œå­˜å‚¨ç‰ˆæœ¬åº“ä¸­ git status æŸ¥çœ‹æ–‡ä»¶çš„çŠ¶æ€å·²æš‚å­˜ï¼Œå·²ä¿®æ”¹ï¼Œå·²æäº¤ git commit æäº¤ä¿®æ”¹ git commit ç›´æ¥æäº¤å½“å‰ç¼“å­˜åŒºçš„æ–‡ä»¶ï¼Œè¿›å…¥Vimç¼–è¾‘å™¨ç¼–å†™æäº¤æ³¨é‡Š git commit -m &quot;è¿™é‡Œæ˜¯æ³¨é‡Šä¿¡æ¯&quot; ç›´æ¥æäº¤å½“å‰ç¼“å­˜åŒºçš„æ–‡ä»¶ï¼Œè·³è¿‡Vimç¼–è¾‘å™¨ git commit -a ç›´æ¥æäº¤å½“å‰æ‰€æœ‰è¿½è¸ªæ–‡ä»¶ï¼Œè·³è¿‡å­˜å…¥æš‚å­˜åŒºï¼Œç›´æ¥æäº¤ git diff æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹çŠ¶å†µ git diff --staged æŸ¥çœ‹æš‚å­˜åŒºä¸­çš„æ–‡ä»¶æ”¹å˜æƒ…å†µ git log æŸ¥çœ‹gitæäº¤å†å²è®°å½• git log æŸ¥çœ‹å®Œæ•´çš„gitæäº¤è®°å½• git log --oneline / git log --pretty=oneline æŸ¥çœ‹gitå†å²ä¸€è¡Œ åˆ é™¤/é‡å‘½å git rm xxx ç›´æ¥åˆ é™¤æ–‡ä»¶ï¼Œåªéœ€è¦git commitï¼Œç›¸å½“äºå·¥ä½œç›®å½•åˆ é™¤ï¼Œå¹¶ä¸”è¿½è¸ª git mv xxx yyy ç›´æ¥é‡å‘½åï¼Œåªéœ€è¦git commitï¼Œç›¸å½“äºå·¥ä½œç›®å½•é‡å‘½åï¼Œå¢åŠ åˆ é™¤è¿½è¸ªå’Œæ–°å¢è¿½è¸ªï¼Œå¹¶ä¸”åˆå¹¶åˆ°rename åˆ†æ”¯æŒ‡ä»¤gitçš„åˆ†æ”¯ç›¸æ¯”å…¶ä»–è€Œè¨€æ¥è¯´ï¼Œè¾ƒä¸ºå¿«é€Ÿï¼Œä¹Ÿæ˜¯è®©å…¶è„±é¢–è€Œå‡ºçš„åŠŸèƒ½ åˆ†æ”¯æœ¬è´¨å°±æ˜¯ä¸€ä¸ªæäº¤å¯¹è±¡ï¼ŒHeadé»˜è®¤æŒ‡å‘master,åˆ‡æ¢åˆ†æ”¯å°±æ˜¯è®©HeadæŒ‡å‘ä¸åŒçš„åˆ†æ”¯ï¼Œå½“å‘ç”Ÿæäº¤æ—¶ï¼Œæœ¬è´¨ä¸Šå°±Headå¸¦ç€åˆ†æ”¯èµ° git branch git branch æ˜¾ç¤ºå½“å‰çš„åˆ†æ”¯åˆ—è¡¨ git branch xxx åˆ›å»ºxxxåˆ†æ”¯ git branch xxx &lt;commitHash&gt; åœ¨æŒ‡å®šçš„æäº¤ä¸Šåˆ›å»ºåˆ†æ”¯ git branch -d xxx åˆ é™¤åˆ†æ”¯, è¦æ±‚ä¸èƒ½è‡ªå®¶åˆ è‡ªå·±ï¼Œè¦åˆ°åˆ«çš„åˆ†æ”¯æ¥åˆ é™¤ git branch -D xxx å¤§Dï¼Œå¼ºåˆ¶åˆ é™¤ git branch -v æŸ¥çœ‹branchç‰ˆæœ¬ git branch -r æŸ¥çœ‹è¿œç«¯çš„åˆ†æ”¯ç‰ˆæœ¬ git checkout xxx æ£€å‡ºåˆ†æ”¯ git checkout -b xxx åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯å¹¶åˆ‡æ¢è¿‡å» git merge xxx åˆå¹¶åˆ†æ”¯å½“å‰çš„åˆ†æ”¯ï¼Œä¼šå°†xxxåˆ†æ”¯åˆå¹¶è¿‡æ¥ git reset --hard &lt;branchName&gt; ä½¿ç”¨åˆ†æ”¯å¼ºåˆ¶åˆå¹¶ å¦‚æœæ˜¯å…‹éš†ä¸‹æ¥çš„åˆ†æ”¯ï¼Œé»˜è®¤æ²¡æœ‰å…³è”å…³ç³»ï¼Œéœ€è¦æ‰‹åŠ¨åˆå¹¶è·Ÿè¸ªåˆ†æ”¯ï¼Œæˆ–è€…ä¸æœ¬åœ°åˆ›å»ºå…³è” ç‰ˆæœ¬å›é€€å·¥ä½œåŒºï¼Œæš‚å­˜åŒºï¼Œç‰ˆæœ¬åº“å›é€€å›é€€ git checkout --filename æ’¤é”€å·¥ä½œåŒºçš„å†…å®¹ git reset HEAD filename æ’¤é”€æš‚å­˜åŒºçš„å†…å®¹ git reset HEAD~ è¿”å›ä¸Šä¸€æ¬¡æäº¤ï¼Œç‰ˆæœ¬åº“çš„å†…å®¹ git reset HEAD~2 è¿”å›ä¸Š2æ¬¡æäº¤ git reset &lt;commitHash&gt; è¿”å›åˆ°æäº¤å¯¹è±¡ä¸Š git reset --soft ä»…æ˜¯HEADç§»åŠ¨è¿‡å» ä¿®æ”¹HEADæŒ‡å‘ git reset --mixedé»˜è®¤æƒ…å†µï¼Œç­‰äºgit resetï¼Œå°†HEADç§»åŠ¨è¿‡å»ï¼Œå¹¶ä¸”å°†æœªä¿®æ”¹çš„æ–‡ä»¶å…¨éƒ¨æ”¾å…¥å·¥ä½œç›®å½• ä¿®æ”¹HEAD ä¿®æ”¹æš‚å­˜åŒºçš„å†…å®¹ git reset --hardï¼ˆè¯¥æ“ä½œæ˜¯æœ‰ç ´åæ€§çš„ï¼‰ï¼Œç›´æ¥å›åˆ°é‚£ä¸ªçŠ¶æ€ ä¿®æ”¹HEAD ä¿®æ”¹æš‚å­˜åŒºçš„å†…å®¹ ä¿®æ”¹å·¥ä½œç›®å½•çš„å†…å®¹çš„å†…å®¹ git resetæœ¬è´¨ä¸Šè¿˜æ˜¯å›åˆ°åˆ†æ”¯ä¸Šï¼Œå¹¶æ²¡æœ‰çœŸæ­£çš„å›é€€ï¼Œåªæ˜¯HEADå¸¦ç€åˆ†æ”¯è¿”å›åˆ°äº†æŒ‡å®šçš„ä½ç½®ï¼Œå½“ä½¿ç”¨git reflogè¿˜å¯ä»¥æŸ¥çœ‹åˆ°ï¼Œå½“å‰çš„åˆ†æ”¯ å°½é‡å°‘ä½¿ç”¨reset --hardï¼Œåº”è¯¥å¤šå¼€åˆ†æ”¯ï¼Œä¹‹åè¿›è¡Œmerge, git branch bugfix &lt;commitHash&gt; ä¹‹ååˆ‡æ¢è¿‡å»ï¼Œå¹¶ä¸”è¿›è¡Œmergeã€‚ git checkout &lt;commitHash&gt;å’Œgit reset --hard &lt;commitHash&gt;çš„åŒºåˆ« checkout ä»…æ˜¯ç‰µç€HEADèµ°ï¼Œè€Œreset --hardæ˜¯ç‰µç€HEADï¼Œå¹¶ä¸”ç‰µç€åˆ†æ”¯èµ° checkout ä¸ä¼šç ´åå·¥ä½œåŒºæ–‡ä»¶ï¼Œè€Œreset --hardä¼šç ´åå·¥ä½œåŒºçš„æ–‡ä»¶ æŸ¥çœ‹ç‰ˆæœ¬è®°å½• git log --oneline åªä¼šæŸ¥çœ‹å½“å‰HEADæ‰€åœ¨åˆ†æ”¯çš„é“¾ git reflog --oneline ä¼šæŸ¥çœ‹gitçš„æ‰€æœ‰æ“ä½œè®°å½• git log --graph --decorate --all --oneline æŸ¥çœ‹å½“å‰gitæ ‘çŠ¶å†µ è¿œç¨‹åä½œæœ¬åœ°åˆ†æ”¯-è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯-è¿œç¨‹åˆ†æ”¯ æœ¬åœ°åˆ†æ”¯ï¼šæœ¬åœ°ä»£ç åº“çš„åˆ†æ”¯ è¿œç¨‹åˆ†æ”¯ï¼šè¿œç¨‹ä»“åº“çš„åˆ†æ”¯ è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯ï¼šä»£ç è¢«pullæ—¶è‡ªåŠ¨åˆ›å»ºï¼Œä»–ä¼šè·Ÿéšè¿œç«¯è‡ªå·±å‘å‰ï¼Œéœ€è¦æ ¹æ®ä½¿ç”¨æœ¬åœ°åˆ†æ”¯æ¥åˆå¹¶è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯ä»¥è¾¾åˆ°æ•ˆæœã€‚ åœ¨æœ¬åœ°åˆ›å»ºçš„ä»£ç ï¼Œæ¨é€åˆ°è¿œç«¯ã€‚æœ¬åœ°åˆ†æ”¯æ¨é€åï¼Œä¼šç”Ÿæˆè¿œç¨‹è·Ÿè¸ªåˆ†æ”¯ã€‚ åˆ›å»ºè¿œç«¯ git remote -v æŸ¥çœ‹å½“å‰å…³è”çš„è¿œç¨‹åˆ†æ”¯ git remote add &lt;storageName&gt; &lt;sotrageURL&gt; å¢åŠ ä»“åº“ git remote rm &lt;storageName&gt; åˆ é™¤ä»“åº“ git remote rename &lt;oldName&gt; &lt;newName&gt; é‡å‘½åä»“åº“åç§° è¿œç¨‹æ¨æ‹‰ï¼ˆæ— å…³è”å…³ç³»Â·ä¸æ¨èï¼‰git push &lt;origin&gt; &lt;branchName&gt; æ¨é€ä»£ç  git fetch &lt;origin&gt; æ‹‰å–ä»£ç ä¹‹ååˆ‡æ¢åˆ°è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯git checkout &lt;origin&gt;/&lt;branchName&gt;,ä¹‹åæŸ¥çœ‹å½“å‰çŠ¶æ€(å¦‚æœç¡®å®šå®‰å…¨ï¼Œä¹Ÿå¯ä¸æŸ¥è¯¢çŠ¶æ€)å¦‚æœæ²¡æœ‰é—®é¢˜çš„è¯ï¼Œå¯ä»¥ç›´æ¥åˆå¹¶åˆ†æ”¯ï¼Œgit merge &lt;origin&gt;/&lt;branchName&gt; åˆ é™¤è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯ git push &lt;origin&gt; --delete &lt;branchName&gt; åˆ é™¤è¿œç¨‹åˆ†æ”¯ git remote prune &lt;origin&gt; --dry-run åˆ—å‡ºè¿œç¨‹åˆ†æ”¯å·²ç»æ— ç”¨ï¼Œä½†æ˜¯è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯ä»»å­˜åœ¨ git remote prune &lt;origin&gt; åˆ é™¤ä¸Šè¿°åˆ—å‡ºçš„è¿œç¨‹è·Ÿè¸ª è¿œç¨‹æ¨æ‹‰ï¼ˆæœ‰å…³è”å…³ç³»Â·æ¨èï¼‰ é»˜è®¤æƒ…å†µä¸‹ cloneä¸‹æ¥çš„åº“ï¼Œå…¶masteråˆ†æ”¯ä¸è¿œç«¯çš„masteråˆ†æ”¯æ˜¯æœ‰å…³è”çš„ï¼Œä½†æ˜¯å’Œæœ¬åœ°åˆ›å»ºçš„åº“masteråˆ†æ”¯ä¸è¿œç«¯masteræ— å…³è” åˆ›å»ºè¿œç«¯å…³è”1234567891011# è¿œç¨‹åˆ›å»ºä¸€ä¸ªåˆ†æ”¯git push --set-upstream &lt;origin&gt; &lt;localBranch&gt;:&lt;originBranch&gt;# æ–°å»ºè·Ÿè¸ªåˆ†æ”¯å…³è”git checkout -b æœ¬åœ°åˆ†æ”¯ è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯git checkout --track è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯ #ï¼ˆæœ¬åœ°ï¼Œè¿œç¨‹è·Ÿè¸ªåˆ†æ”¯åç§°ç›¸åŒï¼‰# å·²æœ‰çš„åˆ†æ”¯è¿›è¡Œå…³è”git branch --set-upstream-to=origin/testgit branch -u origin/test #ï¼ˆç®€å†™ï¼‰ æ‹‰å–ä»£ç åœ¨å½“å‰åˆ†ä¹‹ä¸‹ï¼Œgit pull æ¨é€ä»£ç åœ¨å½“å‰åˆ†æ”¯ä¸‹ï¼Œgit push]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘]]></title>
    <url>%2F2020%2F03%2F23%2F%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E7%9A%84this%E6%8C%87%E5%90%91%2F</url>
    <content type="text"><![CDATA[thisç¡®å®šæœºåˆ¶ jsä¸­å‡½æ•°ä¼šå»ºç«‹ä¸€ä¸ªä½œç”¨åŸŸï¼Œå¦‚æœæ˜¯ç±»å…¶å†…éƒ¨ä¹Ÿæ˜¯å‡½æ•°ï¼Œä¹Ÿå³åˆ›é€ äº†ä½œç”¨åŸŸä¼šä»å½“å‰ä½œç”¨åŸŸä¸­å¯»æ‰¾this ä¼ ç»Ÿå‡½æ•°çš„thisæ˜¯è¿è¡Œæ—¶ç¡®å®šçš„123456789function foo () &#123; setTimeout(function () &#123; console.log(this.id) &#125;, 1000)&#125;const obj = &#123; id: 666 &#125;obj.foo = fooobj.foo() // è¾“å‡ºundefined å› ä¸ºåœ¨äº‹ä»¶å¾ªç¯ä¸­ï¼Œtimeoutä¹‹åï¼Œç”±windowè°ƒç”¨äº†è¯¥å‡½æ•°,å³è¿è¡Œæ—¶è¯¥thisä¸ºwindow ç®­å¤´å‡½æ•°çš„thisæ˜¯å®šä¹‰æ—¶ç¡®å®šçš„123456789function foo () &#123; setTimeout(() =&gt; &#123; console.log(this.id) &#125;, 1000)&#125;const obj = &#123; id: 666 &#125;obj.foo = fooobj.foo() // è¾“å‡º666 åœ¨å‡½æ•°è¢«å®šä¹‰çš„æ—¶å€™ï¼Œå°±ç¡®å®šäº†è¯¥è°ƒç”¨è€…ä¸ºobj ç®­å¤´å‡½æ•°ä¼šä¾æ¬¡å‘ä¸Šå¯»æ‰¾ä½œç”¨åŸŸä¸­çš„this123456789101112131415function foo() &#123; return () =&gt; &#123; return () =&gt; &#123; return () =&gt; &#123; console.log('id:', this.id); &#125;; &#125;; &#125;;&#125;var f = foo.call(&#123;id: 1&#125;);var t1 = f.call(&#123;id: 2&#125;)()(); // id: 1var t2 = f().call(&#123;id: 3&#125;)(); // id: 1var t3 = f()().call(&#123;id: 4&#125;); // id: 1 ç®­å¤´å‡½æ•°ä»…æ˜¯å›ºåŒ–äº†thisï¼Œåœ¨å…¶å‡½æ•°å†…éƒ¨å¹¶æ²¡æœ‰thiså®ä¾‹ç”±äºç®­å¤´å‡½æ•°å†…å¹¶æ²¡æœ‰thisï¼Œæ‰€ä»¥å¹¶ä¸èƒ½ä½¿ç”¨bind,call,applyæ–¹æ³•æ¥å†æ¬¡ç¡®å®šthisæŒ‡å‘ ç±»ä¸­çš„thisæŒ‡å‘12345678910111213141516171819202122232425class Person &#123; name: string = 'zhn' hello() &#123; console.log(`hello $&#123;this.name&#125;`) &#125; study = () =&gt; &#123; console.log(`study $&#123;this.name&#125;`); &#125; bye = function (this: Person) &#123; console.log(`bye $&#123;this.name&#125;`); &#125;&#125;const p = new Person()p.hello() // hello zhnp.study() // study zhnp.bye() // bye zhnconst proxy: any = &#123; name: 666 &#125;p.hello.call(proxy) // hello 666p.study.call(proxy) // study zhn å·²ç»å›ºåŒ–äº†thisp.bye.call(proxy) // bye 666 å…¶ä¸­helloæ–¹æ³•ï¼Œä½œä¸ºå…¶æ–¹æ³•ï¼Œä¼šæŒ‚è½½åˆ°åŸå‹ä¸Šï¼Œæ‰€ä»¥thisï¼Œå³å®ä¾‹å¯¹è±¡ å…¶ä¸­studyæ–¹æ³•ï¼Œä½œä¸ºä¸€ä¸ªæˆå‘˜ï¼Œå®ä¾‹å±æ€§ï¼Œ(ä¸ºå…¶æŒ‚è½½äº†åˆå§‹åŒ–å€¼)ï¼Œç”±äºæ˜¯ç®­å¤´å‡½æ•°ï¼Œæ— æ³•ä¿®æ”¹thisæŒ‡å‘ï¼ˆä¸ºå½“å‰ç»‘å®šçš„ç¯å¢ƒï¼‰ å…¶ä¸­byeæ–¹æ³•ï¼Œä½œä¸ºä¸€ä¸ªæˆå‘˜ï¼Œå®ä¾‹å±æ€§ï¼Œ(ä¸ºå…¶æŒ‚è½½äº†åˆå§‹åŒ–å€¼)ï¼Œç”±äºæ˜¯æ™®é€šå‡½æ•°ï¼Œå¯ä»¥ä¿®æ”¹thisæŒ‡å‘ï¼Œé»˜è®¤è¿è¡Œæ—¶çš„è°ƒç”¨è€…ä¸ºpersonå®ä¾‹ å­—é¢é‡ä¸­çš„thisæŒ‡å‘å­—é¢é‡ä¸­å®šä¹‰å‡½æ•°çš„æ–¹æ³• ä½¿ç”¨å±æ€§å€¼å®šä¹‰study: function () {}, ä½¿ç”¨çŸ­å±æ€§çš„æ–¹å¼ï¼Œå’Œä¸Šè¿°ä¸€æ ·study() {}, ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œæ³¨æ„æ— æ³•ç›´æ¥è·å–this study: () =&gt; {} 123456789101112131415161718192021222324const obj: any = &#123; name: 'obj', study: function () &#123; console.log(`study $&#123;this.name&#125;`); &#125;, hello() &#123; console.log(`hello $&#123;this.name&#125;`); &#125;, eat: () =&gt; &#123; // console.log(`eat $&#123;this.name&#125;`); &#125;, designFn() &#123; return () =&gt; &#123; console.log(`designFn $&#123;this.name&#125;`) &#125; &#125;&#125;obj.study.call(&#123; name: '666' &#125;) // è¾“å‡º study 666obj.hello.call(&#123; name: '666' &#125;) // è¾“å‡º hello 666obj.eat.call(&#123; name: '666' &#125;) // ç”±äºç®­å¤´å‡½æ•°ä¸­ç›´æ¥ä½¿ç”¨this,tsä¼šæŠ¥é”™const fn = obj.designFn.call(&#123; name: '666' &#125;) // ç®­å¤´å‡½æ•°å‘ä¸Šç»‘å®šäº†ä¸€å±‚ä¸Šä¸‹æ–‡fn() // è¾“å‡ºdesignFn 666 tsä¸­ä½¿ç”¨this åœ¨tsä¸­ï¼Œå¯¹è±¡å±æ€§é‡Œä½¿ç”¨thisæ—¶ï¼Œé»˜è®¤ä¼šä¸ºä¸€ä¸ªanyç±»å‹çš„å¯¹è±¡ï¼Œå¯ä»¥è‡ªå·±ç”³æ˜è¯¥å¯¹è±¡ç±»å‹ï¼Œä¹‹åå°†thiså¸¦å…¥ 1234567891011interface Obj &#123; name: string; // ...&#125;let obj: Obj = &#123; name: 'z', fn(this: Obj) &#123; // this.name &#125;&#125; ç®­å¤´å‡½æ•°ä¸­ï¼Œthisæ˜¯voidç±»å‹ï¼Œä¸å¯æ”¹å˜ï¼Œä¸èƒ½æ˜¾ç¤ºç”³æ˜ 1const fn = (this: void) =&gt; &#123;&#125; // Error Arrow function can not have 'this' åœ¨å‡½æ•°çš„æ¥å£ç”³æ˜ä¸­ï¼Œå¯ä»¥ç”³æ˜å‡ºthis 1234567891011interface Obj &#123; fn: (this: void) =&gt; &#123;&#125;&#125;const o1: Obj = &#123; fn: () =&gt; &#123; ... &#125;&#125;const o2: Obj = &#123; fn(this: void) &#123; ... &#125;&#125;]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[eventå¯¹è±¡çš„å‡ ç§å®šä½]]></title>
    <url>%2F2020%2F03%2F12%2Fevent%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%87%A0%E7%A7%8D%E5%AE%9A%E4%BD%8D%2F</url>
    <content type="text"><![CDATA[ç³»åˆ—å‡æœ‰x,yç­‰ä¸¤ä¸ªæ–¹å‘çš„å€¼ offsetè·ç¦»å…¶çˆ¶å…ƒç´ çš„å·¦ä¾§å†…éƒ¨è¾¹æ¡†çš„è·ç¦»,å¦‚æœè¾¹æ¡†è¾ƒå®½ï¼Œç‚¹åœ¨è¾¹æ¡†ä¸Šä¸ºè´Ÿå€¼ï¼Œå› ä¸ºæ˜¯åˆ°è¾¹æ¡†å†…ä¾§è·ç¦» clientå…¶è·ç¦»æµè§ˆå™¨å·¦ä¾§çš„è·ç¦» pageå…¶è·ç¦»å½“å‰é¡µé¢çš„è¾¹æ¡†è·ç¦»ï¼ˆclient+é¡µé¢æ»šåŠ¨çš„è·ç¦»ï¼‰ screenå…¶è·ç¦»å½“å‰æ˜¾ç¤ºå™¨çš„è¾¹æ¡†è·ç¦» å›¾ç‰‡æ¥æº,åšå®¢å›­]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DOMå¯¹è±¡å„å®šä½å€¼]]></title>
    <url>%2F2020%2F03%2F12%2FDOM%E5%AF%B9%E8%B1%A1%E5%90%84%E5%AE%9A%E4%BD%8D%E5%80%BC%2F</url>
    <content type="text"><![CDATA[åœ¨ä½¿ç”¨ç›’æ¨¡å‹çš„æ—¶å€™ï¼Œè¿™é‡Œé»˜è®¤ä½¿ç”¨çš„æ˜¯box-sizing: content-box;ä¹Ÿæ˜¯ç»å…¸çš„ç›’æ¨¡å‹ï¼Œå¦‚æœé‡‡ç”¨çš„ä¸ºbox-sizing: border-box;ä¼šç•¥æœ‰ä¸åŒ offsetç³»åˆ—offsetè¡¨ç¤ºçš„ä¸ºè·ç¦»çˆ¶å®šä½å…ƒç´ çš„åç§»å€¼ï¼Œå¦‚æœå…¶çˆ¶å…ƒç´ æ²¡æœ‰å®šä½å…ƒç´ ï¼Œåˆ™ä¼šè¾ƒä¸æ–‡æ¡£æœ€å¤–å±‚æ¯”è¾ƒ offsetTop å…¶boderçš„ä¸Šéƒ¨å¤–ä¾§ä¸çˆ¶å…ƒç´ borderä¸‹éƒ¨å†…ä¾§ä¹‹é—´çš„è·ç¦»,æœ‰ç‚¹åƒmargin-top offsetLeft å…¶borderçš„å·¦ä¾§å¤–éƒ¨ä¸çˆ¶å…ƒç´ borderå³ä¾§ä¹‹é—´çš„è·ç¦»,æœ‰ç‚¹åƒmargin-left offsetWidth å…¶å…ƒç´ çš„å®½åº¦ï¼ŒåŒ…æ‹¬å·¦å³ä¸¤ä¾§çš„borderå®½åº¦ offsetHeight å…¶å…ƒç´ çš„é«˜åº¦ï¼ŒåŒ…æ‹¬ä¸Šä¸‹ä¸¤ä¾§çš„borderå®½åº¦ scrollç³»åˆ—scrollè¡¨ç¤ºå·æ›²ç›¸å…³,ä¸€èˆ¬æ˜¯ç”¨å…¶çˆ¶å…ƒç´ çš„ä½ç½®,ä¸€èˆ¬åœ¨å†…å®¹è¶…å‡ºçˆ¶å…ƒç´ çš„ä½ç½®æ—¶ï¼Œæ‰ä¼šäºˆä»¥æ˜¾ç¤ºï¼Œä¸€çˆ¶å…ƒç´ ä¸ºåŸºå‡†ï¼Œè¦è®¾ç½®çˆ¶å…ƒç´ overflow: auto; scrollTop å…¶å†…éƒ¨å…ƒç´ å·æ›²å‘ä¸Šå‡ºå»çš„è·ç¦»ï¼ˆçœ‹ä¸è§çš„è·ç¦»ï¼‰,å…¶borderä¸Šè¾¹è·å¤–ä¾§å¼€å§‹ï¼Œè®¡ç®—åˆ°çˆ¶å…ƒç´ å†…å®¹åŒº scrollLeft å…¶å†…éƒ¨å…ƒç´ å·æ›²å·¦ä¸Šå‡ºå»çš„è·ç¦»ï¼ˆçœ‹ä¸è§çš„è·ç¦»ï¼‰,å…¶borderå·¦è¾¹è·å¤–ä¾§å¼€å§‹ï¼Œè®¡ç®—åˆ°çˆ¶å…ƒç´ å†…å®¹åŒº scrollWidth è¡¨ç¤ºæ€»å…±å¯ä»¥å·æ›²çš„å®½åº¦ï¼Œï¼ˆå…¶å­å…ƒç´ å·¦å³å¤–ä¾§è¾¹æ¡†å¼€å§‹è®¡ç®—ï¼‰ scrollHeight è¡¨ç¤ºæ€»å…±å¯ä»¥å·æ›²çš„é«˜åº¦ï¼Œï¼ˆå…¶å­å…ƒç´ ä¸Šä¸‹å¤–ä¾§è¾¹è·å¼€å§‹è®¡ç®—ï¼‰ clientç³»åˆ—clientè¡¨ç¤ºè¯¥å…ƒç´ è‡ªèº«ï¼Œå°±æ˜¯å†…å®¹åŒºåŸŸ clientTop å…¶å†…éƒ¨è·ç¦»é¡¶éƒ¨borderé¡¶éƒ¨å¤–æµ‹çš„è·ç¦»ï¼Œç›¸å½“äºborderçš„å®½åº¦ clientLeft å…¶å†…éƒ¨è·ç¦»borderå·¦ä¾§å¤–ä¾§çš„è·ç¦»ï¼Œç›¸å½“äºborderçš„å®½åº¦ clientWidth å…¶å†…éƒ¨å·¦å³ä¸¤ä¾§borderå†…ä¾§çš„è·ç¦»ï¼Œç›¸å½“äºä¸å¸¦borderçš„å®½åº¦ clientHeight å…¶å†…éƒ¨ä¸Šä¸‹ä¸¤ä¾§borderå†…ä¾§çš„è·ç¦»ï¼Œç›¸å½“äºä¸å¸¦borderçš„å®½åº¦ currentStyleå’ŒgetComputedStyleç”±äºelement.styleçš„æ–¹å¼ä»…èƒ½è·å–è¡Œé—´æ ·å¼ï¼Œæ‰€ä»¥è¦è·å–æ›´å¤šçš„æ ·å¼ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹çš„æ–¹å¼ åªèƒ½è¿›è¡Œè·å–ï¼Œä¸å¯è¿›è¡Œä¿®æ”¹ 1234567const element = document.getElementById('#xx')// IEä¸­element.currentStyle['color']// éIEä¸­(é«˜çº§IEä¹Ÿæ”¯æŒ)window.getComputedStyle(element, null)['color']]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ›å»ºsshè¿æ¥]]></title>
    <url>%2F2020%2F03%2F11%2F%E4%BD%BF%E7%94%A8ssh%E8%BF%9B%E8%A1%8C%E6%8E%A8%E9%80%81%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨hexoç­‰è¿›è¡Œgitæ¨é€çš„æ—¶å€™ï¼Œæ¨é€æ—¶éƒ½éœ€è¦æˆ‘ä»¬è¾“å…¥è´¦æˆ·å¯†ç ï¼Œè¾ƒä¸ºç¹çï¼Œè¿™é‡Œä½¿ç”¨sshçš„æ–¹å¼å¯ä»¥è¾ƒå¥½çš„è§£å†³ ç”Ÿæˆsshè®¾ç½®gitçš„userä¸emailå¦‚æœç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œéœ€è¦è®¾ç½®gitçš„è´¦æˆ·å’Œé‚®ç®± 12git config --global user.name "xxx"git config --global user.email "xxxx@xx.com" æ£€æµ‹æ˜¯å¦å­˜åœ¨ssh ä¸€èˆ¬éƒ½ä¼šå®‰è£…åˆ°ç”¨æˆ·æ ¹ç›®å½•ä¸‹ ~ 123456cd ~/.sshls# æˆ–è€…ll# çœ‹æ˜¯å¦å­˜åœ¨ id_rsa å’Œ id_rsa.pubæ–‡ä»¶ï¼Œå¦‚æœå­˜åœ¨ï¼Œè¯´æ˜å·²ç»æœ‰SSH Key ç”Ÿæˆæœ¬åœ°ssh1ssh-keygen -t rsa -C "xxxxx@xxx.com" ä¹‹åå¯è¿›è¡Œæ£€æµ‹æ˜¯å¦ç”Ÿæˆäº†ssh id_rsa.pub æ˜¯å…¬é’¥ id_rsa æ˜¯ç§é’¥ è¿›è¡Œsshè¿æ¥è¿›å…¥åˆ°ä»£ç æ‰˜ç®¡å¹³å°ï¼Œå¦‚github,å†å…¶è®¾ç½®ä¸­ï¼Œsecurityæ‰¾åˆ°sshé€‰é¡¹ï¼Œå°†id_rsa.pubçš„å†…å®¹è¿›è¡Œæäº¤å³å¯ æ‹‰å–ä»£ç æ—¶ï¼Œæ¢ä¸ºgit@xxx,å³åœ¨ä»¥åçš„æäº¤ä¸­éƒ½å¯ä½¿ç”¨sshçš„æ–¹å¼,è¿›è¡Œé“¾æ¥]]></content>
      <tags>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç¾åŒ–ç›’å­]]></title>
    <url>%2F2020%2F03%2F11%2F%E7%BE%8E%E5%8C%96%E7%9B%92%E5%AD%90%2F</url>
    <content type="text"><![CDATA[åˆ—ä¸¾å‡ ç§ç¾åŒ–cssç›’å­çš„æ–¹å¼ ä½¿ç”¨æ¸å˜èƒŒæ™¯æ¸å˜èƒŒæ™¯å®é™…ä¸Šä½¿ç”¨çš„æ˜¯èƒŒæ™¯å›¾è¿›è¡Œæ¸å˜ç»˜åˆ¶çš„ 123.bg &#123; background-image: xxx&#125; çº¿æ€§æ¸å˜ linear-gradient()ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºæ–¹å‘ï¼Œä¸yè½´çš„å¤¹è§’,æ”¯æŒå…³é”®å­—to right,to bottom ä¹‹åçš„å‚æ•°ç±»ä¼¼é¢œè‰²æ ‡ç‚¹çš„ä½ç½®ï¼Œå¦‚æœä¸åŠ ä½ç½®ï¼Œä¼šè‡ªåŠ¨å¹³åˆ†ä½ç½®ã€‚ 123.bg &#123; background-image: linear-gradient(45deg, #d0418e 0%, #9a08e3 100%)&#125; å¾„å‘æ¸å˜ radial-gradient()ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¾„å‘æ¸å˜çš„å½¢çŠ¶ï¼Œé»˜è®¤æ˜¯æ¤­åœ†å½¢çš„æ¸å˜æ–¹å¼ï¼Œå¯ä»¥æ›´æ”¹ä¸ºåœ†å½¢çš„æ¸å˜æ–¹å¼ï¼Œcircle closest-side(æœ€è¿‘çš„è¾¹), circle closest-corner as 10% 20%(æœ€è¿‘çš„è§’) 1234567891011.bg &#123; background-image: radial-gradient(#d0418e, #9a08e3)&#125;.bg &#123; background-iamge: radial-gradient( circle closest-side, #d0418e 0%, #9a08e3 100% )&#125; å¾ªç¯æ¸å˜ repeating-liner-gradient, repeating-radial-gradient,çº¿æ€§æ¸å˜å’Œå¾„å‘æ¸å˜çš„å åŠ å…¶ä¸­ä¼šæŒ‰ç…§å…¶å®šä¹‰çš„æ–¹å¼è¿›è¡Œé‡å¤,å¯å åŠ å¤šä¸ªå€¼ï¼Œä½¿ç”¨,éš”å¼€ 12345678910111213141516171819202122232425.bg &#123; background-image: repeating-liner-gradient( to right, transparent 0, // 0pxå¼€å§‹ é€æ˜ transparent 10px, // 10ç»“æŸ é€æ˜ rgba(208, 65, 232, 0.3) 10px, // 10pxå¼€å§‹ rgba rgba(208, 65, 232, 0.3) 20px, // 20pxç»“æŸ rgba )&#125;.tablecloth &#123; // ç´«è‰²çš„æ¡Œå¸ƒæ•ˆæœ background-image: repeating-linear-gradient( to bottom, transparent 0, transparent 10px, rgba(208, 65, 232, 0.3) 10px, rgba(208, 65, 232, 0.3) 20px ), repeating-linear-gradient( to right, transparent 0, transparent 10px, rgba(208, 65, 232, 0.3) 10px, rgba(208, 65, 232, 0.3) 20px );&#125; ä½¿ç”¨èƒŒæ™¯å›¾ä½¿ç”¨å›¾ç‰‡ä¸ä»…å¯ä»¥ä½¿ç”¨imgæ ‡ç­¾,å¦‚æœè¯¥å›¾ç‰‡å»æ‰ä¸ä¼šå½±å“é¡µé¢çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆè¯¥å›¾ç‰‡åº”è¯¥å°±ä»¥èƒŒæ™¯å›¾çš„å½¢å¼å‘ˆç°å‡ºæ¥ backgroundå¯ä»¥ä¸ºä¸€ç³»åˆ—ç»„åˆå€¼ background-repeat å›¾ç‰‡é‡å¤ repeat-x repeat-y no-repeat background-size èƒŒæ™¯å›¾çš„å°ºå¯¸ xçš„å€¼ï¼Œyçš„å€¼, ä¸€èˆ¬è®¾ç½®ä¸€ä¸ªä¸ºå›ºå®šå€¼ï¼Œå¦ä¸€ä¸ªä¸ºautoï¼Œé˜²æ­¢å›¾ç‰‡å˜å½¢ï¼Œ80px auto contain è‡ªåŠ¨é€‚åº”ï¼Œæ”¾åˆ°æœ€å¤§çš„æ¯”ä¾‹ï¼Œä¸ä¼šè£å‰ªï¼Œä½†æ˜¯ä¼šäº§ç”Ÿç©ºè¢­ cover è¦†ç›–ï¼Œä¹Ÿæ”¾åˆ°æœ€å¤§çš„æ¯”ä¾‹ï¼Œä¼šå¯¹å›¾ç‰‡è¿›è¡Œè£å‰ªï¼Œç›´åˆ°å®Œå…¨å¡«æ»¡èƒŒæ™¯å›¾ background-position èƒŒæ™¯å›¾çš„ä½ç½® x:left,center,right.y:top, center,bottom.è™½ç„¶æœªæŒ‡æ˜x,yä½†å»ºè®®å…ˆå£°æ˜x,åœ¨å£°æ˜y left 10px top 10px å¯ä»¥å…ˆå£°æ˜å…³é”®å­—ï¼Œå†æ¬¡ç¡®å®šå…·ä½“çš„æ•°å€¼12background: url(https://...) left center;background-position: left 10px top 50%; background-clip, background-originèƒŒæ™¯å›¾å¡«å……ä½ç½® å…¶å¯é€‰å€¼éƒ½æœ‰border-box(default), padding-box, content-box background-clipï¼Œå¦‚æœèƒŒæ™¯å›¾è¢«è£å‰ªæ—¶ï¼Œä»å“ªé‡Œå¼€å§‹è¿›è¡Œè£å‰ª background-origin, æŒ‡æ˜èƒŒæ™¯å›¾ä»å“ªé‡Œè¿›è¡Œå¡«å…… ä½¿ç”¨èƒŒæ™¯å›¾çš„backgroundçš„ç»„åˆå±æ€§çš„å†™æ³• ç»„åˆå†™æ³•è¾ƒä¸ºç†è§£è¾ƒä¸ºå¤æ‚ï¼Œä½†æ˜¯æ€§èƒ½è¾ƒå¥½ ç»„åˆå†™æ³•æ—¶ï¼Œä¸ç”¨è€ƒè™‘å±æ€§çš„é¡ºåºæµè§ˆå™¨ä¼šè‡ªåŠ¨è¯†åˆ« background-position, background-sizeéƒ½æ—¶å…·ä½“çš„æ•°å€¼ï¼Œæ‰€ä»¥shiyong/éš”å¼€,background-position/background-size background-origin,background-clipéƒ½æ˜¯ç›¸åŒçš„å€¼ï¼Œå†™ä¸€ä¸ªè®¤å®šä¸ºç›¸åŒï¼Œä¸¤ä¸ªè®¤å®šä¸ºorigin clip ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šé‡èƒŒæ™¯ï¼Œä½¿ç”¨,éš”å¼€å³å¯ è®¾ç½®è¾¹æ¡†å…¶ä¸­è¾¹æ¡†borderæ˜¯ä¸‰ä¸ªå¤åˆå€¼ï¼Œä¸åˆ†å…ˆåé¡ºåº border-width è¾¹æ¡†çš„å®½åº¦ border-color è¾¹æ¡†çš„é¢œè‰² border-style è¾¹æ¡†çš„æ ·å¼ solidå®çº¿ dashedè™šçº¿ dottedç‚¹è™šçº¿ doubleåŒå¹³è¡Œçº¿ å…¶ä¸­borderå±æ€§ä¹Ÿå¯ä»¥åˆ†åˆ«è®¾ç½® border-left-width,border-bottom-style è®¾ç½®å›¾ç‰‡è¾¹æ¡†ä½¿ç”¨border-image: url(./...) 10 repeat è¾¹æ¡†å›¾ç‰‡çš„èµ„æº è£å‰ªä¹å®«æ ¼çš„å•ä½ï¼Œé»˜è®¤æ˜¯100% ä¸­é—´é‡å¤çš„æ•ˆæœ ä¹å®«æ ¼ï¼Œæ˜¯æŒ‡å°†å›¾ç‰‡ï¼Œç”¨å››æ¡çº¿æ‹†åˆ†ï¼Œåˆ†åˆ«æ˜¯ä¸Šå³ä¸‹å·¦çš„æ–¹å‘ï¼Œåˆ†æˆ9å—åŒºåŸŸï¼Œ4ä¸ªè§’ä¸ºè¾¹æ¡†è§’ï¼Œä¸­é—´çš„åŒºåŸŸå»é™¤ï¼Œä¸Šä¸‹å·¦å³ä¸­é—´çš„éƒ¨åˆ†è¿›è¡Œé‡å¤/æ‹‰ä¼¸ç­‰æ“ä½œ ä½¿ç”¨border-radius 50%ï¼Œå³è®¾ç½®è¯¥è§’ä¸ºçš„åŠåœ†ï¼Œå…¶å®æ˜¯x/y = 50%/50% æŒ‰ç…§ä¸Šå³ä¸‹å·¦çš„é¡ºåºborder-radius: 10px 20px 30px 40px ä¹Ÿå¯ä»¥ç”¨/åŒºåˆ†å·¦ï¼Œå³ï¼Œå…¶å®æ˜¯ä»¥ç”»æ¤­åœ†çš„æ–¹å¼è¿›è¡Œç»˜åˆ¶çš„0 50% 0 50%/0 100% 0 100% å…¶ä¸­ä¹Ÿå¯ä»¥åˆ†åˆ«è®¾ç½®å››ä¸ªè§’çš„ä½ç½®border-top-right-radius 50% å’Œ 100%å¦‚æœè®¾ç½®çš„å€¼è¶…å‡ºè‡ªç„¶å€¼ï¼Œæµè§ˆå™¨ä¼šåšå“åº”çš„ä¼˜åŒ– 12345border-top-left-raduis: 100%; // æ­¤æ—¶æ˜¯1/4çš„åœ†border-top-left-raduis: 100%;border-top-right-raduis: 100%;// æ­¤æ—¶ä¼šæ˜¾ç¤ºæˆ50%çš„æ•ˆæœ ä½¿ç”¨shadowä½¿ç”¨æ¨¡ç³ŠèƒŒæ™¯ï¼Œå¯ä»¥æœ‰ä¸€ç§ç«‹ä½“çš„æ„Ÿè§‰ï¼Œå…¶ä½¿ç”¨å¤šä¸ªå€¼ box-shadow: xåç§» yåç§» æ¨¡ç³ŠåŠå¾„ æ‹“å±•åŠå¾„ é¢œè‰² xåç§» å‘xè½´æ­£æ–¹å‘åç§»çš„ä½ç½® yåç§» å‘yè½´æ­£æ–¹å‘åç§»çš„ä½ç½® æ¨¡ç³ŠåŠå¾„ æ¨¡ç³ŠåŠå¾„çš„å¤§å° æ‹“å±•åŠå¾„ åœ¨æ­¤åŸºç¡€ä¸Šæ‹“å±•å‡ºå»çš„åŠå¾„ é¢œè‰² æ¨¡ç³Šé¢œè‰² å¯ä»¥ä½¿ç”¨,åˆ†éš”å¤šä¸ªå€¼å‡ºå» 123.shadow &#123; box-shadow: 10px 10px 100px yellowgreen, 0 20px 10px hotpink;&#125;]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµè§ˆå™¨ç¼“å­˜ç­–ç•¥]]></title>
    <url>%2F2020%2F03%2F07%2F%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E7%AD%96%E7%95%A5%2F</url>
    <content type="text"><![CDATA[æµè§ˆæ—¶ï¼Œä¼šé€šè¿‡ä¸€ä¸‹å‡ ç§æ–¹å¼è®¿é—®èµ„æº (æ–°æ ‡ç­¾)åœ°å€æ å›è½¦ é“¾æ¥è·³è½¬ å‰è¿›ã€åé€€ ä»æ”¶è—æ æ‰“å¼€é“¾æ¥ (window.open)æ–°å¼€çª—å£ åˆ·æ–°ï¼ˆCommand + R / F5ï¼‰ å¼ºåˆ¶åˆ·æ–°ï¼ˆCommand + Shift + R / Ctrl + F5ï¼‰ å…¶ä¸­1-5ä¼šé€šè¿‡è®¿é—®ä¸€ç³»åˆ—çš„ç¼“å­˜ç­–ç•¥ æ˜¯å¦æœ‰ç¼“å­˜-&lt;è¿‡æœŸç­–ç•¥&gt;-&lt;åå•†ç­–ç•¥&gt;-&gt; çš„æ–¹å¼è¿›è¡Œç¼“å­˜ å½“æ‹¿åˆ°èµ„æºæ—¶åˆä¼šé€šè¿‡&lt;å­˜å‚¨ç­–ç•¥&gt;å“åº”å†…å®¹å­˜å…¥ç¼“å­˜å½“ä¸­ å¦‚æœåˆ·æ–°çš„æ–¹å¼ï¼Œåˆ™ä¼šç›´æ¥è¿›è¡Œ&lt;åå•†ç­–ç•¥&gt;ï¼Œå¦‚æœæ˜¯å¼ºåˆ¶åˆ·æ–°ï¼Œåˆ™ä¼šå…¨éƒ¨æ‹¿èµ„æº è§£é‡Š è¿‡æœŸç­–ç•¥ï¼Œé€šè¿‡æœ¬åœ°ç¼“å­˜çš„æ–‡ä»¶ï¼ŒéªŒè¯æ˜¯å¦è¿‡å»ï¼Œæ˜¯å¦åº”ç”¨ç¼“å­˜ï¼ŒåˆExpires,Cache-control åå•†ç­–ç•¥ï¼Œé€šè¿‡è¯¢é—®è¿œç«¯çš„æœåŠ¡å™¨ï¼Œæ˜¯å¦éœ€è¦æŠ“å–æ–°çš„èµ„æºï¼Œæ˜¯å¦éœ€è¦é‡æ–°è·å–ï¼Œæœ‰ETag,Last-Modified å­˜å‚¨ç­–ç•¥ï¼Œå“åº”å†…å®¹å­˜å…¥ç¼“å­˜ä¸­ Expires,Cache-Controlå…¶ä¸­éƒ½å±äº&lt;è¿‡æœŸç­–ç•¥&gt;çš„å†…å®¹ Expireså­˜å‚¨çš„æ—¶è¿‡æœŸçš„æ—¶é—´ï¼Œå¦‚æœæœ¬åœ°æ—¶é—´åäºæŸä¸€æ—¶åˆ»ï¼Œé‚£ä¹ˆå°±ç§°ä¹‹ä¸ºè¿‡æœŸäº† Expires: Sat Oct 20 2018 00:00:00 GMT+0800 (CST) Cache-controlæ˜¯ä¸€ç³»åˆ—cache-directiveï¼ˆç¼“å­˜æŒ‡ä»¤ï¼‰å€¼ï¼Œä¸­é—´ä½¿ç”¨,éš”å¼€ å¯ç¼“å­˜æ€§ç›¸å…³ public åœ¨å®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨ç¼“å­˜ï¼ˆå…¬å…±èµ„æºé€‚ç”¨ï¼‰ private åœ¨å®¢æˆ·ç«¯ç¼“å­˜ï¼Œä»£ç†æœåŠ¡å™¨ä¸ç¼“å­˜ï¼ˆç”¨æˆ·ä¸ªäººèµ„æºï¼‰ no-cache ä¸è¿›è¡Œè¿‡æœŸç­–ç•¥ï¼Œç›´æ¥èµ°åå•†ç­–ç•¥ï¼ˆno-cacheèµ°åå•†ç­–ç•¥ï¼Œno-storeæ˜¯å®Œå…¨ä¸ç¼“å­˜ï¼‰ è¿‡æœŸç›¸å…³ max-age=&lt;seconds&gt; å¤šå°‘ç§’åè¿‡æœŸï¼Œå¦‚æœå’ŒExpiresåŒæ—¶è®¾ç½®ï¼Œåˆ™Expireså¤±æ•ˆ å…¶ä»– no-store å®Œå…¨ä¸ç¼“å­˜ ä»…åˆ—ä¸¾äº†éƒ¨åˆ†èµ„æº ETag,Last-ModifiedLast-Modifiedå­˜å‚¨çš„æ ¼å¼ä¸ºï¼ŒLast-Modified: &lt;day-name&gt;ï¼Œ&lt;day&gt; &lt;month&gt; &lt;year&gt; &lt;hour&gt;:&lt;minute&gt;:&lt;second&gt; GMT,è¡¨ç¤ºä¸Šä¸€æ¬¡ä¿®æ”¹çš„æ—¶é—´ï¼Œè¯¥ä¿®æ”¹åªä¼šç²¾ç¡®åˆ°ç§’ï¼Œä¼šå‘æœåŠ¡ç«¯è¯¢é—®æ˜¯å¦å‘ç”Ÿäº†æ›´æ”¹ã€‚ ä¸‹æ¬¡ä¸€æ¬¡åˆ·æ–°çš„æ—¶å€™ï¼Œä¼šå¸¦æœ‰If-Modifued-Sience: xxx å°±æ˜¯ä¸Šä¸€æ¬¡è·å–çš„last-modified,å»å’ŒæœåŠ¡å™¨åšå¯¹æ¯”ï¼Œå¦‚æœè¯·æ±‚è¿‡å»ï¼Œå‘ç°æ˜¯ä¸Šä¸€æ¬¡ä¸ºä¿®æ”¹è¿‡ï¼Œåˆ™ä¼šè¿”å›304 ETagæ–‡ä»¶ä¿®æ”¹ï¼Œåˆ™ä¼šæ”¹å˜è¯¥å€¼ï¼Œå¦‚æœæ–‡ä»¶æœªå‘ç”Ÿæ”¹å˜ï¼Œåˆ™è¿”å›304ï¼ŒETag: &quot;e6sda124q84ds4&quot; å››ç§æ–¹å¼ä¼˜ç¼ºç‚¹ Expires ä¼˜ç‚¹ï¼šhttp1.0, ç®€å•æ˜“ç”¨ï¼Œé€šè¿‡ç»å¯¹æ—¶é—´æ ‡è¯† ç¼ºç‚¹ï¼šæœåŠ¡å™¨æ—¶é—´å’Œæœ¬åœ°æ—¶é—´ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå¦‚æœèµ„æºè¿‡æœŸå‰å¯¹å…¶è¿›è¡Œäº†ä¿®æ”¹ï¼Œå®¢æˆ·ç«¯æ˜¯æ— æ³•çŸ¥é“çš„ Cache-Control ä¼˜ç‚¹ï¼šhttp1.1å†…å®¹ï¼Œç›¸å¯¹æ—¶é—´æ ‡è¯†ï¼Œè¾ƒå®‰å…¨ï¼Œå¯é…ç½®çš„æŒ‡ä»¤ä¹Ÿå¾ˆå¤š ç¼ºç‚¹ï¼šhttp1.1æ‰é€‚ç”¨ï¼Œä¸é€‚ç”¨ä¹‹å‰1.0ç‰ˆæœ¬ï¼Œå¦‚æœèµ„æºè¿‡æœŸå‰è¿›è¡Œäº†ä¿®æ”¹ï¼Œå®¢æˆ·ç«¯ä¹Ÿæ˜¯æ— æ³•æ›´æ”¹çš„ Last-Modified ä¼˜ç‚¹ï¼šä¸å­˜åœ¨ç‰ˆæœ¬é—®é¢˜ï¼Œæ²¡è¿‡æœŸç›´æ¥è¿”å›304 ç¼ºç‚¹ï¼šç²¾ç¡®åˆ°ç§’ï¼Œä¸é€‚ç”¨å¤šæ¬¡é‡å¤ä¿®æ”¹ï¼Œå¦‚æœèµ„æºå¹¶æœªå‘ç”Ÿå®è´¨æ€§çš„ä¿®æ”¹ï¼Œåˆ™ä¹Ÿä¼šé‡æ–°è¿”å› ETag ä¼˜ç‚¹ï¼šä¸å­˜åœ¨ç‰ˆæœ¬é—®é¢˜ï¼Œæ²¡è¿‡æœŸç›´æ¥è¿”å›304ï¼Œå¯ä»¥è¯†åˆ«ä¸€ç§’å†…å¤šæ¬¡ä¿®æ”¹ï¼Œå¦‚æœèµ„æºä¿®æ”¹ï¼Œå¹¶æœªå‘ç”Ÿå®è´¨å†…å®¹ï¼Œåˆ™ETagå€¼å¯ä»¥ä¸åšæ”¹å˜ ç¼ºç‚¹ï¼šè®¡ç®—ETagä¼šæœ‰ä¸€å®šçš„æ€§èƒ½å¼€é”€ï¼Œå¦‚æœåˆ†å¸ƒå¼æœåŠ¡å™¨è®¡ç®—ETagä¸åŒ,éªŒè¯ä¸ä¼šé€šè¿‡ æœ€ä½³å®è·µ é€‚ç”¨å¾ˆå¤§çš„Cache-Control:max-age, å’ŒExpiresï¼Œé€‚ç”¨ETagè¿›è¡Œæ ¡éªŒ é€‚ç”¨ä¸šåŠ¡é€»è¾‘ï¼Œæ¯”å¦‚xxx/js/index.js?s84vcxzcæ·»åŠ hashæˆ–è€…ï¼Œtimestamp]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµè§ˆå™¨å·¥ä½œåŸç†]]></title>
    <url>%2F2020%2F03%2F07%2F%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[å®è§‚ å°†ç½‘å€è½¬æ¢ä¸ºIPåœ°å€ï¼Œé€šè¿‡æµè§ˆå™¨ç¼“å­˜-ç³»ç»Ÿç¼“å­˜-è·¯ç”±å™¨ç¼“å­˜-ISPä¾›åº”å•†ç¼“å­˜ å»DNSæœåŠ¡å™¨æŸ¥è¯¢ç½‘å€æ‰€å¯¹åº”çš„ipåœ°å€ å‘ipåœ°å€æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ ç›®æ ‡æœåŠ¡å™¨è§£æè¯·æ±‚ï¼Œè¿”å›å†…å®¹ æµè§ˆå™¨ç›¸åº”å†…å®¹ï¼Œå¹¶å‘ˆç°ç»™ç”¨æˆ· ä¸»è¦åˆ†ææµè§ˆå™¨æ‹¿åˆ°æ–‡æ¡£æ—¶ï¼Œä»–æ˜¯å¦‚ä½•è¿›è¡Œæ¸²æŸ“çš„ æµè§ˆå™¨ä¸»è¦å†…æ ¸ä¸ºwebkitç‰ˆå’ŒGecko å¤§è‡´æµç¨‹æµè§ˆå™¨é¦–æ¬¡ç»˜åˆ¶ 1.æ¸²æŸ“å¼•æ“ä»ç½‘ç»œå±‚è·å–æ–‡æ¡£å†…å®¹ 2.DOMéƒ¨åˆ†æœ‰DOMè§£æå™¨ç”ŸæˆDOMæ ‘ï¼ˆDOM treeï¼‰ï¼Œæ ·å¼éƒ¨åˆ†ç”±æ ·å¼è§£æå™¨ç”Ÿæˆæ ·å¼è§„åˆ™ï¼ˆstyle rulesï¼‰ 2.ä¸¤è€…é€šè¿‡é™„åŠ ï¼ˆattachmentï¼‰ç”Ÿæˆæ¸²æŸ“æ ‘ï¼ˆrender treeï¼‰ 3.è¯¥æ¸²æŸ“æ ‘è¿›è¡Œå¸ƒå±€(layout),æ·»åŠ åæ ‡ä½ç½®ä¿¡æ¯ 4.æœ€åç»è¿‡ç»˜åˆ¶ï¼ˆpaintingï¼‰ç»ç”±æ¸²æŸ“å¼•æ“ç»è¡Œç»˜åˆ¶ æµè§ˆå™¨è¿›è¡ŒäºŒæ¬¡ç»˜åˆ¶ å‘ç”Ÿé‡ç»˜ï¼ˆrepaintï¼‰å›æµ/é‡æ’ï¼ˆreflowï¼‰ é‡ç»˜å¯¹åº”çš„æ˜¯paintingé˜¶æ®µï¼Œä¹Ÿå°±æ˜¯æ”¹å˜äº†å…ƒç´ çš„æ ·å¼ï¼Œå¹¶æœªæ”¹å˜å…ƒç´ çš„ä½ç½®ï¼Œå¦‚background,color,visibleç­‰ï¼Œå¯¹å…¶ä»–å…ƒç´ æ²¡æœ‰ä»€ä¹ˆå½±å“ å›æµå¯¹åº”çš„æ˜¯layouté˜¶æ®µï¼Œä¹Ÿå°±æ˜¯å…ƒç´ çš„ä½ç½®å‘ç”Ÿäº†æ”¹å˜ï¼Œéœ€è¦æµè§ˆå™¨æ ¹æ®å½“å‰çª—å£çš„å¤§å°é‡æ–°è®¡ç®—å„ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œè¿›è¡Œå®šä½åï¼Œåœ¨ç»˜åˆ¶ï¼Œå¦‚æœæµè§ˆå™¨è‡ªèº«çª—å£å¤§å°ä¹Ÿå‘ç”Ÿäº†æ”¹å˜ï¼Œé‚£ä¹ˆä¹Ÿå°±ä¼šåº”ç”¨äºreflow,å…ƒç´ çš„ä½ç½®æ˜¯æ ¹æ®å½“å‰çš„çª—å£å¤§å°è¿›è¡Œæ”¹å˜çš„ æŒ‰ç…§æµç¨‹æ¥è®²ï¼Œreflow -&gt; repaintï¼Œæ‰€ä»¥å‘ç”Ÿreflowæ—¶ï¼Œä¸€å®šä¼šç»å†repaint, å‘ç”Ÿrepaintæ—¶ï¼Œä¸ä¼šè§¦å‘reflow å¦‚ä½•é¿å…DOMå›æµ é¿å…æ“ä½œDOMï¼Œå°±æ˜¯æœ€å¥½çš„é¿å…DOMå›æµçš„æ–¹å¼ï¼Œä½¿ç”¨ç°ä»£æ¡†æ¶ï¼ŒåŸºäºvirtualDOMä»¥åŠDOMDiffèƒ½å¾ˆå¥½çš„è§£å†³é—®é¢˜ï¼Œæ‰€ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¡†æ¶æ˜¯è¾ƒå¥½çš„ä¸€ç§é€‰æ‹©ï¼Œè¿™é‡Œå±•ç¤ºçš„æ˜¯æ‰‹åŠ¨æ“ä½œDOMæ—¶çš„ä¸€äº›ä¼˜åŒ–å»ºè®® åˆ†ç¦»è¯»å†™æ“ä½œ è¯»æ“ä½œï¼Œæ”¾åœ¨ä¸€èµ·ï¼Œå†™æ“ä½œæ”¾åœ¨ä¸€èµ·ï¼Œç°ä»£æµè§ˆå™¨ä¼šåšéƒ¨åˆ†ä¼˜åŒ–ï¼Œä¼šå¯¹è¿ç»­çš„å†™æ“ä½œè¿›è¡Œç¼“å­˜ï¼Œä¸€æ¬¡å¤„ç† ç¼“å­˜å¸ƒå±€ä¿¡æ¯ 12345678910// çœ‹ä¼¼ä¸€æ¬¡å›æµï¼Œå…¶å®ä¸­é—´ç©¿æ’äº†è¯»å†™ï¼Œè¾ƒå½±å“æ€§èƒ½element.style.width = element.clientWidth + 10 + 'px'element.style.height = element.clientHeight + 10 + 'px'// ç¼“å­˜å¸ƒå±€ä¿¡æ¯const widht = element.clientWidthconst height = element.clientHeightelement.style.width = width + 10 + 'px'element.style.height = height + 10 + 'px' æ‰¹é‡æ–‡æ¡£ä¿®æ”¹ ä½¿ç”¨fragment 12345678let fragment = document.createDocumentFragment()for (let i = 0; i &lt; 5; i++) &#123; const newLi = document.createElement('li') newLi.innerText = i fragment.appendChild(newLi)&#125;element.appendChild(fragment)fragment = null // æ‰‹åŠ¨é‡Šæ”¾ ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥ åŸºäºæ¨¡æ¿å­—ç¬¦ä¸²çš„æ–¹å¼ 12345let liContent = ''for (let i = 0; i &lt; 5; i++) &#123; liContent += `&lt;li&gt;$&#123;i&#125;&lt;/li&gt;`&#125;element.innerHtml = liContent åŠ¨ç”»æ•ˆæœåº”è¯¥å°½å¯èƒ½çš„è„±ç¦»æ–‡æ¡£æµï¼Œé¿å…å½±å“å…¶ä»–å…ƒç´  CSSä½¿ç”¨æœ‰ç¡¬ä»¶åŠ é€Ÿçš„æ•ˆæœï¼Œåº•å±‚åšäº†é¿å…å›æµæ“ä½œ 1element.style.transform = 'translateX(200px)' å°½å¯èƒ½é¿å…ä½¿ç”¨tableå¸ƒå±€ æ–‡æ¡£çš„ç‰¹æ€§æ˜¯æµå¼å¸ƒå±€ï¼Œæ‰€ä»¥ä½¿ç”¨tableå¸ƒå±€ï¼Œä¼šè¿›è¡Œå¤šæ¬¡å›æµæ“ä½œ æ¸²æŸ“å…³é”®è·¯åŠ²cssç”±äºæ ·å¼æœ‰å±‚å çš„å±æ€§ï¼Œæ‰€ä»¥å¿…é¡»è¦ç­‰æ ·å¼å…¨éƒ¨åŠ è½½å®Œåå†è¿›è¡Œ,å¦åˆ™ä¼šè¿›è¡Œå¤šæ¬¡é‡å»ºCSSOM,ä¸€èˆ¬å»ºè®®å°†styleæ”¾åœ¨headéƒ¨åˆ†ï¼Œå»ºç«‹åœ¨ä¸‹æ–‡ä¸­çš„styleæ ‡ç­¾å®¹æ˜“ä¼šè¢«é˜»å¡ï¼Œä»è€Œé‡å»ºCSSOM htmlç”±äºæ–‡æ¡£æ˜¯ä»ä¸Šåˆ°ä¸‹æ„å»ºçš„ï¼Œä»è€Œå¯ä»¥ä¸€è¾¹æ¥å—ä¸€è¾¹å±•ç¤ºï¼Œæ‰€è°“çš„æµå¼ã€‚ jsjsä»£ç åœ¨æ‰§è¡Œæ—¶ï¼Œä¹Ÿæ˜¯ä»ä¸Šåˆ°ä¸‹æ‰§è¡Œçš„ï¼Œä½†æ˜¯ç”±äºå…¶åˆå¯ä»¥æ”¹å˜cssï¼Œä¹Ÿå¯ä»¥æ”¹å˜DOMç»“æ„ï¼Œæ‰€ä»¥jsæ‰§è¡Œçš„æ—¶å€™ï¼ŒCSSOM,DOMæ„å»ºéœ€æš‚åœ ä¸€èˆ¬æƒ…å†µæ„å»ºå¦‚æœåªæœ‰htmlä¸css,å³æ²¡æœ‰scriptä»£ç åµŒå…¥åˆ°htmlä¸­ï¼Œé‚£ä¹ˆä¼šä¸€è¾¹æ„å»ºCSSOMï¼Œä¸€è¾¹æ„å»ºDOMï¼Œå¾…ä¸¤è€…æœ€é•¿çš„ä¸€ä¸ªå®Œæˆæ—¶ï¼ˆä¸¤è€…å¯ä»¥åŒæ—¶æ„å»ºï¼‰,ç»„æˆrender-treeï¼Œç»è¿‡å®šä½ï¼Œç»˜åˆ¶å‘ˆç°åˆ°æµè§ˆå™¨ä¸Š å¦‚æœæœ‰html,css,js,é‚£ä¹ˆåœ¨æ‰§è¡Œåˆ°jsçš„æ—¶å€™ï¼Œå¿…é¡»è¦åœæ­¢css,å’Œhtmlçš„è§£æï¼Œåˆå› ä¸ºæ ·å¼å¿…é¡»ä¸€æ¬¡æ€§åŠ è½½å®Œæ¯•ï¼ˆå¦åˆ™å¯èƒ½è·å–çš„é”™è¯¯çš„CSSï¼‰ï¼Œæ‰€ä»¥æœ€ç»ˆçš„åŠ è½½é¡ºåºCSSOM -&gt; JS -&gt; HTML,æ‰€ä»¥å¦‚æœjsä»£ç å†™åœ¨htmlä¹‹å‰ï¼Œå°±æ— æ³•è·å–ä¹‹åçš„å†…å®¹ï¼Œå› ä¸ºä¹‹åçš„htmlè¿˜æœªæ‰§è¡Œåˆ°ã€‚ ä¼˜åŒ–æ¸²æŸ“å…³é”®è·¯å¾„ä¸‰ç§å› ç´ ä¼šäº’ç›¸åˆ¶çº¦ å…³é”®èµ„æºçš„æ•°é‡ å…³é”®è·¯å¾„çš„é•¿åº¦ å…³é”®å­—èŠ‚çš„æ•°é‡ å…³é”®èµ„æºæŒ‡çš„æ˜¯é‚£äº›é˜»å¡é¡µé¢é¦–æ¬¡æ¸²æŸ“çš„èµ„æºï¼Œå¦‚js,css,é˜»å¡å…³é”®æ¸²æŸ“ï¼Œæµè§ˆå™¨å¤„ç†æ¸²æŸ“çš„å·¥ä½œé‡è¶Šå°‘ï¼ŒCPUå ç”¨çš„å…¶ä»–èµ„æºä¹Ÿè¶Šå°‘ å…³é”®è·¯å¾„çš„é•¿åº¦æ˜¯æŒ‡å…³é”®è·¯å¾„çš„æ€»è€—æ—¶ï¼Œæ¯ä¸€æ­¥è€—æ—¶è¶Šé•¿å…¶æ€»ä½“è¢«é˜»å¡çš„æ—¶é—´å°±ä¼šè¶Šé•¿ï¼Œå…¶å—åˆ°ç½‘ç»œæƒ…å†µï¼Œå…³é”®èµ„æºæ•°é‡ï¼Œä»¥åŠå…³é”®å­—èŠ‚å¤§å°æœ‰å…³ã€‚ å…³é”®å­—èŠ‚æ•°é‡æ˜¯æŒ‡èµ„æºçš„å­—èŠ‚å¤§å°ï¼Œæµè§ˆå™¨ä¸‹è½½å­—èŠ‚è¶Šå°‘ï¼Œå…¶å¤„ç†é€Ÿåº¦å°±ä¼šè¶Šå¿«ã€‚ ç¼©å°DOM ç¼©å‡æ–‡ä»¶çš„å°ºå¯¸ï¼Œå»é™¤æ³¨é‡Šï¼Œå»é™¤æ— ç”¨çš„ä»£ç  ä½¿ç”¨gzipå‹ç¼© ä½¿ç”¨ç¼“å­˜ ä¼˜åŒ–CSSOM åªå°†é¦–å±èµ„æºæ”¾å…¥ï¼Œç”±äºcssä¼šé˜»å¡é¡µé¢ï¼Œåœ¨æš‚æ—¶ç”¨ä¸åˆ°çš„åœ°æ–¹å¯ä»¥è®¾ç½®ä¸ºé¢„åŠ è½½ï¼Œæˆ–è€…ä½¿ç”¨hackçš„æ–¹å¼åŠ è½½ 1&lt;link href="style.css" rel="stylesheet" media="print" onload="this.media='all'"&gt; å°†ä¸»è¦çš„é¦–å±æ¸²æŸ“æ”¾å…¥headä¸­ï¼Œå‡ç¼“ä¸‹è½½çš„æ—¶é—´ï¼Œå¯å‚è€ƒcritical css å°‘ä½¿ç”¨@importä»–ä¼šä½¿æ–‡ä»¶ä¸²è¡ŒåŠ è½½ ä¼˜åŒ–js jsæ–‡ä»¶ä¹Ÿè¦å‹ç¼©ï¼Œä½¿ç”¨tree-shakingåŠŸèƒ½è¿›è¡Œä¼˜åŒ– ä½¿ç”¨å¼‚æ­¥åŠ è½½js,&lt;script async src=&quot;...&quot;&gt;&lt;/script&gt;]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[css-åŸºç¡€-é€‰æ‹©å™¨]]></title>
    <url>%2F2020%2F03%2F07%2Fcss-%E5%9F%BA%E7%A1%80-%E9%80%89%E6%8B%A9%E5%99%A8%2F</url>
    <content type="text"><![CDATA[html,csså†å²åœ¨ 1990 å¹´ï¼ŒTim Berners-Lee å‘æ˜ HTML æ—¶ï¼Œä¸»è¦æ˜¯ä¸ºäº†è§„èŒƒç§‘ç ”æ–‡æ¡£çš„æ ¼å¼ã€‚è¿™æ—¶ HTML æ˜¯ä¸€ä¸ªç®€å•çš„æ ‡è®°è¯­è¨€ï¼Œä¸ºæ–‡æ¡£èµ‹äºˆäº†åŸºæœ¬çš„ç»“æ„å’Œæ„ä¹‰ï¼ŒåŒ…æ‹¬å¦‚æ ‡é¢˜ã€åˆ—è¡¨ã€å®šä¹‰ç­‰æ ‡ç­¾ã€‚åæ¥ä¸ºäº†å±•ç¤ºæ›´å¤šçš„æ•ˆæœï¼Œä»¥åŠå¯¹éƒ¨åˆ†æ ‡ç­¾çš„æ»¥ç”¨ï¼Œæ¯”å¦‚tableæ ‡ç­¾è¢«ç”¨æ¥å¸ƒå±€ç­‰ï¼Œæ ·å¼å’Œç»“æ„é€ç»è¡Œäº†æŠ½ç¦»ã€‚ csså†å² css1åœ¨1996å¹´æˆä¸ºæ ‡å‡† css2åœ¨1998å¹´æˆä¸ºæ ‡å‡† css3åœ¨2002å°±è¢«æä¸Šè®®æ¡ˆï¼Œå¹¶ä¸åŒçš„æ¨¡å—è¢«æä¸Šä¸åŒçš„ææ¡ˆï¼Œä¸åŒæ¨¡å—å•ç‹¬æ§åˆ¶ï¼Œä»level1å¼€å§‹ï¼Œå¦‚æœæ˜¯ä¹‹å‰å·²ç»æœ‰çš„å†…å®¹ï¼Œåˆ™é¢˜ä¸ºlevel3å¹¶ç»§ç»­å‘å±• htmlå†å²htmlç»è¿‡4.01ç‰ˆæœ¬åï¼Œè¡ç”Ÿå‡ºäº†xhtml1.0,ç”±äºå…¶è¿‡äºä¸¥æ ¼,æœ€ç»ˆæ— æ³•è½åœ°ï¼Œæœ€ç»ˆè¯ç”Ÿå‡ºäº†html5. cssçš„æ¸è¿›å¢å¼ºä¸å‘åå…¼å®¹æ¸è¿›å¢å¼ºé¦–å…ˆä¸ºæœ€å°çš„ï¼Œå…¬å…±éƒ¨åˆ†çš„æµè§ˆå™¨å‡†å¤‡èƒ½ç”¨çš„å†…å®¹ï¼Œå…¶æ¬¡åœ¨ä¸ºæ”¯æŒæ–°ç‰¹æ€§çš„æµè§ˆå™¨å¢åŠ å†…å®¹ å‘åå…¼å®¹åœ¨ä½¿ç”¨æ–°ç‰¹æ€§æ—¶ï¼Œæ–°å±æ€§åœ¨å‰ï¼Œåå±æ€§åœ¨åï¼Œå³ä½¿æ–°ç‰¹æ€§ç”¨ä¸äº†ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ—§çš„å…¼å®¹çš„ç‰¹æ€§ã€‚ å‚å•†å‰ç¼€ -webkit-é€‚ç”¨äºwebkitå†…æ ¸æµè§ˆå™¨ safari/chrome/opera -moz-é€‚ç”¨äºMozillaå†…æ ¸ Firefox -ms-é€‚ç”¨äºå¾®è½¯çš„IE å…¶ä¸­å¯ä½¿ç”¨autofixï¼Œæˆ–è€…webpackä¸­çš„postcss/postcss-preset-envæ¥è‡ªåŠ¨å¢åŠ å‰ç¼€ä¿¡æ¯ã€‚ è¯­ä¹‰åŒ–æ ‡ç­¾å¤šä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œèƒ½å¤Ÿä¾¿äºæµè§ˆå™¨è¯†åˆ«ï¼Œæˆ–æ˜¯å±å¹•é˜…è¯»å™¨ï¼Œæˆ–æ˜¯å•çº¯çš„å¤„ç†æ–‡æœ¬çš„æµè§ˆå™¨ï¼Œæˆ–è€…ç›²æ–‡ç‚¹è§¦è®¾å¤‡ï¼Œæ›´åˆ©äºæœç´¢å¼•æ“è¿›è¡Œæœç´¢ cssé€‰æ‹©å™¨ç§ç±»ç‹¬ç«‹é€‰æ‹©å™¨è‡ªå·±å•ç‹¬å°±å¯ä½¿ç”¨ æ ‡ç­¾é€‰æ‹©å™¨åŒ¹é…ç»™å®šå…ƒç´ åç§°çš„å…ƒç´  1input &#123;&#125; ç±»é€‰æ‹©å™¨é€‰ä¸­classå±æ€§ä¸­åŒ…å«æŒ‡å®šçš„å±æ€§å€¼ï¼Œå¿…é¡»æ˜¯å®Œæ•´çš„å±æ€§ 1.intro &#123;&#125; idé€‰æ‹©å™¨ï¼Œä¸ä¹‹å”¯ä¸€çš„ä¸€ä¸ªid,é¡µé¢ä¸­å”¯ä¸€å‡ºç°çš„å±æ€§ 1#idname &#123;&#125; é€šç”¨é€‰æ‹©å™¨é€‰æ‹©å™¨é€‰æ‹©æ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œä¹Ÿç”¨.intro &gt; *è¡¨ç¤º.introçš„æ‰€æœ‰å­å…ƒç´  1* &#123;&#125; å±æ€§é€‰æ‹©å™¨æ ¹æ®å±æ€§æ¥åŒ¹é…ï¼Œ å±æ€§å€¼å¼€å¤´img[src^=&quot;http://&quot;] å±æ€§å€¼åŒ…å«img[src*=&quot;http://&quot;] å±æ€§å€¼ç»“æŸimg[src$=&quot;http://&quot;] 12[type] &#123;&#125;[class='intro'] ä¼ªå…ƒç´ é€‰æ‹©é¡µé¢çš„ç‰¹æ®ŠåŒºåŸŸï¼Œä¸æ˜¯é€šè¿‡å…ƒç´ æ¥è¡¨ç¤ºçš„ æ’ç‰ˆç±»ï¼Œæš‚æ—¶åº”ç”¨äºinlineä¸­ é¦–è¡Œ::first-line, é¦–å­—æ¯::first-letter, å­˜åœ¨äºé¡µé¢DOMä¸­,contentä¸ä¸ºnoneæ—¶ä¼šæ˜¾ç¤º ä¹‹å‰::before ä¹‹å::after å…¶ä»– è¾“å…¥æ¡†å ä½å…ƒç´ ::placeholder 1::after &#123;&#125; ä¼ªç±»é€‰æ‹©é¡µé¢ä¸­å…ƒç´ çš„ç‰¹æ®ŠçŠ¶æ€ 1:hover &#123;&#125; ç”±äºåœ¨ç§»åŠ¨è®¾å¤‡ä¸­ï¼Œä¸ä¸€å®šæœ‰çœŸçš„æ‚¬æµ®çŠ¶æ€ï¼Œæ‰€ä»¥è¦æ…é‡ä½¿ç”¨hover è¶…é“¾æ¥ æ™®é€šé“¾æ¥ï¼ˆæœªç‚¹å‡»è¿‡ï¼‰a:link è®¿é—®è¿‡çš„é“¾æ¥ a:visited æ‚¬åœ/é”®ç›˜tabé¢„é€‰æ—¶ a:hover æ´»åŠ¨çŠ¶æ€ï¼Œé¼ æ ‡ç‚¹å‡»æ—¶ a:active ç›®æ ‡ä¸åé€‰æµè§ˆå™¨çš„ç›®æ ‡åŒ¹é…id, è¯¥å…ƒç´ è¢«åŒ¹é… :targetæµè§ˆå™¨åœ°å€ä¸º: http://example.com/blog/1/#comment-3 å…ƒç´ idä¸ºhashå€¼ &lt;article class=&quot;comment&quot; id=&quot;comment-3&quot;&gt;&lt;/article&gt; 1.comment:target &#123;&#125; åé€‰ :not()é€‰ä¸­comment,ä½†æ˜¯ä¸èƒ½æ˜¯è¿æ³•è¯„è®º(.illegal) 1.comment:not(.illegal) &#123;&#125; ç»“æ„åŒ–ä¼ªç±»å…¶ä¸­é»˜è®¤ä»1å¼€å§‹ï¼Œå¦‚æœè®¾ç½®äº†nï¼Œåˆ™nçš„å–å€¼ä»0å¼€å§‹é€’å¢ åªé€‰æ‹©å…ƒç´  :nth-child() æ­£å‘é€‰æ‹© :nth-last-child() ä»åå¼€å§‹è®¡æ•°é€‰æ‹© :first-child() :last-child() é€‰æ‹©åŒç­‰ç±»å‹çš„,è¿‡æ»¤æ‰ä¸ç¬¦åˆç±»å‹çš„ :nth-of-type() æ­£å‘é€‰æ‹© :nth-last-of-type() ä»åå¼€å§‹è®¡æ•°é€‰æ‹© è¡¨å•ä¼ªç±» :required,:optional å¿…å¡«å’Œé€‰å¡«é¡¹ :disabled,:read-only, :read-write ç¦ç”¨ï¼Œåªè¯»ï¼Œè¯»å†™ :vaild,:invaild, æœ‰æ•ˆï¼Œæ— æ•ˆ ç»„åˆé€‰æ‹©å™¨é€šè¿‡å•ç‹¬é€‰æ‹©å™¨çš„ç»„åˆï¼Œå…¶ä¸­s1,s2,s3è¡¨ç¤ºç‹¬ç«‹é€‰æ‹©å™¨ ç”±äºæµè§ˆå™¨æ¸²æŸ“é¡ºåºï¼Œéƒ½æ˜¯å¾€åè¿›è¡Œé€‰æ‹©ï¼Œå¦‚å­˜åœ¨å‘å‰çš„é€‰æ‹©å™¨ï¼Œé‚£ä¹ˆæµè§ˆå™¨ä¼šå¯¹ä¸€ä¸ªæ–‡æ¡£è¿›è¡Œå¤šè½®æ¸²æŸ“ åˆ†ç»„é€‰æ‹©å™¨ç”¨é€—å·æœ€ä¸ºåˆ†éš”ï¼Œå¤šä¸ªé€‰æ‹©å™¨åŒæ—¶åº”ç”¨ä¸€ç§æ ·å¼ 1s1, s2, s3 &#123;&#125; åä»£é€‰æ‹©å™¨ç”¨ç©ºæ ¼ä½œä¸ºåˆ†å‰²ï¼Œé€‰æ‹©å…¶åä»£ 1s1 s2 s3 &#123;&#125; å­é€‰æ‹©å™¨ä½¿ç”¨å¤§äºå·ä½œä¸ºåˆ†éš”ï¼Œåªä¼šé€‰æ‹©å™¨å­å…ƒç´ ï¼Œä¸ä¼šè·¨è¶Šå…ƒç´ å»é€‰ 1s1 &gt; s2 &#123;&#125; ç›¸é‚»å…ƒç´ é€‰æ‹©å™¨é€‰æ‹©å…¶åçš„ç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœç¬¦åˆåˆ™é€‰å®šï¼Œä¸ç¬¦åˆåˆ™ä¸é€‰å®šï¼Œä¸ä¼šè·³è·ƒæŸ¥äºå…¶æ‰€æœ‰çš„å…„å¼Ÿå…ƒç´ ï¼Œä¹Ÿä¸ä¼šæŸ¥å…¶å­å…ƒç´  12// æŸ¥æ‰¾s1ç´§è·Ÿçš„å…„å¼Ÿå…ƒç´ s2, å¦‚æœs1åçš„ç´§é‚»å…„å¼Ÿå…ƒç´ ä¸æ˜¯s2ï¼Œåˆ™ä¸äºˆä»¥é€‰å®šs1 + s2 &#123;&#125; ä¸€èˆ¬åŒç±»é€‰æ‹©å™¨é€‰æ‹©å…¶åçš„ç›¸é‚»çš„å…ƒç´ ï¼Œä¼šè·³è·ƒæŸ¥å…¶æ‰€æœ‰çš„å…„å¼Ÿå…ƒç´  12// æŸ¥æ‰¾s1ä»¥åçš„æ‰€æœ‰å…„å¼Ÿå…ƒç´ s2, ç´§è·Ÿå…ƒç´ æœ‰å¤šå°‘é€‰æ‹©å¤šå°‘s1 ~ s2 &#123;&#125; cssé€‰æ‹©å™¨çš„ç‰¹æ®Šæ€§a, b, c, d cssæ˜¯é‡‡ç”¨4ä¸ªçº§åˆ«åˆ¤å®šè¯¥æ ·å¼çš„ä¼˜å…ˆçº§ï¼ˆä»å·¦å¾€å³æ¯”è¾ƒé¡ºåºï¼‰ï¼Œæ¯ä¸ªçº§åˆ«åªä¼šåœ¨å…¶ä½ç½®ä¸Šå¢å‡ï¼Œå¹¶ä¸ä¼šè¿›ä½ï¼Œç›¸åŒä¼˜å…ˆçº§ï¼Œä»ä¸Šåˆ°ä¸‹çš„é¡ºåºæ’åˆ— a=1,aæ˜¯è¡Œå†…æ ·å¼ï¼Œ b=IDé€‰æ‹©å™¨çš„ä¸ªæ•° c=ç±»é€‰æ‹©å™¨çš„ä¸ªæ•°å’Œä¼ªç±»é€‰æ‹©å™¨çš„ä¸ªæ•° d=ç±»å‹é€‰æ‹©å™¨å’Œä¼ªå…ƒç´ é€‰æ‹©å™¨çš„ä¸ªæ•° 123456&lt;div id="dv-1" class="box target current"&gt;&lt;/div&gt;div &#123;&#125; // 0.0.0.1div .box &#123;&#125; // 0.0.1.1.box.target.current // 0.0.3.0#dv-1 &#123;&#125; // 0.1.0.0 cssçš„ç»§æ‰¿æ‰€æœ‰çˆ¶å…ƒç´ çš„å±æ€§å‡ä¼šç»§æ‰¿ç»™å…¶å­å…ƒç´ ï¼Œè¯¥å…ƒç´ æœ‰è‡ªå·±çš„æ ·å¼ï¼Œåˆ™ä¼šè¦†ç›–ç»§æ‰¿æ ·å¼ï¼ˆé’ˆå¯¹åŒæ ·å¼è€Œè¨€ï¼‰ 12345678&lt;body&gt; &lt;h1&gt;css&lt;/h1&gt;&lt;/body&gt;body &#123; color: red; &#125;h1 &#123; color: blue; &#125;æœ€ç»ˆå†…å®¹ä¸ºblue h1æ”¶åˆ°bodyçš„æ ·å¼ç»§æ‰¿ä¸ºred, åˆå› ä¸ºh1è®¾ç½®äº†è‡ªå·±çš„é¢œè‰²ï¼Œæ‰€ä»¥ä¼šè¦†ç›–ç»§æ‰¿çš„red,ä¸ºblue 1234567&lt;body&gt; &lt;h1&gt;css&lt;/h1&gt;&lt;/body&gt;body &#123; font-size: 50px; &#125;æœ€ç»ˆh1çš„å­—å·ä¸ºæµè§ˆå™¨è‡ªå¸¦ï¼ˆå¹¶ébodyç»§æ‰¿çš„50ï¼‰ h1æ”¶åˆ°bodyçš„æ ·å¼ç»§æ‰¿ä¸º50px,å› ä¸ºæµè§ˆå™¨é»˜è®¤å¯¹æ ‡é¢˜æœ‰å­—å·è®¾ç½®ï¼Œæ‰€ä»¥è¦†ç›–ç»§æ‰¿çš„50px,ä¸ºä¹‹å‰å­—å·å¤§å° 1234567891011// ç‰¹åˆ—&lt;body&gt; &lt;h1&gt; hello&lt;em&gt;css&lt;/em&gt; &lt;/h1&gt;&lt;/body&gt;* &#123; color: red; &#125;h1 &#123; color: blue; &#125;æœ€ç»ˆhelloå‘ˆç°blueï¼Œcsså‘ˆç°red *ç­‰äºä¸ºæ¯ä¸ªå…ƒç´ éƒ½è®¾å®šäº†æ ·å¼ï¼Œè™½ç„¶h1çš„blueç»§æ‰¿ç»™äº†å†…éƒ¨çš„emï¼Œä½†æ˜¯ä¹‹å‰çš„*ä¸ºå…¶è®¾ç½®çš„æ ·å¼è¿›è¡Œäº†è¦†ç›–ï¼Œæ‰€ä»¥å‘ˆç°red]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é€ä½ ä¸ªæœˆäº®ï¼Œè®©ä½ å®‰ç„¶å…¥ç¡]]></title>
    <url>%2F2020%2F02%2F27%2F%E9%80%81%E4%BD%A0%E4%B8%AA%E6%9C%88%E4%BA%AE%EF%BC%8C%E8%AE%A9%E4%BD%A0%E5%AE%89%E7%84%B6%E5%85%A5%E7%9D%A1%2F</url>
    <content type="text"><![CDATA[å¤©ä¸Šæœ€äº®çš„æ˜Ÿï¼Œæ˜¯å¯æ˜æ˜Ÿï¼ŒåŸæ¥ä»–é‚£ä¹ˆäº®ã€‚]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨yumå®‰è£…nginxå¹¶é…ç½®httpsæœåŠ¡]]></title>
    <url>%2F2020%2F02%2F14%2F%E4%BD%BF%E7%94%A8yum%E5%AE%89%E8%A3%85nginx%E5%B9%B6%E9%85%8D%E7%BD%AEhttps%E6%9C%8D%E5%8A%A1%2F</url>
    <content type="text"><![CDATA[centos7 è¿è¡Œç¯å¢ƒä¸ºè…¾è®¯äº‘ ä½¿ç”¨yumå®‰è£…nginxæ·»åŠ nginxåˆ°yumæº1rpm -Uvh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm å®‰è£…nginx1yum install -y nginx å¯åŠ¨nginx12345# å¯åŠ¨nginxsystemctl start nginx# å¼€æœºè‡ªå¯systemctl enable nginx å®‰è£…certbotå®‰è£…epel å¢å¼ºæº1234yum -y install epel-releasewget -O /etc/yum.repos.d/epel-7.repo http://mirrors.aliyun.com/repo/epel-7.repo# åˆ·æ–°yumæºyum clean all &amp;&amp; yum makecache &amp;&amp; yum update å®‰è£…yum-utils123yum -y install yum-utilsyum-config-manager --enable rhui-REGION-rhel-server-extras rhui-REGION-rhel-server-optional å®‰è£…python2-certbot-nginx ä½¿ç”¨python2å¼€å‘ï¼Œå†nginx.confæ–‡ä»¶ä¸­ï¼Œå»æ‰ä¸­æ–‡å­—ç¬¦ 1yum install python2-certbot-nginx ä½¿ç”¨certbotå¼€å¯https å¦‚æœè‡ªå®šä¹‰makeç¼–è¯‘å®‰è£…nginxï¼Œè¦æ›´æ”¹ç›¸å…³è·¯å¾„ï¼Œæ·»åŠ è½¯è¿æ¥ å°†certboté…ç½®åˆ°nginx1certbot --nginx é…ç½®æ­¥éª¤ è¾“å…¥ä½ çš„é‚®ç®±å: xxx@xxx.com åŒä¸€åè®®: A å…è®¸é‚®ä»¶æ¨é€: Y é€‰æ‹©æ·»åŠ httpsé…ç½®åŸŸå: 1 2 è¾“å…¥ç›¸å…³æ•°å­—ä½¿ç”¨ç©ºæ ¼éš”å¼€ åŒæ—¶ä¿ç•™http,https: 1]]></content>
      <tags>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨now-cliéƒ¨ç½²å‰ç«¯é¡¹ç›®åˆ°zeitä¸Š]]></title>
    <url>%2F2020%2F02%2F08%2F%E4%BD%BF%E7%94%A8now-cli%E9%83%A8%E7%BD%B2%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E5%88%B0zeit%E4%B8%8A%2F</url>
    <content type="text"><![CDATA[ç”¨zeit( https://zeit.co/ )éƒ¨ç½²é¡¹ç›®ï¼Œç”¨æ¥åšæ¼”ç¤ºï¼Œåšdemoéƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ å®‰è£…now-cli12345# ä½¿ç”¨npmnpm i now -g # æˆ–è€…ä½¿ç”¨yarnyarn global add now ç™»å½•1now login éƒ¨ç½²é™æ€ç½‘ç«™æ ‡å‡†ç½‘ç«™çš„ç»“æ„ï¼Œå¦‚æœæ˜¯å•é¡µåº”ç”¨ï¼Œç”¨æ­¤æ–¹å¼è·¯ç”±ä¹‹åï¼Œæ‰‹åŠ¨åˆ·æ–°ä¼šå‡ºç°404çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨hashRouterè§£å†³ ç›®å½•ç»“æ„ï¼š 12345â”œâ”€cssâ”œâ”€imgâ””â”€jsâ”‚â”‚ index.html ä½¿ç”¨nowè¿›è¡Œéƒ¨ç½²,å¤„äºå½“å‰ç›®å½•ä¸­ 12345# ä¸€é”®éƒ¨ç½²now# é‡æ–°å‘½åé¡¹ç›®now --name foo éƒ¨ç½²å‰ç«¯é¡¹ç›®ç›´æ¥åœ¨é¡¹ç›®æ›´ç›®å½•ä¸­è¿›è¡Œéƒ¨ç½²å³å¯ï¼Œè‡ªåŠ¨build,è¿™ç§éƒ¨ç½²æ–¹å¼æœ‰ä¸å­˜åœ¨è·¯ç”±åˆ·æ–°é—®é¢˜ 12345# ä¸€é”®éƒ¨ç½²now# éƒ¨ç½²ç”Ÿäº§ç¯å¢ƒnow --prod å®˜æ–¹æ–‡æ¡£https://zeit.co/docs/now-cli#commands/now]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ­£åˆ™åŠ å¼º]]></title>
    <url>%2F2020%2F01%2F12%2F%E6%AD%A3%E5%88%99%E5%8A%A0%E5%BC%BA%2F</url>
    <content type="text"><![CDATA[æ–¹æ³•1234String.prototype.match // åŒ¹é…RegExp.prototype.test // æ˜¯å¦ç¬¦åˆRegExp.prototype.exec // æ‰§è¡Œï¼Œè¿›è¡Œæ•è· å­—é¢é‡ï¼Œæ„é€ å‡½æ•°åˆ›å»ºçš„åŒºåˆ«å­—é¢é‡åˆ›å»ºï¼Œå…ƒå­—ç¬¦ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼Œæ„é€ å‡½æ•°éœ€è¦ç‰¹æ®Šè½¬ä¹‰ï¼Œè½¬ä¹‰ç¬¦æ‰èƒ½ä½¿ç”¨12345// å­—é¢é‡æ–¹å¼åˆ›å»ºlet reg1 = /\d+/;// ç”±æ„é€ å‡½æ•°åˆ›å»º,æ³¨æ„ç”±äºä½¿ç”¨å­—ç¬¦ä¸²çš„æ–¹å¼ï¼Œè¦æ³¨æ„è½¬ä¹‰çš„é—®é¢˜ï¼Œä¸€èˆ¬å°†\å˜ä¸º\\å³å¯let reg2 = new RegExp('\\d+'); å¦‚æœè¦æ‹¼æ¥æ­£åˆ™ï¼Œåªèƒ½ä½¿ç”¨æ„é€ å‡½æ•°çš„æ–¹å¼123456789let name = 'zhn'let reg = /^@'+type+'@$/reg.test('@zhn@') // falsereg.test("@'''''''typeeeee'@") // truelet name = 'zhn'let reg = new RegExp('^@' + name +'@$')reg.test('@zhn@') // truereg.test("@'''''''typeeeee'@") // false æ­£åˆ™åŒ¹é…ä¿®é¥°ç¬¦i =&gt; ignoreCase å¿½ç•¥å¤§å°å†™m =&gt; multiline å¤šæ¬¡åŒ¹é…g =&gt; global å…¨å±€åŒ¹é… å¸¸ç”¨å…ƒå­—ç¬¦é‡è¯å…ƒå­—ç¬¦1* + ? &#123;m&#125; &#123;m,&#125; &#123;m,n&#125; ç‰¹æ®Šå…ƒå­—ç¬¦12\ . ^ $ \n \w \s \b \t a|b|c [abc] [a-z] [^n34]() (?:) (?=) (?!) æ™®é€šå…ƒå­—ç¬¦1/RegExp/ -&gt; åŒ¹é… &apos;RegExp&apos; æ‹¬å·ç›¸å…³() è¡¨ç¤ºåˆ†ç»„æ”¹å˜ä¼˜å…ˆçº§ï¼Œ 1234567891011121314151617// è¡¨ç¤º18|29,ä¼šå‡ºç°è¾ƒä¸ºæ··ä¹±çš„ç»“æœlet reg = /^18|29$/reg.test('18') // truereg.test('29') // truereg.test('189') // truereg.test('129') // truereg.test('1829') // truereg.test('829') // true// ç»“åˆå°æ‹¬å·å®Œæˆéœ€æ±‚let reg = /^(18|29)$/reg.test('18') // truereg.test('29') // truereg.test('189') // falsereg.test('129') // falsereg.test('1829') // falsereg.test('829') // false [] è¡¨ç¤ºæœ¬èº«å«ä¹‰ä»…è¡¨ç¤ºä¸€ä¸ªå­—æ¯ä¸­æ‹¬å·å†…ä»…è¡¨ç¤ºä¸€ä½å­—æ¯ï¼ˆæ‰€æœ‰å‡ºç°çš„å¯èƒ½æ€§ï¼Œä¹Ÿåªèƒ½ä»£è¡¨å‡ºç°çš„ä¸€æ¬¡ï¼‰ 1234567891011reg = /^[@+]$/ // åŒ…å«åœ¨å†…reg.test('+') // truereg.test('@@') // false // 2ä¸ªå­—æ¯reg.test('@+') // falsereg.test('ab') // false // 2ä¸ªå­—æ¯reg = /^[^@+]$/ // ä¸èƒ½å‡ºç°åœ¨å†…reg.test('+') // falsereg.test('@@') // false // 2ä¸ªå­—æ¯reg.test('@+') // falsereg.test('a') // false ç‰¹æ®Šå…ƒå­—ç¬¦ï¼ˆåŠå…ƒå­—ç¬¦åœ¨ä¸­æ‹¬å·å†…ï¼‰ æ³¨æ„ï¼Œ\æ˜¯è¡¨ç¤ºè½¬ä¹‰,[\d] è¡¨ç¤ºçš„ä¸º\d, å¦‚æœæ˜¯[\\d],åˆ™è¡¨ç¤º\æˆ–è€…dæ‰€ä»¥åœ¨å­—ç¬¦ä¸²ä¸­ï¼Œä¹Ÿä¸è¦å¿˜è®°è½¬ä¹‰çš„å­˜åœ¨ 123456789101112131415reg = /^[\d]$/reg.test('\\') // falsereg.test('d') // falsereg.test('6') // truereg = /^[\\d]$/reg.test('\\') // truereg.test('d') // truereg.test('6') // falsereg = /^[\w]$/ // \w å³æ•°å­—å­—æ¯ä¸‹åˆ’çº¿reg = /^[\\w]$/ // åªè¡¨ç¤º \ å’Œ w, (å¦‚æœè¦ç”¨å­—ç¬¦ä¸²åšæ£€æµ‹ï¼ŒåŒæ ·éœ€è¦å¯¹å­—ç¬¦ä¸²\è½¬ä¹‰ '\\')reg = /^[10-29]$/ // è¡¨ç¤º1 | 0-2 | 9 æ­£åˆ™çš„æ‡’æƒ°æ€§åœ¨æ­£åˆ™åŒ¹é…ä¸­ï¼Œä¼šåœ¨å…¶å®ä¾‹å¯¹è±¡ä¸Šçš„lastIndexè®°å½•ä¸Šä¸€æ¬¡åŒ¹é…çš„ä½ç½® 1234567let reg = /\d+/greg.exec('2020-01-08') // 0console.log(reg.lastIndex) // 4reg.exec('2020-01-08') // 5console.log(reg.lastIndex) // 7reg.exec('2020-01-08') // 8console.log(reg.lastIndex) // 10 æ­£åˆ™æ–¹æ³•execä¸­ï¼Œä¼šå±•ç°å‡ºå…¶æ‡’æƒ°æ€§ï¼Œä¸»è¦å–å†³äºæ˜¯å¦åŠ g,ä¹Ÿå³regExp.globalæ˜¯å¦ä¸ºtrue,åœ¨ä¸ºtrueçš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šç»§ç»­åŒ¹é… è¿™é‡Œçš„æ‡’æƒ°æ˜¯æŒ‡æ­£åˆ™æ˜¯å¦ä¼šç»§ç»­åœ¨è®°å½•åŒ¹é…ï¼Œ/\d+/ä¸/\d+/gåœ¨reg.execä¸­éƒ½ä¼šåªåŒ¹é…ä¸€æ¬¡ï¼Œåªæ˜¯gæ¨¡å¼å¯ä»¥ç»§ç»­æ‰§è¡Œreg.execã€‚è€Œstr.matchä¸­ï¼Œgå¯ä»¥ä¸€æ¬¡æ€§å…¨åŒ¹é…å‡ºæ¥ï¼Œå³åŒ¹é…æˆä¹Ÿç»™æ•°ç»„[&#39;2020&#39;,&#39;01&#39;,&#39;06&#39;] 12345678910111213141516let reg = /\d+/greg.exec('2020-01-08') // 0console.log(reg.lastIndex) // 4reg.exec('2020-01-08') // 5console.log(reg.lastIndex) // 7reg.exec('2020-01-08') // 8console.log(reg.lastIndex) // 10let reg = /\d+/reg.exec('2020-01-08') // 0console.log(reg.lastIndex) // 0reg.exec('2020-01-08') // 0console.log(reg.lastIndex) // 0reg.exec('2020-01-08') // 0console.log(reg.lastIndex) // 0 åˆ©ç”¨æƒ°æ€§æ±‚å€¼ï¼Œå¤„ç†execall,æ ¸å¿ƒ12345678let reg = /\d+/glet str = '2019-01-08'let res = reg.exec(str)while(res) &#123; console.log(res) // ä¾æ­¤è¾“å‡º2019ï¼Œ01ï¼Œ08 res = reg.exec(str)&#125; ä½¿ç”¨äº†æƒ°æ€§æ±‚å€¼åï¼ŒregExpå‡ä¼šè®°å½•lastIndex 12345let res = reg.exec(str)while(reg.test(str) === true) &#123; // æ­¤æ—¶ä¼šåšä¸€æ¬¡åŒ¹é… ç§»åŠ¨ä¸€æ¬¡lastIndex console.log(res) res = reg.exec(str) // æ­¤æ—¶ä¼šåšä¸€æ¬¡åŒ¹é… ç§»åŠ¨ä¸€æ¬¡lastIndex&#125; æ­£åˆ™è´ªå©ªæ€§æ‡’æƒ°æ€§ï¼š æ¯æ¬¡æ•è·æ—¶ä»…æ•è·ç¬¬ä¸€ä¸ªç¬¦åˆçš„åŒ¹é…ä¸² è´ªå©ªæ€§ï¼š æ»¡è¶³æ¡ä»¶å°±ä¼šä¸€ç›´åŒ¹é… 12345678let reg = /\d+/glet str = '2020-01-10'str.match(reg) // ["2020", "01", "10"]let reg = /\d+?/glet str = '2020-01-10'str.match(reg) // ["2", "0", "2", "0", "0", "1", "1", "0"] ?çš„äº”å¤§ä½œç”¨ /\d?/ è¡¨ç¤º0æ¬¡æˆ–1æ¬¡ /\d+?/ è¡¨ç¤ºæœ€ç»ˆæ•è·ä¸€ä¸ª /(?:)/ åªåˆ†ç»„ä¸æ•è· /(?=)/ æ­£å‘åŒ¹é…é¢„æŸ¥ /(?!)/ æ­£å‘ä¸åŒ¹é…é¢„æŸ¥ /(?&lt;=)/ è´Ÿå‘åŒ¹é…é¢„æŸ¥ /(?&lt;!)/ è´Ÿå‘ä¸åŒ¹é…é¢„æŸ¥ æ­£åˆ™æ›¿æ¢ï¼ŒreplaceåŒ¹é…å­—ç¬¦ä¸²æ›¿æ¢çš„é—®é¢˜æ¯æ¬¡åŒ¹é…ä¸€ä¸ª 123let str = 'zhn and zhn'str = str.replace('zhn', 'me') // 'me an zhn'str = str.replace('zhn', 'me') // 'me an zhn' å¯èƒ½é€ æˆé‡å¤åŒ¹é… 123let str = 'zhn and zhn'str = str.replace('zhn', 'goodzhn') // 'goodzhn and zhn'str = str.replace('zhn', 'goodzhn') // 'goodgoodzhn and zhn' ä½¿ç”¨æ­£åˆ™åŒ¹é…è¾ƒä¼˜ï¼ŒString.prototype.replace(reg, [String] | [Fn]),ä¸æ­£åˆ™æ­é…æ˜¯æ¯”è¾ƒå¥½çš„ è®°å¾—å…¨å±€åŒ¹é… g 12345let str = 'zhn and zhn'str = str.replace(/zhn/g, 'me') // 'me an me'let str = 'zhn and zhn'str = str.replace(/zhn/g, 'goodzhn') // 'goodzhn and goodzhn' å•è¯é¦–å­—æ¯å¤§å†™è½¬æ¢ 123456789let str = 'good good study, become a good man.'let reg = /\b([a-zA-Z])[a-zA-Z]+\b/gstr = str.replace(reg, (...args) =&gt; &#123; let [content, $1] = args // é¦–å­—æ¯å¤§å†™ï¼Œå¹¶ä¸”é™¤å»é¦–å­—æ¯çš„å†…å®¹ return `$&#123;$1.toUpperCase()&#125;$&#123;content.substr(1)&#125;`&#125;)console.log(str) // Good Good Study, Become a Good Man. æ­£å‘è´Ÿå‘é¢„æŸ¥æ­£åˆ™è¡¨è¾¾å¼ä¸­åŒ¹é…å‡ºï¼šå½¢å‚ï¼Œå‡½æ•°ä½“ 12const bodyReg = /(?&gt;=\&#123;)(.|\n)+(?=\&#125;)/mconst paramsReg = /(?&gt;=\().+(?=\)\s+\&#123;)/]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[End.2019]]></title>
    <url>%2F2019%2F12%2F31%2FEnd-2019%2F</url>
    <content type="text"><![CDATA[åœ¨2019å¹´çš„å°¾å·´ï¼Œç»™è‡ªå·±æ€»ç»“ä¸€ä¸‹ï¼Œäººå˜›ï¼Œæ¯•ç«Ÿè¿˜æ˜¯è¦å¤šåæ€è‡ªå·±æ‰å¯¹ã€‚ 2019å¹´ï¼Œä¸å¤§ä¸å°çš„å¹´çºªäº†ï¼Œç°åœ¨è¿˜æ˜¯21å²ï¼Œé©¬ä¸Šå°±22å²äº†ï¼Œå†æ¥å†å‰ï¼Œæƒ³è¦çš„ï¼Œé è‡ªå·±çš„åŒæ‰‹éƒ½èƒ½å¾—åˆ°ã€‚ å­¦ä¹ å¤§å­¦çš„è¯¾ç¨‹ä¹Ÿéƒ½ä¸Šå®Œäº†ï¼Œæ—¶é—´çœŸå¿«ï¼Œä»Šå¹´ä¸€ä¸‹å­å…¨ä¸Šå®Œäº†ï¼Œä¸å‡ºæ„å¤–ï¼Œä¸‹å­¦æœŸå°±å®ä¹ ï¼Œæ¯•ä¸šè®¾è®¡ï¼Œè‡ªå·±å°±å¤§å­¦æ¯•ä¸šäº†ï¼Œæ›¾ç»æƒ³åŠªåŠ›ä¿®å®Œè¯¾ç¨‹ï¼Œç„¶è€Œç°åœ¨ï¼Œçªç„¶ä¸€ä¸‹ï¼Œå°±éƒ½æ²¡äº†ï¼Œå¤§å­¦ç”Ÿæ´»è¿˜ç®—æ˜¯å……å®å§ï¼Œè‡ªå·±ä¹Ÿå­¦ä¹ äº†å‰ç«¯ï¼Œè¿˜è›®ä¸é”™ï¼Œç»§ç»­åŠªåŠ›å§ã€‚ å·¥ä½œå»å…¬äº¤äº‘å®ä¹ äº†ï¼Œä¹Ÿç®—æ˜¯äººç”Ÿç¬¬ä¸€å®¶å…¬å¸å§ï¼Œå°±å«ä»–è€ä¸œå®¶æŠŠï¼Œä¹Ÿå¾ˆæ„Ÿè°¢Marcoå¸¦æˆ‘ä¸Šé“ã€‚å…¶å®è¿˜è›®å¿«çš„ï¼Œè§‰å¾—è‡ªå·±è¿˜åƒä¸ªå­©å­ï¼Œçªç„¶å°±è¦å¼€å§‹å·¥ä½œäº†ï¼Œå†²å§ï¼ŒåŠ æ²¹ã€‚ ç”Ÿæ´»ç”Ÿæ´»ä¸Šï¼Œç®—æ˜¯ä¸å¹¸ï¼Œä¹Ÿç®—æ˜¯ä¸‡å¹¸ï¼Œæ€ä¹ˆè¯´å‘¢ï¼Œæœ‰å¥½æœ‰åï¼Œåçš„å‘¢ï¼Œå°±ä¸è¯´äº†ï¼Œäººä»¬æ€»æ˜¯ä¼šå¯¹æœ‰äº›äº‹æƒ…è€¿è€¿äºæ€€ï¼ŒåŠªåŠ›å°±å¥½ï¼Œå¥½äº‹å‘¢ï¼Œæ„Ÿè§‰è‡ªå·±åœ¨æ…¢æ…¢çš„æˆé•¿ï¼Œå”‰ï¼Œæ„Ÿè§‰è‡ªå·±è¦é•¿å¤§äº†ï¼Œçˆ¸çˆ¸å¦ˆå¦ˆè€äº†ï¼Œç°åœ¨è¿™ä¸ªæ ·å­ï¼Œè‚¯å®šä¸è¡Œï¼Œæ‰€ä»¥å‘¢ï¼Œè¿™å°±æ˜¯æˆ‘çš„åŠ¨åŠ›ï¼Œå¥½å¥½çš„ï¼Œä¸ç®¡å‘ç”Ÿäº†ä»€ä¹ˆï¼Œéƒ½è¿‡å»å¥½äº†ï¼Œäººç”Ÿè¿™æœ¬ä¹¦æ€»æ˜¯è¦ç¿»é¡µçš„ã€‚å°±è¿™æ ·å§ï¼Œæ¯•ç«ŸæŠ±æ€¨ä¹Ÿä»€ä¹ˆéƒ½ä¸ä¼šå¾—åˆ°ï¼Œè¢–å­ä¸€æ’¸ï¼Œå°±æ˜¯å¹²ã€‚ å…¶ä»–å…¶ä»–å—ï¼Œä¹Ÿæ²¡ä»€ä¹ˆäº†ï¼Œå¸Œæœ›å¥¹è¿‡å¾—å¥½å¥½çš„ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œé‚£å°±è¿™æ ·å§ï¼Œæµ©å—å“¥ï¼Œè¦åŠªåŠ›å‘€ã€‚æ¯•ç«Ÿç°åœ¨å‡­å®åŠ›å•èº«ï¼Œæˆ–è®¸çœŸæ­£è‡ªå·±è¿˜æ²¡é‚£ä¸ªèƒ½åŠ›ï¼Œæ‹¿èµ·åˆ€æˆ‘å°±æ— æ³•æ‹¥æŠ±ä½  æ”¾ä¸‹åˆ€æˆ‘å°±æ— æ³•ä¿æŠ¤ä½ ,å…ˆè®©è‡ªå·±å¼ºå¤§èµ·æ¥å§ï¼Œå—¯åŠ æ²¹ã€‚ æ€»ç»“æ—¶é—´è›®å¿«çš„ï¼Œè¦å¤šèŠ±æ—¶é—´ç»™èº«è¾¹çš„äººï¼Œå…¶å®å‘¢ï¼Œè¿˜æ˜¯è¦å…ˆåŠªåŠ›å¼ºå¤§è‡ªå·±ï¼Œå¯¹äºè¿™ä¸€å¹´è¢«æˆ‘æœ‰æ„æ— æ„ä¼¤å®³çš„äººï¼Œè¯´ä¸€å£°æŠ±æ­‰ï¼Œå¯¹é‚£äº›åœ¨æ„æˆ‘ï¼Œçˆ±æŠ¤æˆ‘çš„äººï¼Œè¯´ä¸€å£°è°¢è°¢ï¼Œå…¶å®åœ¨è¿™é‡Œè¿˜æ˜¯æœ€æ„Ÿè°¢æˆ‘çš„çˆ¸çˆ¸å¦ˆå¦ˆï¼Œä½ ä»¬æ˜¯æˆ‘æœ€å¼ºå¤§çš„åŠ¨åŠ›ï¼Œè°¢è°¢ã€‚ æœ€åï¼Œæ–°å¹´æ„¿æœ›ï¼Œ2020å¹´ï¼Œä¿æŒä¸€é¢—å¥½å­¦çš„å¿ƒï¼Œé™ä¸‹å¿ƒæ¥å»å­¦ä¹ å‰ç«¯ï¼Œæœ¬èº«å°±æ˜¯æˆ‘çš„çˆ±å¥½ï¼Œæœ‰ä»€ä¹ˆç†ç”±è¢«åˆ«äººæ‹‰ä¸‹å‘¢ï¼Œè¿˜æœ‰å°±æ˜¯å¸Œæœ›æˆ‘çˆ¸çˆ¸å¦ˆå¦ˆèº«ä½“å¥åº·ã€‚Over!ä»…æ­¤è€Œå·²ï¼Œæ–°å¹´å¿«ä¹ï¼Œ2020ã€‚ æˆ‘æ›¾éš¾è‡ªæ‹”äºä¸–ç•Œä¹‹å¤§ä¹Ÿæ²‰æººäºå…¶ä¸­æ¢¦è¯ä¸å¾—çœŸå‡ ä¸åšæŒ£æ‰ ä¸æƒ§ç¬‘è¯ â€“ã€Šèµ·é£äº†ã€‹Â·å´é’å³°]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ€»ç»“é¢˜4]]></title>
    <url>%2F2019%2F12%2F27%2F%E6%80%BB%E7%BB%93%E9%A2%984%2F</url>
    <content type="text"><![CDATA[å¡«å……æ•°æ®å¤„ç†1234567let obj = &#123; 1: 111, 2: 222, 5: 555,&#125;let arr = [null, null, 111, 222, null, null, 555, null, null, null, null, null] åˆ›å»ºæ•°ç»„ï¼ŒæŒ‰ç…§indexä¾æ¬¡æ”¾å…¥123let arr = new Array(12) .fill(null) .map((item, index) =&gt; obj[index-1] || item) åˆ©ç”¨keysçš„ç‰¹æ€§1234567891011121314let arr = new Array(12).fill(null)Object.keys(obj).forEach(item =&gt; arr[item-1] = obj[item])``` ## è½¬æ¢æ•°ç»„åæ£€æŸ¥åŠ å…¥lengthå±æ€§ï¼Œæ¨¡æ‹Ÿæˆä¸€ä¸ªç±»æ•°ç»„ï¼Œè½¬æ¢è¿‡æ¥ï¼Œä¸è¿‡è¦å¯¹ç…§æ¬¡åºå…³ç³»```jsobj.length = 13let arr = Array.from(obj) .slice(1) .map(item =&gt; typeof item === 'undefined' ? null : item) ä¸‰ç§æ’åºæ–¹å¼å†’æ³¡æ’åº(æ”¹å˜è¯¥æ•°ç»„)ä¾æ¬¡æ¯”è¾ƒå‰åçš„å…ƒç´ ï¼Œæ˜¯å¦éœ€è¦äº¤æ¢ä½ç½® 123456789101112function bubble (arr) &#123; for (let i = 0; i &lt; arr.length - 1; i++) &#123; for (let j = 0; j &lt; arr.length - i - 1; j++) &#123; // å°äºåˆ™äº¤æ¢ if (arr[j] &gt; arr[j+1]) &#123; let temp = arr[j] arr[j] = arr[j+1] arr[j+1] = temp &#125; &#125; &#125;&#125; æ’å…¥æ’åº(è¿”å›ä¸€ä¸ªæ–°æ•°ç»„)ç›´æ¥é‡æ–°ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œæ’å…¥æ¯ä¸€é¡¹çš„æ—¶å€™æŒ‰ç…§é¡ºåºæ’å…¥å³å¯ 1234567891011121314151617181920212223242526function insert (arr) &#123; const result = [] // é»˜è®¤æ”¾å…¥ç¬¬0ä¸ªå…ƒç´  result.push(arr[0]) for (let i = 1; i &lt; arr.length; i++) &#123; const nextValue = arr[i] // æŸ¥æ‰¾éœ€è¦æ’å…¥çš„ä½ç½® for (let j = result.length - 1; j &gt;= 0 ; j--) &#123; // ä»åå¾€å‰ï¼Œæ‰¾åˆ°äº†æ¯”å®ƒåˆšå¥½å°çš„ï¼Œåˆ™æ”¾å…¥è¿™ä¸ªåé¢å³å¯ if (result[j] &lt; nextValue) &#123; // æ’å…¥åˆ°ä¹‹åï¼Œåº”è¯¥æ˜¯index+1 result.splice(j+1, 0, nextValue) break &#125; // æ¯”è¾ƒä¹‹åï¼Œåˆ°äº†æœ€åçš„å…ƒç´ ,æ˜¯å½“å‰æœ€å°çš„å…ƒç´  if (j === 0) &#123; result.unshift(nextValue) &#125; &#125; &#125; return result&#125; å¿«é€Ÿæ’åºç±»ä¼¼ä¸€ç§åˆ†æ²»çš„ç­–ç•¥ï¼Œå·¦è¾¹æ¯”è¾ƒä¸€ä¸‹ï¼Œå³è¾¹æ¯”è¾ƒä¸€ä¸‹ 12345678910111210,3,6,7,5,8,11. æ‰¾åˆ°7å·¦ä¾§ï¼ˆå°ï¼‰ï¼š3,5,6,1 2.æ‰¾åˆ°5ï¼Œ å·¦ä¾§(å°)ï¼š3,1 1,3 å³ä¾§(å¤§): 6å³ä¾§ï¼ˆå¤§ï¼‰ï¼š10,8 ....ç±»ä¼¼äºŒå‰æ ‘çš„ä¸­åºéå† 12345678910111213141516171819202122232425262728function quick (arr) &#123; // å¦‚æœæ•°ç»„åªæœ‰ä¸€é¡¹ä¸å¿…è¦ç»§ç»­ä¸‹å»,æœ‰å¯èƒ½ä¸€éƒ¨åˆ†æ˜¯ç©ºçš„ï¼Œä¸º0 if (arr.length &lt;= 1) &#123; return arr &#125; // å¯»æ‰¾ä¸­é—´é¡¹ const middleIndex = Math.floor(arr.length / 2) // å–å‡ºä¸­é—´é¡¹(å¹¶ä»åŸæ•°ç»„å‰”é™¤) // arr = [...arr.slice(0, middleIndex), ...arr.slice(middleIndex+1)] const middleValue = arr.splice(middleIndex, 1)[0] // å‡†å¤‡å·¦å³æ•°ç»„é€’å½’ä¸‹å» const leftArr = [] const rightArr = [] for (let i = 0; i &lt; arr.length; i++) &#123; arr[i] &lt; middleValue ? leftArr.push(arr[i]) : rightArr.push(arr[i]) &#125; // å·¦å³æ•°ç»„åˆ†åˆ«è¿›è¡Œ,å¹¶è¿”å› // return [ // ...quick(leftArr), // middleValue, // ...quick(rightArr), // ] return quick(leftArr).concat(middleValue, quick(rightArr))&#125; æ•°ç»„äº¤é›†ï¼Œå¹¶é›†ï¼Œè¡¥é›†123456789function intersect (arr1, arr2) &#123; // arr1ä¸­å­˜åœ¨arr2 return arr1.filter(v =&gt; arr2.includes(v) === true)&#125;function union (arr1, arr2) &#123; // arr1å…¨éƒ¨é“ºå…¥ï¼Œarr2é“ºå…¥ä¸åœ¨arr1å­˜åœ¨çš„å…ƒç´  return [...arr1, ...arr2.filter(v =&gt; arr1.includes(v) === false )]&#125; æ•°ç»„æ—‹è½¬ç§»åŠ¨æ•°ç»„ï¼Œ[1,2,3,4] -&gt; 2 [3,4,1,2] çœŸå®ç§»åŠ¨12345function roate (arr, offset) &#123; // åç§»ä¸­é—´çš„ä½ç½® const middle = arr.length - offset return [...arr.slice(middle), ...arr.slice(0, middle)]&#125; æ¨¡æ‹Ÿé˜Ÿåˆ—æ“ä½œ1234567function roate (arr, offset) &#123; const result = [...arr] for (let i = 0; i &lt; offset; i++) &#123; result.unshift(result.pop()) &#125; return result&#125; å‡½æ•°æŸ¯é‡ŒåŒ–ï¼Œå®ç°ç´¯åŠ æŒ‡å®šç´¯åŠ æ¬¡æ•°ï¼Œä½¿ç”¨é€’å½’å…¶å®æ˜¯ä½¿ç”¨é€’å½’ç­‰å¾…å‡½æ•°ï¼Œç›´åˆ°å‡‘é½äº†æ‰€æœ‰çš„å‚æ•° 123456789101112131415161718192021function currying (fn, argsLength) &#123; return function (...args) &#123; // å‚æ•°æ•°é‡è¾¾åˆ°å³å¯æ‰§è¡Œ if (args.length &gt;= argsLength) &#123; return fn.call(null, ...args) &#125; // ä¸ºè¾¾åˆ°å‚æ•°ï¼Œç»§ç»­æŸ¯é‡ŒåŒ– return currying(fn.bind(null, ...args), argsLength - args.length) &#125;&#125;function add (...args) &#123; return args.reduce((sum, current) =&gt; sum + current, 0)&#125;const curryAdd = currying(add, 4)console.log(curryAdd(1, 2, 3, 4)) // 10console.log(curryAdd(1)(2, 3, 4)) // 10console.log(curryAdd(1)(2, 3)(4)) // 10 ä½¿ç”¨ç‰¹æ®Šæ–¹æ³•è§¦å‘ç´¯åŠ toString,åœ¨æŸäº›ç‰¹å®šçš„çŠ¶æ€ä¸‹æ—¶ï¼Œä¼šè‡ªåŠ¨è§¦å‘ã€‚ 123456789101112131415161718192021function add (...initArgs) &#123; const args = initArgs // åç»­å‡½æ•°ä½œç”¨ä»…ä»…æ˜¯å¢åŠ args const adder = (...currentArgs) =&gt; &#123; args.push(...currentArgs) return adder &#125; // æ‰‹åŠ¨è¦†ç›–toString adder.toString = () =&gt; &#123; return args.reduce((sum, current) =&gt; sum + current, 0) &#125; return adder&#125;console.log(add(1, 2, 3, 4).toString()) // 10console.log(add(1)(2, 3, 4).toString()) // 10console.log(add(1)(2, 3)(4).toString()) // 10]]></content>
      <tags>
        <tag>æ°é¥­</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ€»ç»“é¢˜3]]></title>
    <url>%2F2019%2F12%2F26%2F%E6%80%BB%E7%BB%93%E9%A2%983%2F</url>
    <content type="text"><![CDATA[æ’åºé—®é¢˜ï¼Œè‡ªå·±æ·»åŠ æ’åºé¡¹ï¼Œåç»­å†åˆ é™¤String.prototype.localeCompare(),ç±»ä¼¼äºè°ƒç”¨å­—æ¯é¡ºåºæ¯”è¾ƒ 1234567891011121314let arr1 = [ 'A1','A2', 'B1', 'B2', 'C1', 'C2' ]let arr2 = ['A', 'B', 'C']// arr = [ 'A1','A2', 'A', 'B1', 'B2', 'B', 'C1', 'C2', 'C']// ç®€å•è°ƒç”¨sortæ–¹æ³•ï¼Œä½¿ç”¨localeCompare,è¿”å›ç»“æœæ˜¯å­—æ¯é¡ºå¯» [A, A1, A2, ....]// å…ˆå¯¹arr2å¤„ç†ä¸€ä¸‹arr2 = arr2.map(item =&gt; item + 'å•¦å•¦')let arr = arr1.concat(arr2)// æ±‰å­—é¡ºåºè¦æ»åä¸å­—æ¯arr = arr .sort((prev, next) =&gt; prev.localeCompare(next)) .map(item =&gt; item.replace('å•¦å•¦', '')) å¼‚æ­¥ç¼–ç¨‹12345for (var i = 0; i &lt; 10; i++) &#123; setTimeout(() =&gt; &#123; console.log(i) &#125;, 1000)&#125; é—­åŒ…12345678910111213// æ•´ä¸ªæ–¹æ³•é—­åŒ…for (var i = 0; i &lt; 10; i++) &#123; (function(i) &#123; setTimeout(() =&gt; &#123; console.log(i) &#125;, 1000) &#125;)(i)&#125;// å›è°ƒå‡½æ•°é—­åŒ…for (var i = 0; i &lt; 10; i++) &#123; setTimeout((i =&gt; () =&gt; console.log(i))(i), 1000)&#125; ä½¿ç”¨letå—çº§ä½œç”¨åŸŸ12345for (let i = 0; i &lt; 10; i++) &#123; setTimeout(() =&gt; &#123; console.log(i) &#125;, 1000)&#125; ä½¿ç”¨bindé¢„å¤„ç†1234const fn = i =&gt; console.log(i)for (var i = 0; i &lt; 10; i++) &#123; setTimeout(fn.bind(null, i), 1000)&#125; åŒ¿åå‡½æ•°åç§°é—®é¢˜åŒ¿åå‡½æ•°ä¸èƒ½ä¸ºå…¶ç”³æ˜åç§°ï¼Œä½†æ˜¯å¦‚æœç”³è¯·åï¼Œæ˜¯ä¸è®¸ä¸åœ¨é‡æ–°èµ‹å€¼ &#39;use strict&#39;æ¨¡å¼ä¸‹ï¼Œä¼šç›´æ¥æŠ¥é”™ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¸ä¼šæŠ¥é”™ã€‚ 123(function b () &#123; // b = 20; æ— æ•ˆ&#125;)() ä½œä¸ºä¸€ä¸ªå—çº§å†…éƒ¨å˜é‡(å‚æ•°)å¯ä»¥åšä¿®æ”¹æ‰€ç”¨ åŒ¿åå‡½æ•°çš„å‘½åæœ¬æ¥å°±æ˜¯ä¸è¢«æ¨èçš„ï¼Œå¦‚æœæœ‰å½¢å‚é‡åï¼Œé‚£ä¹ˆä»¥å½¢å‚ä¸ºå‡† 123456var b = 20(function b (b) &#123; b = 10 consoel.log(b) // 10&#125;)()console.log(b) // 20 ==, ====== å€¼å’Œç±»å‹å®Œå…¨ä¸€è‡´ï¼Œä¸¥æ ¼== å€¼ç›¸ç­‰å³å¯ï¼Œå…¶åˆ¤åˆ«çš„ä¾æ®å¦‚ä¸‹ç±»å‹ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œä¼šç›´æ¥æ¯”è¾ƒ ç±»å‹ä¸ç›¸åŒ,ä¼šè½¬æ¢ç±»å‹è¿›è¡Œæ¯”è¾ƒ {}=={}, ä¸¤ä¸ªå¯¹è±¡è¿›è¡Œæ¯”è¾ƒï¼Œæ˜¯æ¯”è¾ƒå †å†…å­˜çš„åœ°å€ null==undefined ç›¸ç­‰ï¼Œ / null !== undefined NaN != NaN [12] = â€˜12â€™, è°ƒç”¨toStringåï¼Œåœ¨è¿›è¡Œå­—ç¬¦ä¸²çš„æ¯”è¾ƒ å…¶ä½™æƒ…å†µéƒ½æ˜¯è¿›è¡Œæ•°å­—çš„æ¯”è¾ƒ boolean true=1, false=0 number = number string = Number(â€˜strâ€™), å¦‚æœæœ‰éæ•°å­—åˆ™ä¼šå˜ä¸ºNaN undefined = NaN Object(object - Number(obj.toString()), null - NaN) ä¿è¯æˆç«‹123if (obj == 1 &amp;&amp; obj == 2 &amp;&amp; obj == 3) &#123; console.log('OK')&#125; è¦†ç›–toString12345678910111213let obj = &#123; n: 0, toString() &#123; return ++this.n &#125;&#125;const arr = [1, 2, 3]let obj = &#123; toString() &#123; return arr.shift() &#125;&#125; è¦†ç›–definePropertyå°†a,ä½œä¸ºwindowçš„ä¸€ä¸ªå˜é‡å³å¯ 123456const arr = [1, 2, 3]Object.defineProperty(window, 'obj', &#123; get() &#123; return arr.shift() &#125;&#125;) æ¨¡æ‹Ÿpush,pushçš„ç®€æ˜“å®ç°123456789Array.prototype.push = function (value) &#123; // é»˜è®¤æ’å…¥ï¼Œåˆ°å°¾éƒ¨ this[this.length] = value // lengthé•¿åº¦ä¸¥æ ¼æ„ä¹‰æ˜¯æµè§ˆå™¨å¯¹å…¶æ§åˆ¶å¢å‡æ“ä½œ this.length++ return this.length&#125; 12345678910let obj = &#123; 2: 3, // this[2] = 1 2: 1 3: 4, // this[3] = 2 3:2 length: 2, // 2 -&gt; 3 -&gt; 4 push: Array.prototype.push&#125;obj.push(1)obj.push(2)console.log(obj) // &#123; 2:1, 3:2, length: 4 ...&#125;]]></content>
      <tags>
        <tag>æ°é¥­</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ€»ç»“é¢˜2]]></title>
    <url>%2F2019%2F12%2F26%2F%E6%80%BB%E7%BB%93%E9%A2%982%2F</url>
    <content type="text"><![CDATA[å›¾ç‰‡æ‡’åŠ è½½ delay loadä¸»è¦æ ¸å¿ƒ æ‡’åŠ è½½ï¼Œä¸è¦ç»™ä»–imgçš„srcèµ‹å€¼é€‚å½“çš„æ—¶å€™ï¼Œå†å°†imgçš„åœ°å€èµ‹å€¼ç»™src,è¿™æ ·å¯ä»¥åšåˆ°æŒ‰éœ€åŠ è½½ï¼Œ&lt;img src=&quot;&quot; data-src=&quot;xxx&quot;/&gt;,ç­‰åˆ°åˆé€‚çš„æ—¶æœºè¿›è¡Œæ›¿æ¢å³å¯ æ‡’åŠ è½½å¤„ç†æ—¶æœºæ‡’åŠ è½½çš„å¯¹è±¡å·²ç»å®Œå…¨å‡ºç°åœ¨äº†è§†å£å†…ï¼Œå³å½“å‰è§†å£çš„åº•ç«¯è·ç¦»windowï¼ˆheight + scrollTopï¼‰,å¿…é¡»è¦&gt;= è¯¥å¯¹è±¡è·ç¦»é¡¶éƒ¨çš„è·ç¦»imgï¼ˆheight + offset.Topï¼‰ äº‹ä»¶ç›¸å…³å§”æ‰˜ç»™windowäº‹ä»¶ï¼Œå›¾ç‰‡åŠ è½½å®Œæˆçš„äº‹ä»¶,img.addEventListener(&#39;onLoad&#39;, handle) 123456789101112131415161718192021222324252627282930&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; .container &#123; width: 410px; margin: 0 auto; &#125; .imgBox &#123; height: 180px; margin-bottom: 20px; background-color: #BBB; &#125; .imgBox img &#123; display: none; height: 100%; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class="container"&gt;&lt;/div&gt; &lt;script src="../node_modules/jquery/dist/jquery.min.js"&gt;&lt;/script&gt; &lt;script src="./delayLoad.js"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546const $container = $('.container');const $window = $(window);// åŠ¨æ€åˆ›å»ºå›¾ç‰‡let str = ''new Array(20).fill(null).forEach(item =&gt; &#123; str += `&lt;div class="imgBox"&gt; &lt;img src="" data-img="https://i0.hdslb.com/bfs/archive/a84e5a2751c81ddf51ecb7267eb118284da6c4b7.jpg@1100w_484h_1c_100q.jpg"/&gt; &lt;/div&gt;`&#125;)$container.html(str)// è·å–æ¯ä¸€ä¸ªimgBox$imgBoxs = $container.children('.imgBox')console.log($imgBoxs);/** * æ‡’åŠ è½½ * è®¡ç®—è§†å£ï¼ˆå½“å‰æ˜¾ç¤ºçš„ä½ç½®ï¼‰åº•éƒ¨ &gt;= è¯¥å›¾ç‰‡åº•éƒ¨åˆ°é¡¶éƒ¨çš„è·ç¦» */const handleDeladyLoad = () =&gt; &#123; // è·å–è§†å£åº•éƒ¨åˆ°é¡¶éƒ¨çš„è·ç¦» let viewPortTop = $window.outerHeight() + $window.scrollTop() $imgBoxs.each((index, item) =&gt; &#123; let $item = $(item); let $img = $item.children('img') let isLoad = $item.attr('isLoad') // è·å–å›¾ç‰‡åˆ°é¡¶éƒ¨çš„è·ç¦» let imgTop = $item.outerHeight() + $item.offset().top // æ˜¯å¦éœ€è¦åŠ è½½å‡ºå›¾ç‰‡ if (imgTop &lt;= viewPortTop &amp;&amp; isLoad !== 'true') &#123; // æ ‡è®°åŠ è½½å®Œæˆ $item.attr('isLoad', true) // è®¾ç½®å›¾ç‰‡srcå­—æ®µï¼Œå¹¶åŠ è½½å›¾ç‰‡ $img.attr('src', $img.attr('data-img')) $img.on('load', () =&gt; $img.fadeIn()) &#125; &#125;)&#125;// æŒ‚è½½åŠ è½½å®Œæˆï¼Œå’Œæ»šåŠ¨äº‹ä»¶$window.on('load scroll', handleDeladyLoad) æ•°ç»„æ‰å¹³åŒ–ES6æ–¹æ³•flat1arr.flat(Infinity) ä½¿ç”¨ES6çš„setè¿›è¡Œå­˜å‚¨1Array.from(new Set(arr)) ä½¿ç”¨toStringï¼Œå†åˆ†å‰²1arr.toString().split(',').map(item =&gt; Number(item)) ä½¿ç”¨stringifyå»é™¤[,]1JSON.stringify(arr).replace(/(\[|\])/g, '').split(',').map(item =&gt; Number(item)) æ‰‹åŠ¨æ‰å¹³åŒ–æ£€æµ‹å…ƒç´ ä¸­æ˜¯å¦å«æœ‰æ•°ç»„ï¼Œæœ‰åˆ™ç»§ç»­å±•ä¸‹å» concatæ˜¯å°†ä¼ å…¥çš„å‚æ•°ï¼Œåˆå¹¶åˆ°æ•°ç»„ä¸­å»ï¼Œæ¯”å¦‚concat(1, [2, 3], [4, [5], 6]) 1, ç›´æ¥æ”¾å…¥ [x, 1] [2,3]ï¼Œ ç›´æ¥åˆå¹¶ [x, 2, 3] [4, [5], 6], åˆå¹¶æ¯ä¸€é¡¹ [x, 4, [5], 6] 1234while(arr.some(item =&gt; Array.isArray(item))) &#123; // å°†è¯¥æ•°ç»„æ¯ä¸€é¡¹æ‹†å¼€åˆå¹¶è¿›å» arr = [].concat(...arr)&#125; æ‰‹åŠ¨é€’å½’å®ç°æ–¹æ³•ä¸€123456789101112131415161718function myFlat (arr) &#123; let result = [] // å¾ªç¯æ¯ä¸€é¡¹ï¼Œä¸æ˜¯æ•°ç»„çš„å­˜å‚¨èµ·æ¥ const put = arr =&gt; &#123; for (let i = 0, item; item = arr[i++]; ) &#123; if (Array.isArray(item)) &#123; put(item) continue &#125; result.push(item) &#125; &#125; put(arr) return result&#125; å®ç°æ–¹æ³•äºŒ123456789101112131415function myFlat (arr) &#123; let result = [] for (let i = 0, item; item = arr[i++];) &#123; if (Array.isArray(item)) &#123; // å½“å‰æ¯ä¸€é¡¹æ˜¯å¦æ˜¯æ•°ç»„ // result = [...result, ...myFlat(item)] result = result.concat(myFlat(item)) &#125; else &#123; // å¦‚æœæ˜¯æ•°æ®ï¼Œç›´æ¥push result.push(item) &#125; &#125; return result&#125; è‹±æ–‡å­—æ¯ç»„æˆå­—ç¬¦ä¸²å‰åæ·»åŠ ç©ºæ ¼æ­£åˆ™åŒ¹é…ï¼Œ\bè¡¨ç¤ºå•è¯è¾¹ç•Œï¼Œä¸ä»…æ˜¯ä¸€ä¸ªç©ºæ ¼ 123let str = 'è¿™é‡Œæ˜¯HDUï¼Œä½ å¥½HDUeræœªæ¥ä¸€èµ·åŠªåŠ›'let reg = /\b[a-z]+\b/igstr = str.replace(reg, value =&gt; ` $&#123;value&#125; `).trim() è‡ªå®šä¹‰çš„$attr,è¦æ±‚å¯ä»¥è¿›è¡Œè·å–æ ‡ç­¾ä¸­çš„ä»»ä½•å…ƒç´ ä»»æ„ä½ç½®è·å–æ‰€æœ‰çš„æ ‡ç­¾ï¼Œdocument.getElementByTagName(&#39;*&#39;) æ­£åˆ™ä¸­ï¼Œæ— è®ºæ˜¯å­—ç¬¦ä¸²è¿˜æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œ\éƒ½è¦æ³¨æ„è½¬ä¹‰ç¬¦çš„å­˜åœ¨ï¼Œæ¯”å¦‚/\b/, regExpæ­£åˆ™ä¸­new RegExp(\b)éœ€æ±‚123456789&lt;div class='box aa' /&gt;&lt;div data-count='666' /&gt;&lt;div class='box clearfix' /&gt;&lt;div data-count='123' data-type='QQ' /&gt;&lt;div data-type='QQ' /&gt;&lt;div class='clearfix' /&gt;$attr('data-count', '123') -&gt; [&lt;div data-count='123' data-type='QQ' /&gt;]$attr('class', 'box') -&gt; [&lt;div class='box aa' /&gt;, &lt;div class='box clearfix' /&gt;] å®ç°ï¼Œä¸»è¦æ˜¯è¦æ³¨æ„å…¶ç‰¹æ®Šæ€§ï¼Œclasså±æ€§å¯å¤šé€‰12345678910111213141516171819202122232425function $attr (property, value) &#123; // è·å–é¡µé¢æ‰€æœ‰çš„å…ƒç´  let elements = document.getElementsByTagName('*') const arr = [] // è½¬æ¢ä¸ºæ•°ç»„å½¢å¼ elements = Array.from(elements) // ä¾æ­¤å¯»æ‰¾ elements.forEach(item =&gt; &#123; let itemPropertyValue = item.getAttribute(property) // ç‰¹æ®Šå¤„ç†class, æ­£åˆ™åŒ¹é…å†…éƒ¨å…ƒç´  if (property === 'class') &#123; const reg = new RegExp(`\\b$&#123;value&#125;\\b`) if (reg.test(itemPropertyValue)) &#123; arr.push(item) &#125; // å¤„ç†å…¶ä»–å€¼ï¼Œç›´æ¥åˆ¤æ–­æ˜¯å¦ç›¸åŒ &#125; else &#123; if (itemPropertyValue === value) &#123; arr.push(item) &#125; &#125; &#125;) return arr&#125; å®ç°ä¸€ä¸ªå†…ç½®çš„newæ–¹æ³• åˆ›å»ºåŸå‹å¯¹è±¡ è°ƒç”¨æ„é€ å‡½æ•° è¿”å›æ„é€ å‡½æ•° 12345678910function myNew (Fn, ...args) &#123; // æ‰‹åŠ¨åˆ›å»ºå­—é¢é‡å¯¹è±¡ï¼Œ å¹¶è¿›è¡ŒæŒ‚è½½ // const obj = &#123;&#125; // Object.setPrototypeOf(Fn.prototype) // Object.createä»¥æŸä¸ªåŸå‹æŒ‚è½½ä¸€ä¸ªå¯¹è±¡ const obj = Object.create(Fn.prototype) Fn.call(obj, ...args) return obj&#125;]]></content>
      <tags>
        <tag>æ°é¥­</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ€»ç»“é¢˜1]]></title>
    <url>%2F2019%2F12%2F26%2F%E6%80%BB%E7%BB%93%E9%A2%981%2F</url>
    <content type="text"><![CDATA[call ä¸ apply çš„åŒºåˆ«, æ€§èƒ½ç›¸å…³call, applyå‡ä¸ºfunctionåŸå‹ä¸Šçš„æ–¹æ³•ï¼Œä»–ä»¬çš„ä½œç”¨éƒ½æ˜¯æ”¹å˜thisæŒ‡å‘ï¼Œå”¯ä¸€ä¸åŒçš„å°±æ˜¯ä¼ é€’å‚æ•°çš„æ–¹å¼ fn.call(obj, 10, 20, 30)fn.apply(obj, [10, 20, 30]) callçš„æ€§èƒ½è¦æ¯”applyå¥½ä¸€äº›(å°¤å…¶æ˜¯ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°è¶…è¿‡3ä¸ªçš„æ—¶å€™)ï¼Œæ¨ècall åŸºäºes6å¯¹è±¡å±•å¼€ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨callä»£æ›¿apply fn.apply(obj, arr)fn.call(obj, â€¦arr) æ€§èƒ½ï¼šæµ‹è¯•ç½‘ç«™ï¼Œä¸€å®šè¦æ³¨æ˜ç¯å¢ƒï¼Œä¸ªäººæµ‹è¯•åªèƒ½ä½œä¸ºå‚è€ƒ æ€§èƒ½æµ‹è¯•console.time(â€˜Aâ€™)// â€¦codeconsole.timeEnd(â€˜Aâ€™) å®ä¾‹è°ƒå–æ–¹æ³•ï¼Œé“¾å¼è°ƒç”¨ï¼Œ(5).add(3).minus(2)åŸå‹ä¸Šçš„å†™æ³•ï¼ŒåŸå‹é“¾æ‹“å±•æ•°å­—è¦åŠ æ‹¬å·æ‰å¯ä»¥è¿›è¡Œæ‹“å±• ç®­å¤´å‡½æ•° ç®­å¤´å‡½æ•°å¾ˆç®€æ´ ç®­å¤´å‡½æ•°ï¼Œæ²¡æœ‰thisæŒ‡å‘ï¼Œä½¿ç”¨callç­‰ä¹Ÿæ— æ³•æ”¹å˜å…¶thisçš„æŒ‡å‘ ç®­å¤´å‡½æ•°æ²¡æœ‰argumentsï¼Œå¯ä»¥ä½¿ç”¨ç”³æ˜å¼args let fn = (...args) =&gt; {} newçš„è¿‡ç¨‹åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼ŒæŠŠåŸå‹æŒ‚ä¸Šæ¥ï¼Œ(æ„é€ å™¨å†…)ä¹‹åè¿›è¡Œç›¸å…³thisèµ‹å€¼ï¼Œè¿”å›è¯¥this 12345678function Obj1 () &#123; return 123 &#125;// new Obj1 =&gt; obj1å®ä¾‹function Obj3 () &#123; &#125;// new Obj3 =&gt; obj3å®ä¾‹function Obj2 () &#123; return &#123;name: 'z'&#125; &#125;// new Obj2 =&gt; &#123; name: 'z' &#125; ä¸é€‚åˆç®­å¤´å‡½æ•°æ²¡æœ‰thisæŒ‡å‘,ä½†æ˜¯æƒ…å¢ƒä¸‹åˆéœ€è¦æœ‰thisæŒ‡å‘çš„åŠŸèƒ½,éœ€è¦ä½¿ç”¨åˆ°thisæ—¶æ‰æœ‰é—®é¢˜ å­—é¢é‡å¯¹è±¡å†…éƒ¨ 12345const obj = &#123; sum1: function () &#123;&#125;, // OK sum2 () &#123;&#125;, // OK sum3: () =&gt; &#123; &#125;, // ERROR&#125; åŸå‹ä¸Šçš„æ–¹æ³• å›è°ƒå‡½æ•°ï¼Œä½¿ç”¨åˆ°thisçš„ 1button.addEventListener('click', function () &#123; this.focus() &#125; ) æ„é€ å‡½æ•° é‡æ–°replace([REG], [CALLBACK])123456789101112131415String.prototype.myReplace = function (reg, callback) &#123; let destStr = this // é¦–æ¬¡æ£€éªŒæ˜¯å¦åŒ¹é… let regResult = reg.exec(this) while(regResult) &#123; // å¾—åˆ°åŒ¹é…ç»“æœï¼Œå¹¶è¿›è¡Œå›è°ƒï¼Œå¹¶ç”¨è¿”å›å€¼ä¿®æ”¹åŸstr let replaceStr = callback.call(destStr, regResult) destStr = destStr.replace(regResult[0], replaceStr) // è¿›è¡Œä¸‹ä¸€æ¬¡åŒ¹é… regResult = reg.exec(destStr) &#125; return destStr&#125; å†…éƒ¨è¿­ä»£1234567const each = (arr, callback) =&gt; &#123; for (let i = 0, item; item = arr[i++]; ) &#123; let flag = callback.call(arr, item, i, arr) if (flag === false) &#123; break; &#125; &#125;&#125; indexOf,æ­£åˆ™åŒ¹é…å»è¿›è¡ŒæŸ¥æ‰¾å­—ç¬¦ä¸²1234567String.prototype.myIndexOf = function (reg) &#123; const reg = new RegExp(reg) const res = reg.exec(this) // å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°åˆ™è¿”å›-1 å¦åˆ™ç›´æ¥è°ƒç”¨æ­£åˆ™åŒ¹é…ç»“æœçš„res.index,å³é¦–æ¬¡å‡ºç°çš„ä½ç½® return res === null ? -1 : res.index&#125; å…³äºå¯¹è±¡ä¸­keyï¼Œé”®çš„ç›¸å…³å¯¹è±¡çš„é”®é»˜è®¤éƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²12345const obj = &#123;&#125;, a = '123', b = 123obj[a] = 'a'; obj[b] = 'b'; // æœ€ç»ˆobj[a] = 'b' å› ä¸ºobj[123] = obj['123'] å¯¹è±¡ä¸­keyä½¿ç”¨ä¸€ä¸ªsymbolæ¥åˆ›å»º12345const obj = &#123;&#125;, a = Symbol(123), b = Symbol(123);obj[a] = 'a'; obj[b] = 'b';// æœ€ç»ˆobj[a] = 'a' å› ä¸ºSmbol(123) !== Smbol(123) Symbol.for() ä¼šåœ¨Symbolæ± ä¸­å¯»æ‰¾æˆ–åˆ›å»ºæ”¾å…¥symbolæ±  Symbol(123) !== Symbol(123) Symbol.for(123) === Symbol.for(123) å¯¹è±¡ä¸­keyä½¿ç”¨ä¸€ä¸ªåº”ç”¨å€¼æ¥åˆ›å»º123456const obj = &#123;&#125;arr = [12,34]; obj[arr] = 'arr';// &#123;12,34: 'arr' &#125;o1 = &#123; name: 'z' &#125;; obj[o1] = 'o1';// &#123;[object Object]: 'o1' &#125; ä¼šè°ƒç”¨å¯¹è±¡çš„toStringæ–¹æ³•æ¥å½“æˆkeyå€¼ä¼ é€’è¿›å»ã€‚ åˆ¤æ–­å¯¹è±¡æ„é€ å™¨çš„æ–¹å¼ typeofï¼Œ typeof &#39;str&#39; åªèƒ½åˆ¤æ–­ï¼Œboolean, number, string, undefined, function, object(null + object + array) Object.prototype.toString.call(obj) èƒ½å¤Ÿé’ˆå¯¹ä¸objectå¯¹è±¡è¿›è¡Œæ›´ç»†è‡´ä¸€å±‚çš„åˆ¤ [object Undefined] [object Number] [object Date] [object Array] [object String]â€¦ [object Xxx] åªèƒ½è¿›è¡ŒåŸå‹åˆ¤æ–­äº†ï¼Œ Object.getPrototypeOf(obj) === Person.prototype ç›´æ¥æ¯”è¾ƒæ˜¯å¦æ—¶åŸå‹å¯¹è±¡ï¼ˆæ³¨æ„__proto__éæ ‡å‡†ï¼Œesæ¨èä½¿ç”¨Object.getPrototypeOf(obj)æ¥è·å–ï¼‰ æ­£åˆ™åŒ¹é…ç½‘å€ ?: ä¸è¿›è¡Œåˆ†ç»„ ? å¯æœ‰å¯æ— ï¼Œæ‰€ä»¥å†…éƒ¨éœ€è¦çš„åªéœ€è¦+å³å¯ \w æ•°å­—ï¼Œå­—æ¯ï¼Œä¸‹åˆ’çº¿ å¼€å¤´ç»“å°¾ 1/^(?:(http|https|ftp):\/\/)?((?:[\w-]+\.)+[a-z0-9]+)((?:\/[^\/#?]*)+)?(\?[^#]+)?(#.+)?$/i åŒ¹é…åè®®1/(?:(http|https|ftp):\/\/)?/i åŒ¹é…åŸŸååŒ¹é…www. baidu. 12306.ååŒ¹é… xxx 1/((?:[\w-]+\.)+[a-z0-9]+)/i åŒ¹é…åœ°å€/xxx.html /xxx 1/((?:\/[^\/#?]*)+)?/i åŒ¹é…æŸ¥è¯¢å‚æ•°?a=b 1/(\?[^#]+)?/i åŒ¹é…hash#sdaä»»æ„ 1/(#.+)?/i]]></content>
      <tags>
        <tag>æ°é¥­</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨typescriptä¸­ä½¿ç”¨eslint]]></title>
    <url>%2F2019%2F12%2F18%2F%E5%9C%A8typescript%E4%B8%AD%E4%BD%BF%E7%94%A8eslint%2F</url>
    <content type="text"><![CDATA[åŸºäºvscodeè¿›è¡Œé…ç½®å¼€å‘ æ”¹å˜tslintä¹‹å‰æœ‰ä½¿ç”¨tslintæ¥å¯¹ä»£ç è´¨é‡è¿›è¡Œä¿éšœï¼Œç”±äºtslintæ˜¯eslintçš„ä¸€ä¸ªå­é›†,å¹¶ä¸”é‰´äºeslintçš„å‘è¾¾ç”Ÿæ€ï¼Œæ‰€ä»¥ä½¿ç”¨eslintæ¥ä»£æ›¿tslintæ˜¯æ¯”è¾ƒå¥½çš„ä¸€ä¸ªé€‰æ‹©ï¼Œå¹¶ä¸”tslintå›¢é˜Ÿä¹Ÿå»ºè®®è½¬ç§»ä½¿ç”¨eslintã€‚ é¡¹ç›®ä¸­ä½¿ç”¨eslintè¿™é‡Œç›´æ¥ä½¿ç”¨umiå‡ºå“çš„fabricæ¥è¿›è¡Œæ ¡éªŒå³å¯ï¼Œå¹¶ä¸”å…¶ä¸­ä¹ŸåŒ…å«äº†å…¶ä»–é…ç½®ï¼Œå¯æ ¹æ®è‡ªå·±çš„éœ€è¦æ¥è¿›è¡Œä½¿ç”¨ï¼Œä¸»è¦å°±æ˜¯ä¸€äº›è§„åˆ™çš„ä¼˜åŒ–ã€‚ åˆ é™¤é¡¹ç›®ä¸­çš„eslintç›¸å…³ï¼Œä¸tslintç›¸å…³ä½¿ç”¨fabricä¸­çš„eslinté¡¹ç›®æ ¹ç›®å½•ä¸­çš„.eslintrc.js12const fabric = require(&apos;@umijs/fabric&apos;);module.exports = fabric.eslint; è‡ªå·±å®šä¹‰è§„åˆ™ç”±äºfabricä¸­ä¹Ÿæ˜¯eslinté…ç½®çš„è§„åˆ™ï¼Œåˆ™å¯ä»¥åº”ç”¨è§£æ„èµ‹å€¼çš„æ–¹å¼è¿›è¡Œè§„åˆ™çš„æ‹“å±• é¡¹ç›®æ ¹ç›®å½•ä¸­çš„.eslintrc.js1234567module.exports = &#123; extends: [require.resolve('@umijs/fabric/dist/eslint')], rules: &#123; // your rules &#125;,&#125; åœ¨vscodeä¸­é…ç½®eslintç¯å¢ƒ å®‰è£…æ’ä»¶eslint åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¯¹tsçš„ç›¸å…³æ”¯æŒï¼Œä½¿å¾—å¯ä»¥è‡ªè¡Œè¿›è¡Œä¾èµ–é…ç½®ã€‚ vscodeå¹¶ä¸ä¼šè‡ªåŠ¨lint tsçš„ç›¸å…³æ–‡ä»¶ï¼Œåœ¨settings.jsonä¸­æ·»åŠ 123456&quot;eslint.validate&quot;: [ &quot;javascript&quot;, &quot;javascriptreact&quot;, &quot;typescript&quot;, &quot;typescriptreact&quot; ],]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[dockeræ„å»ºgitlab]]></title>
    <url>%2F2019%2F11%2F24%2F%E4%BD%BF%E7%94%A8docker%E9%83%A8%E7%BD%B2gitlab%2F</url>
    <content type="text"><![CDATA[gitlabåŠŸèƒ½æ¯”è¾ƒåºå¤§ï¼Œæ‰€å ç”¨èµ„æºä¹Ÿå¾ˆå¤šï¼Œå»ºè®®æ”¾åœ¨èµ„æºå¥½ä¸€ç‚¹çš„æœåŠ¡å™¨ï¼Œè™šæ‹Ÿæœºè¿è¡Œ4GB+,é‡åˆ°é—®é¢˜å¯ç›´æ¥çœ‹æœ€åé¢ï¼Œå¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ© ç‰¹æ€§ ä½¿ç”¨docker-composeæ„å»º ä½¿ç”¨dockerçš„æ–¹å¼è¿›è¡Œæ„å»ºï¼ŒåŸºäºgitlab-ceç¤¾åŒºç‰ˆæ­å»ºï¼ˆå¯æ ¹æ®éœ€è¦è·å–eeç‰ˆï¼‰ ä½¿ç”¨nginxåšä¸€å±‚åå‘ä»£ç†ï¼Œæœ€ç»ˆé€šè¿‡ä¸€ä¸ªäºŒçº§åŸŸåçš„æ–¹å¼å¯ç›´è¾¾gitlab æœ€ç»ˆçš„ç›®çš„æ˜¯ä½¿ç”¨äºŒçº§åŸŸåï¼Œç›´æ¥æ˜ å°„è¿‡å» 123456789101112131415# æœ¬åœ°èµ„æº192.168.204.138 -&gt; æœåŠ¡å™¨äºŒçº§åŸŸå gitlab.vm.com -&gt; 192.168.204.138 (æ­¤å¤„æ˜¯æœ¬æœºåšäº†ä¸ªhosts)# æ˜ å°„å…³ç³»æœåŠ¡å™¨ä¸­:7080 -&gt; gitlab-docker:80æœåŠ¡å™¨ä¸­:7443 -&gt; gitlab-docker:443 (åé¢æ²¡æœ‰ä½¿ç”¨)æœåŠ¡å™¨ä¸­:7022 -&gt; gitlab-docker:22 (ç”¨äºsshè¿æ–¹å¼)# è®¿é—®å…³ç³»192.168.204.138:7080 -&gt; gitlab-dockergitlab.vm.com:7080 -&gt; gitlab-docker# æœ€ç»ˆä½¿ç”¨nginxåšä¸€å±‚åå‘ä»£ç†gitlab.vm.com -&gt; gitlab-docker å®‰è£…docker123456789101112curl https://get.docker.com/ &gt; install-docker.sh # ä¸‹è½½å®‰è£…è„šæœ¬sh install-docker.sh # æ‰§è¡Œå®‰è£…è„šæœ¬# ä¿®æ”¹dockeré˜¿é‡Œyumæºvim /etc/docker/daemon.json# daemon.json&#123; "registry-mirrors": ["https://brnzp166.mirror.aliyuncs.com"]&#125; è®¾ç½®å¼€æœºè‡ªå¯åŠ¨systemctl enable docker å®‰è£…docker-compose(åŸºäºå›½å†…é•œåƒ)12345# ä¸‹è½½docker-composecurl -L https://get.daocloud.io/docker/compose/releases/download/1.25.0/docker-compose-`uname -s`-`uname -m` &gt; /usr/local/bin/docker-compose# èµ‹äºˆæƒé™chmod +x /usr/local/bin/docker-compose è®¾ç½®å¤–éƒ¨ç›®å½•ç”±äºæ˜¯dockeré•œåƒè¿è¡Œ, æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠgitlabçš„é…ç½®, æ•°æ®, æ—¥å¿—å­˜åˆ°å®¹å™¨å¤–é¢, å³å°†å…¶æŒ‚è½½åˆ°å®¿ä¸»æœºã€‚ 123mkdir -p /home/software/gitlab/etcmkdir -p /home/software/gitlab/logsmkdir -p /home/software/gitlab/data åˆ¶ä½œdocker-compose.ymlæ–‡ä»¶ç”±äºä½¿ç”¨äº†docker-composeå¸®åŠ©æˆ‘ä»¬éƒ¨ç½²ï¼Œæ‰€ä»¥ä¸éœ€è¦è¿›è¡Œæ‹‰å–é•œåƒç­‰ï¼Œä»–ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬æ‰§è¡Œ æ‰¾ä¸€ä¸ªç›®å½•å­˜æ”¾docker-compose.ymlæ–‡ä»¶ï¼Œè¿™é‡Œä½¿ç”¨/home/software/gitlabç›®å½• æ–°å»ºæ–‡ä»¶ 123cd /home/software/gitlabvim docker-compose.yml ç¼–è¾‘docker-compose.ymlæ–‡ä»¶å†…å®¹,å¦‚æœ‰è¦æ±‚å¯è‡ªè¡Œä¿®æ”¹å¯¹åº”ç›®å½• 1234567891011121314151617181920212223242526272829303132333435# docker-compose.ymlgitlab: image: 'gitlab/gitlab-ce:latest' restart: unless-stopped hostname: 'gitlab.vm.com' # æœ€ç»ˆæš´éœ²å‡ºå»çš„host environment: GITLAB_OMNIBUS_CONFIG: | # å¤–éƒ¨å¯ä»¥è®¿é—®åˆ°gitlabçš„url external_url 'http://gitlab.vm.com' # sshç›¸å…³ï¼ˆæ³¨æ„å¯èƒ½ä¼šå’Œsshè¿æ¥å·¥å…·ç«¯å£å†²çªï¼‰ gitlab_rails['gitlab_ssh_host'] = 'gitlab.vm.com' gitlab_rails['gitlab_shell_ssh_port'] = 7022 # emailç›¸å…³ gitlab_rails['smtp_enable'] = true gitlab_rails['smtp_address'] = "smtp.163.com" # smtpæœåŠ¡å™¨åœ°å€ gitlab_rails['smtp_port'] = 465 gitlab_rails['smtp_user_name'] = "123456@163.com" # å‘é€é‚®ä»¶çš„é‚®ç®± gitlab_rails['smtp_password'] = "æˆæƒç " # é‚®ç®±çš„æˆæƒç  gitlab_rails['smtp_domain'] = "smtp.163.com" gitlab_rails['smtp_authentication'] = "login" gitlab_rails['smtp_enable_starttls_auto'] = true gitlab_rails['smtp_tls'] = true gitlab_rails['gitlab_email_from'] = '123456@163.com' # å‘é€é‚®ä»¶çš„é‚®ç®± ports: - '7080:80' - '7443:443' - '7022:22' volumes: - '/home/software/gitlab/etc:/etc/gitlab' - '/home/software/gitlab/logs:/var/log/gitlab' - '/home/software/gitlab/data:/var/opt/gitlab' æ£€æµ‹é…ç½®æˆåŠŸè¿è¡Œdocekråˆ‡æ¢åˆ°åˆšåˆšçš„docker-compose.ymlæ–‡ä»¶å­˜åœ¨çš„åœ°å€ï¼ˆæ­¤æ—¶æ˜¯åœ¨/home/software/gitlabï¼‰ 1234cd /home/software/gitlab# åå°è¿è¡Œdockerdocker-compose up -d ä½¿ç”¨docker psæŸ¥çœ‹å½“å‰dockerçš„è¿è¡ŒçŠ¶å†µï¼Œç­‰å¾…gitlabçš„çŠ¶æ€ä¸ºï¼ˆhealthy/unhealthyï¼Œçº¦5åˆ†é’Ÿå·¦å³ï¼‰,ä¹Ÿå³æ‰“åŒ…å®Œæ¯•åï¼Œè®¿é—®192.168.204.138:7080ï¼Œå¦‚æœå¯ä»¥çœ‹åˆ°æ¬¢è¿ç•Œé¢ï¼Œæ­å–œä½ ï¼Œæ­å»ºå°±æˆåŠŸäº† ä»¥åç›´æ¥åˆ‡æ¢å»docker-compose.ymlæ–‡ä»¶å­˜åœ¨çš„åœ°å€,ä½¿ç”¨docker-compose up -då³å¯é‡å¯ï¼Œå¹¶ä¸”ä¸Šæ–‡è®¾ç½®äº†dockerå¼€æœºè‡ªå¯ã€‚ æ­¤æ—¶è®¾ç½®çš„å¯†ç ä¸ºrootè´¦æˆ·ï¼Œå³ä»¥åç”¨æˆ·åä¸ºrootçš„è´¦æˆ·ï¼Œè¶…çº§ç®¡ç†å‘˜ å¯ç‚¹å‡»å¤´åƒæ¡† settings -&gt; preferences -&gt; language åˆ‡æ¢ä¸ºä¸­æ–‡ æµ‹è¯•é‚®ç®±æœåŠ¡ä¿®æ”¹å®Œæˆåï¼Œè¿›å…¥åˆ°å¦ä¸€ä¸ªç»ˆç«¯ä¸­ï¼Œè¿›å…¥gitlab-dockerå†… 12345678docker exec -it gitlab /bin/bash# è¿›å…¥åˆ°è¯¥containerä¸­ï¼Œæ‰§è¡Œé‡æ–°é…ç½®ï¼Œç­‰å¾…å®Œæˆgitlab-ctl reconfigure# æµ‹è¯•é‚®ç®±æ˜¯å¦å®Œæˆgitlab-rails console # è¿›å…¥é‚®ä»¶æ§åˆ¶å°, ç¨ç­‰ä¸€ä¼šæ‰èƒ½è¿›å…¥Notify.test_email('test_another@qq.com', 'Message Subject', 'Message Body').deliver_now ä½¿ç”¨nginxåå‘ä»£ç† åå‘ä»£ç†è¯´é€šä¿—å°±æ˜¯ï¼Œä½ å»è®¿é—®192.168.204.138çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨è¶ä½ ä¸çŸ¥é“å®‰æ’äº†192.168.204.138ï¼š7080ç»™ä½ æœåŠ¡ï¼Œæ­¤æ—¶æ˜¯åå°æœåŠ¡å™¨ï¼Œé€šè¿‡ä¸€ä¸ªä¸­é—´å•†ï¼Œç»™ä½ æœåŠ¡ã€‚ ä½¿ç”¨yumå®‰è£…nginx1234567891011121314# ä¸‹è½½å¯¹åº”å½“å‰ç³»ç»Ÿç‰ˆæœ¬çš„nginxåŒ…(package)wget http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm # å»ºç«‹nginxçš„yumä»“åº“rpm -ivh nginx-release-centos-7-0.el7.ngx.noarch.rpm # æ ¹æ®/etc/yum.repos.d/nginx.repoä¸­çš„ä¿¡æ¯ä¸‹è½½å®‰è£…nginxyum install nginx # å¯åŠ¨nginxæœåŠ¡systemctl start nginx # å¼€æœºè‡ªå¯nginxæœåŠ¡systemctl enable nginx é…ç½®åå‘ä»£ç†ä½¿ç”¨æ­¤ç§æ–¹å¼å®‰è£…çš„nginxï¼Œé…ç½®æ–‡ä»¶æ˜¯è¾ƒä¸ºåˆ†æ•£çš„ï¼Œå¯ä»¥ä½¿ç”¨whereis nginxæŸ¥çœ‹ 12345678910111213141516# è¿›å…¥åˆ°nginxé…ç½®ç›®å½•cd /etc/nginx/conf.d# å¢åŠ ä¸€ä¸ªé’ˆå¯¹gitlabçš„proxy, ä¸€å®šè¦ä¸º*.confï¼Œ æŸ¥çœ‹ /etc/nginx/nginx.conf å°±æ‡‚äº†vim proxy_gitlab.conf# æˆ‘çš„åå‘ä»£ç†ï¼Œgitlab.vm.com:80 -&gt; http:127.0.0.1:7080# å³dockeræ˜ å°„å‡ºçš„gitlab ç›®å½•server &#123; listen 80; server_name gitlab.vm.com; location / &#123; proxy_pass http://127.0.0.1:7080; &#125;&#125; é‡å¯nginxæœåŠ¡systemctl restart nginx è®¿é—®å³å¯http://gitlab.vm.com å¯èƒ½å‡ºç°çš„é—®é¢˜SELINUX(é’ˆå¯¹åå‘ä»£ç†)linuxå®‰å…¨æ¨¡å—ï¼Œæ­¤å¤„ç›´æ¥å…³é—­ï¼ˆä¸æ¨èè¿™ç§åšæ³•ï¼Œå¯ä»¥å»æ‰¾selinuxè¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆï¼‰ 123vim /etc/sysconfig/selinuxSELINUX=disabled firewalldç”±äºé˜²ç«å¢™çš„å­˜åœ¨ï¼Œå¯èƒ½é€ æˆæµè§ˆå™¨ä¸€ç›´è½¬åœˆçš„çŠ¶å†µ æœ¬åœ°è™šæ‹Ÿæœºï¼Œç›´æ¥å…³é—­ï¼ˆä¸æ¨èï¼Œå¯ä»¥å»æ‰¾firewalldè¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆï¼‰ 123systemctl stop firewalld # å…³é—­é˜²ç«å¢™systemctl disable firewalld # æ°¸ä¹…å…³é—­ï¼ˆå½“ç„¶ä¹Ÿä¸æ¨èå•¦ï¼‰ gitlab-dockeræ— é™é‡å¯å¯èƒ½æ˜¯é…ç½®å‡ºäº†é—®é¢˜ï¼Œä¹‹å‰é…ç½®extends_urlå‡ºç°è¿™ç§çŠ¶å†µï¼Œæ‰€ä»¥æ­¤æ—¶å¹¶æœªåœ¨è¿›è¡Œè¿‡é…ç½® å¯ä»¥åˆ‡æ¢è¿›å»(æ­¤å¤„gitlab-dockerçš„nameå°±å«gitlab,ä¹Ÿå¯ä»¥æ›¿æ¢ä¸º&lt;containerID&gt;ï¼Œdocker ps -aå³å¯æŸ¥çœ‹)ï¼ŒæŸ¥çœ‹å“ªé‡Œå‡ºäº†é—®é¢˜ 1docker container logs gitlab nginxæœåŠ¡å™¨å¯åŠ¨å¼‚å¸¸nginxæœåŠ¡å¯åŠ¨è¯´æƒé™çš„é—®é¢˜ï¼Œæ­¤å¤„å¯èƒ½æ˜¯ä¿®æ”¹äº†SELINUXå¯¼è‡´çš„é—®é¢˜ï¼Œå¯ä»¥å…ˆå°†selinuxåˆ‡æ¢å›ä¹‹å‰çš„æ¨¡å¼ï¼Œé‡å¯åï¼Œå¾…nginxå¯æ­£å¸¸å¯åŠ¨åï¼Œé‡å¯åœ¨ä¿®æ”¹SELINUXå³å¯ çˆ†å†…å­˜å› ä¸ºgitlabå¯¹è®¾å¤‡çš„è¿˜æ˜¯æœ‰ä¸€å®šè¦æ±‚çš„gitlabç¡¬ä»¶è¦æ±‚ å¦‚æœå¡æ…¢çš„è¯ï¼Œå¯ä»¥è¯•ä¸€è¯•å¢åŠ è™šæ‹Ÿå†…å­˜ 12345678910111213# 4GBè™šæ‹Ÿå†…å­˜dd if=/dev/zero of=/home/swap bs=1024 count=4194304# æ ¼å¼åŒ–åˆ†åŒºmkswap /home/swap# å¼€å¯swapåˆ†åŒº(å…³é—­swapåˆ†åŒº swapoff /home/swap)swapon /home/swap# æŒ‚è½½åˆ†åŒºvim /etc/fstab/home/swap swap swap default 0 0 å‚è€ƒdockeræ–¹å¼æ„å»ºgitlab(å®˜æ–¹æ–‡æ¡£) äº‘æœåŠ¡å™¨å¢åŠ swapåˆ†åŒº]]></content>
      <tags>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsç®€æ˜“å®ç°Graph]]></title>
    <url>%2F2019%2F11%2F12%2Fjs%E7%AE%80%E6%98%93%E5%AE%9E%E7%8E%B0Graph%2F</url>
    <content type="text"><![CDATA[å›¾ç»“æ„æ›´åŠ è´´è¿‘ç”Ÿæ´»ï¼Œèƒ½æ›´å¤šçš„æ¨¡æ‹Ÿç”Ÿæ´»ä¸­çš„ä¸€äº›ç»“æ„,è¡¨ç¤ºä¸€ç§ç½‘çŠ¶ï¼Œèƒ½æ›´å¥½çš„è¡¨ç¤ºèŠ‚ç‚¹ä¹‹é—´çš„è”ç³»ä¸å…³ç³»ã€‚ 12345I - E -| B - A - C - | F -| | | | | - D - G | - - â€” H å›¾çš„ç§ç±»æœ‰å‘å›¾æœ‰æ–¹å‘çš„å›¾ï¼ŒB-&gt;A, A-&gt;B,å¯ä»¥ä½¿ç”¨é‚»æ¥çŸ©é˜µæ¥è¡¨ç¤ºï¼Œä½†æ˜¯ä½¿ç”¨é‚»æ¥è¡¨çš„æ—¶å€™ï¼Œåˆ†ä¸ºé‚»æ¥è¡¨ï¼Œé€†é‚»æ¥è¡¨ï¼ˆæ ¹æ®å…¥åº¦å‡ºåº¦ï¼‰ã€‚ æ— å‘å›¾æ²¡æœ‰æ–¹å‘çš„å›¾ï¼ŒA-Bï¼Œè¡¨ç¤ºäº†Aä¸Bï¼Œå’ŒBä¸Açš„è”ç³»ï¼Œå¯ä»¥ä½¿ç”¨é‚»æ¥çŸ©é˜µæ¥è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é‚»æ¥è¡¨æ¥è¡¨ç¤º å­˜å‚¨å½¢å¼é‚»æ¥çŸ©é˜µä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„çš„å½¢å¼æ¥è¡¨ç¤ºï¼Œå¾ˆæƒ³åæ ‡ç³»ï¼Œä½¿ç”¨ä¸¤ä¸ªè½´æ‰€å¯¹åº”çš„åæ ‡å¯»æ‰¾ä¸¤ä¸ªç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œå½“è¾¹ä¸ä¸€æ ·æ—¶ï¼Œå³å­˜åœ¨äº†æƒæ—¶ï¼Œé‡‡ç”¨é‚»æ¥çŸ©é˜µçš„æ–¹å¼ä¹Ÿæ¯”è¾ƒå¥½è¡¨ç¤ºï¼Œç›´æ¥åœ¨ç›¸åº”çš„ä½ç½®ä¸Šå³ä¸ºä»–ä»¬çš„åº¦å³å¯ã€‚ å½“ä¸€ä¸ªå›¾è¾ƒä¸ºç¨€ç–æ—¶ï¼Œå¯èƒ½ä¼šå­˜åœ¨å¤§é‡ä¸å¿…è¦å­˜å‚¨çš„0ï¼Œé€ æˆäº†ç©ºé—´çš„æµªè´¹ 1234567891011121314151617// æ¯”å¦‚å­˜åœ¨ä¸€ä¸ªå›¾/** * A - B - c * \D/ * * A B C D * A 0 1 0 0 * B 1 0 1 1 * C 0 1 0 1 * D 0 1 1 0 */[ [0, 1, 0, 0], [1, 0, 1, 1], [0, 1, 0, 1], [0, 1, 1, 0],] é‚»æ¥è¡¨å°†é¡¶ç‚¹(vertex),ä¸è¾¹(Edge)åˆ†åˆ«è¿›è¡Œè®°å½•çš„ä¸€ç§æ–¹å¼ï¼Œæ¯ä¸ªå®šç‚¹çš„å…¥åº¦ï¼Œå‡ºåº¦åˆ†åˆ«å¯ä»¥ç»„æˆé€†é‚»æ¥è¡¨ï¼Œé‚»æ¥è¡¨ åœ¨ä½¿ç”¨é‚»æ¥è¡¨æ—¶ï¼Œåˆ†åˆ«è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨[&#39;A&#39;, &#39;B&#39;]æ¥è®°å½•å®šç‚¹ä¿¡æ¯ï¼Œä½¿ç”¨{ vertex: [ vertex1, vertex2 ] }æ¥è®°å½•è¾¹çš„ä¿¡æ¯ éå†æ–¹å¼ä½¿ç”¨ä¸€ç§æ–¹å¼ï¼Œå°†å›¾å†…çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½è®¿é—®ä¸€éçš„æ–¹å¼ï¼Œæ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ éå†çš„æ—¶å€™ï¼Œå¿…é¡»ç»™å›¾ä¸€ä¸ªåˆå§‹çš„é¡¶ç‚¹ æ¯ä¸ªé¡¶ç‚¹åˆ†ä¸º3ç§çŠ¶æ€ï¼Œwhite(æœªè®¿é—®),gray(æ­£åœ¨è®¿é—®çŠ¶æ€ä¸­),black(è®¿é—®ç»“æŸ),åˆå§‹åŒ–æ—¶ï¼Œæ‰€æœ‰çš„ç‚¹éƒ½åº”è¯¥æ—¶whiteçš„,åªå°†whiteæ”¾åˆ°å³å°†è¦è®¿é—®ä¸­ï¼Œgrayè¡¨ç¤ºæ­£åœ¨è®¿é—®ï¼Œä¼šé€ æˆå¾ªç¯ï¼Œblackå·²ç»è®¿é—®è¿‡äº†ï¼Œä¼šé€ æˆé‡å¤ bfs,breadth first search, å¹¿åº¦ä¼˜å…ˆ æ¯ä¸€ä¸ªå…ƒç´ æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½è¦è®¿é—®å®Œå†å»ä»–ä»¬çš„å­å…ƒç´ è¿™æ ·è®¿é—®ï¼Œé‡‡ç”¨ä¸€å±‚ä¸€å±‚çš„æ–¹å¼ï¼Œå¯ä»¥ä½¿ç”¨é˜Ÿåˆ—çš„æ–¹å¼å®ç°ï¼Œå°†ä¸€å±‚å¡å…¥é˜Ÿåˆ—ä¸­ï¼Œè¿™ä¸€å±‚çš„å­å…ƒç´ ï¼Œå†æ¬¡å¡å…¥é˜Ÿåˆ—ï¼Œå°±ä¿è¯äº†å¯¹å¤´æ˜¯åŒå±‚çš„ dfs,depth first search, æ·±åº¦ä¼˜å…ˆ æ¯ä¸€ä¸ªå…ƒç´ ä¸€æ—¦è®¿é—®åå°±è¦èµ°åˆ°å¤´ï¼Œé‡‡ç”¨é€’å½’å‡½æ•°çš„æ–¹å¼å®ç°ï¼Œæ¯ä¸€ä¸ªç‚¹éƒ½æ˜¯é€’å½’çš„è®¿é—®ï¼Œæ‰€ä»¥ç›´åˆ°æ‰€æœ‰ç‚¹éƒ½æ˜¯è®¿é—®è¿‡çš„ï¼Œæ‰ä¼šä¸€å±‚ä¸€å±‚é€’å½’å›æ¥ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸€ä¸ªç‚¹èµ°å®Œäº† ä¸¤ç§æ–¹å¼æ³¨æ„äº‹é¡¹ å¤„ç†whiteå‹èŠ‚ç‚¹ï¼Œä¿è¯ä¸å¾ªç¯åº”ç”¨ï¼Œä¸é‡å¤åº”ç”¨ç­‰ åœ¨æ”¹å˜ä¸ºgrayæ—¶å°±è¦handleræ‰ä»–ï¼Œç­‰ä»–çš„å­èŠ‚ç‚¹ä¹Ÿéƒ½éå†å®Œäº†ä¹‹åï¼Œå°±å¯ä»¥blackæ‰äº†ã€‚ ä»£ç å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172/** * å›¾ç»“æ„ * é‡‡ç”¨é‚»æ¥è¡¨çš„å½¢å¼ï¼Œæ— å‘å›¾ */function Graph () &#123; // è¡¨ç¤ºå­˜å‚¨çš„ç‚¹ this.vertexes = [] // è¡¨ç¤ºå­˜å‚¨çš„è¾¹ this.edge = &#123;&#125;&#125;/** * æ·»åŠ ä¸€ä¸ªç‚¹,ç‚¹å­˜åœ¨å°±ä¸å†æ·»åŠ äº† */Graph.prototype.addVertex = function (v) &#123; if (this.edge.hasOwnProperty(v) === true ) &#123; return true &#125; // æ·»åŠ èŠ‚ç‚¹ï¼Œåˆå§‹åŒ–è¾¹ this.vertexes.push(v) this.edge[v] = []&#125;/** * æ·»åŠ ä¸€æ¡è¾¹ */Graph.prototype.addEdge = function (v1, v2) &#123; // å½“å‰æ˜¯å¦å­˜åœ¨è¯¥ç‚¹ if (this.edge.hasOwnProperty(v1) === false) &#123; this.addVertex(v1) &#125; if (this.edge.hasOwnProperty(v2) === false) &#123; this.addVertex(v2) &#125; // å¢åŠ ä¸¤æ¡è¾¹çš„å…³ç³» this.edge[v1].push(v2) this.edge[v2].push(v1)&#125;/** * è¾“å‡ºé‚»æ¥è¡¨çš„å­˜åœ¨å½¢å¼ */Graph.prototype.toString = function () &#123; let str = '' this.vertexes.forEach(vertex =&gt; &#123; str += `$&#123;vertex&#125; -&gt;` this.edge[vertex].forEach(otherVertex =&gt; str += ` $&#123;otherVertex&#125;`) str += '\n' &#125;) return str&#125;/** * åˆå§‹åŒ–æ‰€æœ‰é¢œè‰²çš„æ–¹æ³• * W-white, G-gray, B-black */Graph.prototype.initializeColor = function () &#123; // åˆå§‹åŒ–æ‰€æœ‰ç‚¹é¡ºåºçš„ä¸€ä¸ªcolor const colors = &#123;&#125; this.vertexes.forEach((v) =&gt; colors[v] = 'W') return colors&#125;/** * DFS-&gt;å¹¿åº¦ä¼˜å…ˆ * ä½¿ç”¨é˜Ÿåˆ—å…¥é˜Ÿï¼Œå‡ºé˜Ÿå®ç° */Graph.prototype.bfs = function (initV, handler) &#123; // è·å–æ‰€æœ‰ç‚¹çš„é¢œè‰²è¡¨ const colors = this.initializeColor() // å‡†å¤‡é˜Ÿåˆ—ï¼Œå¹¶æ”¾å…¥åˆå§‹åŒ–ç‚¹è¿›è¡Œéå† const queue = new Queue() queue.enqueue(initV) while (queue.isEmpty() === false) &#123; // å–å‡ºè¦éå†çš„èŠ‚ç‚¹ const currentVertex = queue.dequeue() const currentEdges = this.edge[currentVertex] // å¤„äºéå†çŠ¶æ€ colors[currentVertex] = 'G' // ä¾æ¬¡æ”¾å…¥æ¯ä¸€ä¸ªé‚»æ¥è¡¨ä¸­çš„ç‚¹ for (let i = 0, v; v = currentEdges[i++]; ) &#123; // å·²ç»éå†æˆ–æ˜¯è®¿é—®äº†ï¼Œå°±ä¸åœ¨å¤„ç†äº† if (colors[v] !== 'W') &#123; continue &#125; // æ”¾å…¥è¯¥ç‚¹ï¼Œå¹¶ä¸”æ”¹å˜è¯¥ç‚¹çš„é¢œè‰² queue.enqueue(v) colors[v] = 'B' &#125; // å¤„ç†è¯¥ç‚¹ handler(currentVertex) &#125;&#125;/** * dfs-&gt;æ·±åº¦ä¼˜å…ˆ * é‡‡ç”¨é€’å½’çš„å½¢å¼ */Graph.prototype.dfs = function (initV, handler) &#123; /** * é€’å½’æ–¹æ³•ï¼Œç½®æˆç°è‰²ï¼Œç„¶åéå†ï¼Œå¤„ç†ï¼Œç½®æˆé»‘è‰² */ const dfsVisit = (currentVertex, colors, handler) =&gt; &#123; colors[currentVertex] = 'G' // å¤„ç†è¯¥ç‚¹ handler(currentVertex) const currentEdges = this.edge[currentVertex] for (let i = 0, v; v = currentEdges[i++]; ) &#123; if (colors[v] !== 'W') &#123; continue &#125; dfsVisit(v, colors, handler) &#125; colors[currentVertex] = 'B' &#125; // è·å–é¢œè‰² const colors = this.initializeColor() // å¼€å¯éå† dfsVisit(initV, colors, handler)&#125;const graph = new Graph()graph.addVertex('A')graph.addVertex('B')graph.addVertex('C')graph.addVertex('D')graph.addVertex('E')graph.addVertex('F')graph.addVertex('G')graph.addVertex('H')graph.addVertex('I')graph.addEdge('A', 'B')graph.addEdge('A', 'C')graph.addEdge('A', 'D')graph.addEdge('C', 'D')graph.addEdge('C', 'G')graph.addEdge('D', 'G')graph.addEdge('D', 'H')graph.addEdge('B', 'E')graph.addEdge('B', 'F')graph.addEdge('E', 'I')console.log(graph.toString())const bfsList = []graph.bfs('A', v =&gt; bfsList.push(v))console.log('bfsList', bfsList)const dfsList = []graph.dfs('A', v =&gt; dfsList.push(v))console.log('dfsList', dfsList)]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jså®ç°ç®€æ˜“BinarySearchTree]]></title>
    <url>%2F2019%2F11%2F11%2Fjs%E5%AE%9E%E7%8E%B0%E7%AE%80%E6%98%93BinarySearchTree%2F</url>
    <content type="text"><![CDATA[äºŒå‰æœç´¢æ ‘,äºŒåˆ†æŸ¥æ‰¾æ³•ï¼Œä»–å°†æ•°ç»„çš„è¿™ç§ç‰¹æ€§ï¼Œåº”ç”¨åˆ°äº†æ•°ç»„ä¸Šï¼Œä¸»è¦æ˜¯æ•°ç»„åœ¨é¢‘ç¹å¢åˆ å…ƒç´ æ—¶ï¼Œå°¤å…¶æ˜¯å¯¹äºæœ‰é¡ºåºçš„å…ƒç´ ï¼Œä»–ä¼šç§»åŠ¨å¤§é‡çš„å…ƒç´ ï¼Œä»è€Œé€ æˆæ€§èƒ½çš„ä¸‹é™ï¼Œç”±æ­¤å°±æœ‰äº†åˆ©ç”¨é“¾è¡¨çš„æƒ³æ³•ï¼Œä½†æ˜¯åˆä¸ºäº†èƒ½æœ‰äºŒåˆ†æœç´¢æ³•çš„ç‰¹æ€§ï¼Œæ‰€ä»¥å°±ä»¥äºŒåˆ†æœç´¢æ³•ç±»ä¼¼çš„é¡ºåºæ’åˆ—ä¸‹æ¥ å·¦ä¾§æ˜¯å°äºçˆ¶èŠ‚ç‚¹çš„æ•°æ®ï¼Œå³ä¾§æ˜¯å¤§äºçˆ¶èŠ‚ç‚¹çš„æ•°æ®ï¼Œä¹Ÿå³äºŒåˆ†çš„ç‰¹æ€§ æ³¨æ„ç‚¹æ’å…¥è¦æŒ‰ç…§ç‰¹æ€§æŸ¥æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ä½ç½®ï¼Œè¿›è¡Œæ’å…¥ åˆ é™¤æ¶‰åŠåˆ°æ›¿è¡¥çš„å…ƒç´ ï¼Œå¯ä½¿ç”¨å‰é©±ï¼Œæˆ–è€…æ˜¯åç»§æ¥è¿›è¡Œæ›¿æ¢ï¼Œä½†æ˜¯è¿™é‡Œè¦æ³¨æ„æ‰¾åˆ°å‰é©±/åç»§å…ƒç´ çš„æ—¶å€™ï¼Œå¯¹å…¶ä»–çš„å…ƒç´ æ›´æ”¹å…¶æŒ‚è½½çš„çˆ¶èŠ‚ç‚¹çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è‡ªåŠ¨å˜æ¢ä½ç½®ã€‚ å¤±è¡¡å½“æ’å…¥æ•°æ®æ—¶ï¼Œä¼šäº§ç”Ÿå¤±è¡¡ç°è±¡ï¼Œå³ä¸€ä¾§æ ‘ç‰¹åˆ«é•¿ï¼Œå¦ä¸€ä¾§å¾ˆçŸ­ï¼Œæ­¤æ—¶æ€§èƒ½ä¼šæ€¥å‰§ä¸‹é™ï¼ŒBSTä¹Ÿå°±å˜æˆäº†ä¸€ä¸ªé“¾è¡¨ï¼Œè§£å†³æ–¹æ³•æœ‰ä¸¤ç§ AVLæ ‘ï¼ˆç”¨çš„ä¸å¤šï¼‰ çº¢é»‘æ ‘ï¼ˆæ¯”è¾ƒæ™®éï¼‰ çº¢é»‘æ ‘ï¼ˆè§£å†³å¤±è¡¡çš„æ–¹å¼ï¼‰çº¢é»‘æ ‘çš„åŸç†å°±æ˜¯è®²æ¯ä¸€ä¸ªèŠ‚ç‚¹åˆ†ä¸ºçº¢/é»‘è¿™ä¸¤ç§å½¢æ€çš„èŠ‚ç‚¹ï¼Œæ›´å…·ä¸€å®šçš„è§„å¾‹ä¸‹ï¼Œå°±å°½å¯èƒ½çš„ä¿è¯äº†æ­¤æ ‘æ˜¯ä¸€é¢—å°½å¯èƒ½å¹³è¡¡çš„æ•°ï¼ˆå¯èƒ½ä¼šæœ‰çœ‹èµ·æ¥æœ‰ç‚¹å¤±è¡¡ï¼Œä½†å¹¶ä¸è¿èƒŒè§„åˆ™ï¼Œå½“åœ¨æ’å…¥æŸä¸€ç§å¶å­æ—¶ï¼Œç«‹é©¬å›è°ƒæ•´å›æ¥ï¼‰ å·¦æ—‹è½¬ å³æ—‹è½¬ å…¶ä¸­ï¼Œçº¢é»‘æ ‘ä¿è¯ä»¥ä¸‹è¿™äº”æ¡åŸåˆ™ï¼Œå³å¯æœ€å¤§é™åº¦ä¿è¯å¹³è¡¡ æ¯ä¸ªèŠ‚ç‚¹ä¸æ˜¯çº¢è‰²å°±æ˜¯é»‘è‰² æ ¹èŠ‚ç‚¹æ€»æ˜¯é»‘è‰²çš„ èŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œé‚£ä¹ˆä»–æ‰“çš„å­èŠ‚ç‚¹ä¸€å®šæ˜¯é»‘è‰²çš„ æ¯ä¸ªå¶å­èŠ‚ç‚¹ï¼ˆNILï¼‰å¿…é¡»æ˜¯é»‘è‰²ï¼ˆæ­¤å¤„æŒ‡null,â€˜ä¸å­˜åœ¨â€™çš„èŠ‚ç‚¹ï¼Œåªè¦æœ‰å€¼ï¼Œå°±ä¸èƒ½ç®—å¶å­èŠ‚ç‚¹ï¼‰ï¼Œå¹¶ä¸”ä¸èƒ½æœ‰ä¸¤ä¸ªè¿ç»­çš„çº¢è‰² ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹æˆ–è€…ç©ºèŠ‚ç‚¹çš„è·ç¦»ï¼ŒåŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ ä»£ç å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330function Node (key) &#123; this.key = key this.left = null this.right = null&#125;function BinarySearchTree () &#123; this.root = null&#125;/** * æ’å…¥å…ƒç´  */BinarySearchTree.prototype.insert = function (key) &#123; const newNode = new Node(key) // å¦‚æœå½“å‰æ ‘ç©º if (!this.root) &#123; this.root = newNode return true &#125; // å¯»æ‰¾é€‚åˆçš„ä½ç½®æ’å…¥ this.insertNode(this.root, newNode) return true&#125;/** * å†…éƒ¨æ’å…¥ç»“ç‚¹ */BinarySearchTree.prototype.insertNode = function (root, newNode) &#123; /** * åˆ¤æ–­å½“å‰çš„rootæ‰€ä»£è¡¨çš„å€¼ï¼Œå’Œå½“å‰å…ƒç´ çš„keyçš„æƒ…å†µ * å°äºkey,æ’å…¥å·¦ä¾§ï¼š1.æ— å·¦ç»“ç‚¹ï¼Œç›´æ¥æ›¿æ¢ï¼Œå¦åˆ™ç»§ç»­é€’å½’æ’å…¥ * å¤§äºkey,æ’å…¥å³ä¾§ï¼š1.æ— å³ç»“ç‚¹ï¼Œç›´æ¥æ›¿æ¢ï¼Œå¦åˆ™ç»§ç»­é€’å½’æ’å…¥ */ if (newNode.key &lt; root.key) &#123; if (root.left === null) &#123; root.left = newNode &#125; else &#123; this.insertNode(root.left, newNode) &#125; return true &#125; if (newNode.key &gt; root.key) &#123; if (root.right === null) &#123; root.right = newNode &#125; else &#123; this.insertNode(root.right, newNode) &#125; return true &#125; if (newNode.key === root.key) &#123; return false &#125;&#125;/** * å…ˆåºéå† * preOrderTraversal */BinarySearchTree.prototype.preOrderTraversal = function (handle) &#123; /** * å…ˆåºéå†èŠ‚ç‚¹ */ const preOrderTraversalNode = function (root, handle) &#123; if (root !== null) &#123; // å…ˆåºå¤„ç† handle(root.key) preOrderTraversalNode(root.left, handle) preOrderTraversalNode(root.right, handle) &#125; &#125; /** * ä»æ ¹èŠ‚ç‚¹å¼€å§‹éå† */ preOrderTraversalNode(this.root, handle)&#125;/** * ä¸­åºéå† * midOrderTraversal */BinarySearchTree.prototype.midOrderTraversal = function (handle) &#123; /** * ä¸­åºéå†èŠ‚ç‚¹ */ const midOrderTraversalNode = function (root, handle) &#123; if (root !== null) &#123; midOrderTraversalNode(root.left, handle) // ä¸­åºå¤„ç† handle(root.key) midOrderTraversalNode(root.right, handle) &#125; &#125; midOrderTraversalNode(this.root, handle)&#125;/** * ååºéå† * postOrderTraversal */BinarySearchTree.prototype.postOrderTraversal = function (handle) &#123; /** * ååºéå†èŠ‚ç‚¹ */ const postOrderTraversalNode = function (root, handle) &#123; if (root !== null) &#123; postOrderTraversalNode(root.left, handle) postOrderTraversalNode(root.right, handle) // ååºå¤„ç† handle(root.key) &#125; &#125; postOrderTraversalNode(this.root, handle)&#125;/** * å¯»æ‰¾æœ€å¤§å€¼ * éå†åˆ°æœ€å³ä¾§ */BinarySearchTree.prototype.max = function () &#123; let node = this.root let key = null while (node !== null) &#123; key = node.key node = node.right &#125; return key&#125;/** * å¯»æ‰¾æœ€å°å€¼ * éå†åˆ°æœ€å·¦ä¾§ */BinarySearchTree.prototype.min = function () &#123; let node = this.root let key = null while (node !== null) &#123; key = node.key node = node.left &#125; return key&#125;/** * å¯»æ‰¾åˆ°ç‰¹å®šçš„å€¼ * ç”±äºè¿™é‡Œçœç•¥äº†dataæ•°æ®ï¼ŒçœŸå®æƒ…å†µè¿”å›éœ€è¦æ•°æ®å³å¯ */BinarySearchTree.prototype.search = function (key) &#123; if (this.root === null) &#123; return null &#125; let node = this.root while (node !== null) &#123; if (key &lt; node.key) &#123; // å°äºæ ¹ï¼Œåœ¨å·¦ä¾§æ ‘å†… node = node.left &#125; else if (key &gt; node.key) &#123; // å¤§äºæ ¹ï¼Œåœ¨å³ä¾§æ ‘å†… node = node.right &#125; else &#123; // ç­‰äºæ ¹ï¼Œå¯»æ‰¾åˆ°è¯¥å…ƒç´  return node.key &#125; &#125; /** * æ‰¾åˆ°å¶å­èŠ‚ç‚¹å¹¶æœªæ‰¾åˆ°ï¼Œè¯´æ˜ä¸å­˜åœ¨ */ return null&#125;BinarySearchTree.prototype.delete = function (key) &#123; // ä¿å­˜åˆ é™¤èŠ‚ç‚¹çš„æ¡ä»¶ let current = this.root let parent = null let childrenDirection = 'left' /** * å¾ªç¯ï¼Œæ‰¾åˆ°è¦åˆ é™¤çš„å…ƒç´  */ while (current.key !== key) &#123; parent = current if (key &lt; current.key) &#123; childrenDirection = 'left' current = current.left &#125; else &#123; childrenDirection = 'right' current = current.right &#125; // å¦‚æœæ‰¾åˆ°å¶å­èŠ‚ç‚¹è¿˜æ²¡æœ‰ï¼Œåˆ™é€€å‡º if (current === null) &#123; return false &#125; &#125; // æ­¤æ—¶currentä¸ºè¦åˆ é™¤çš„å…ƒç´  /** * currentä¸ºä¸€ä¸ªå¶å­èŠ‚ç‚¹ */ if (current.left === null &amp;&amp; current.right === null) &#123; // å½“å‰åˆ é™¤çš„æ˜¯æ ¹èŠ‚ç‚¹ if (current === this.root) &#123; this.root = null return true &#125; // åˆ é™¤æ­¤å¶å­èŠ‚ç‚¹ parent[childrenDirection] = null return true &#125; /** * currentä¸ºä¸€ä¸ªå•å­©å­èŠ‚ç‚¹,åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹å­˜åœ¨ */ if (current.left === null || current.right === null) &#123; // å½“å‰åˆ é™¤çš„æ˜¯æ ¹èŠ‚ç‚¹ if (current === this.root) &#123; this.root = current.left ? current.left : current.right return true &#125; // åˆ é™¤å•å­©å­çš„çˆ¶èŠ‚ç‚¹ parent[childrenDirection] = current.left ? current.left : current.right &#125; /** * è·å–ä¸€ä¸ªèŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼Œå¹¶æŒ‚è½½ç›¸å…³èŠ‚ç‚¹ */ const getSucceedNode = function (deleteNode) &#123; let parent = null let current = deleteNode.right while (current.left !== null) &#123; parent = current current = current.left &#125; /** * æ­¤æ—¶currentæ˜¯è¦åˆ é™¤çš„åç»§ * 1.æ²¡æœ‰parent,ä¸éœ€è¦å¤„ç†å…¶ä»–èŠ‚ç‚¹ï¼ŒdeleteNode.right * 2.æœ‰parent,éœ€è¦å¤„ç†å…¶ä»–èŠ‚ç‚¹ï¼ŒdeleteNode.right.left.left.left */ if (parent !== null) &#123; parent.left = current.right current.right = parent &#125; current.left = deleteNode.left return current &#125; /** * currentåšä¸€ä¸ªåŒå­©å­èŠ‚ç‚¹ï¼Œæ­¤å¤„ç»Ÿä¸€ä½¿ç”¨åç»§å»ä»£ç† */ let succeedNode = getSucceedNode(current) if (current === this.root) &#123; this.root = succeedNode return true &#125; parent[childrenDirection] = succeedNode return true&#125;const bst = new BinarySearchTree()bst.insert(10)bst.insert(5)bst.insert(15)bst.insert(3)bst.insert(7)bst.insert(12)console.log(bst)const preOrderTraversalList = []bst.preOrderTraversal(key =&gt; preOrderTraversalList.push(key))console.log(preOrderTraversalList)const midOrderTraversalList = []bst.midOrderTraversal(key =&gt; midOrderTraversalList.push(key))console.log(midOrderTraversalList)const postOrderTraversalList = []bst.postOrderTraversal(key =&gt; postOrderTraversalList.push(key))console.log(postOrderTraversalList)console.log('max', bst.max())console.log('min', bst.min())console.log(bst.search(10))console.log(bst.search(12))console.log(bst.search(11))bst.delete(5)const result = []bst.preOrderTraversal(key =&gt; result.push(key))console.log(result)]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jså®ç°ç®€æ˜“HashTable]]></title>
    <url>%2F2019%2F11%2F07%2Fjs%E5%AE%9E%E7%8E%B0%E7%AE%80%E6%98%93HashTable%2F</url>
    <content type="text"><![CDATA[å“ˆå¸Œè¡¨ï¼Œæ—¢æƒ³åº”ç”¨æ•°ç»„å–æ•°æ®çš„æ–¹ä¾¿ï¼Œä½†æ˜¯æœ‰æƒ³é¿å…åœ¨æ“ä½œæ•°ç»„çš„æ—¶å€™ï¼Œç”±äºæŒ‰ç…§é¡ºåºï¼Œæ‰€ä»¥å¯¼è‡´æ•°ç»„å†…ä¼šé¢‘ç¹çš„å¢åŠ ï¼Œåˆ é™¤å…ƒç´ ï¼Œæ‰€ä»¥æ•°ç»„å†…çš„æ•°æ®ä¼šé¢‘ç¹çš„å˜æ¢åŸæœ‰çš„ä½ç½®ï¼Œè¯¸å¤šçš„ä¸åŒï¼Œæ‰€ä»¥è¯ç”Ÿå‡ºäº†hashTableè¿™ç§æ•°æ®ç»“æ„ å…¶æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåªä¸è¿‡è¿™ä¸ªæ•°ç»„ä¸åœ¨ä½¿ç”¨åŸæœ‰çš„ä¸‹æ ‡å€¼æ¥æ ‡è¯†å…ƒç´ ï¼Œè€Œæ˜¯é‡‡ç”¨æ¯ä¸€ä¸ªæ•°æ®çš„key,é€šè¿‡ä¸€ä¸ªhashå‡½æ•°æ¥è½¬æ¢ä¸ºä¸‹æ ‡å€¼ï¼Œå¯¹å¤–ç•Œæ¥è¯´ï¼Œå°±æ˜¯ä½¿ç”¨keyæ¥å°†æ•°æ®å­˜å‚¨åœ¨æ•°ç»„ä¸­ Hashå‡½æ•°(ç”Ÿæˆç¼–ç  + å‹ç¼©,å“ˆå¸ŒåŒ–)hashå‡½æ•°å°±æ˜¯å°†æ‰€å¯¹åº”çš„key,è½¬æ¢ä¸ºæ‰€å¯¹åº”çš„ç›¸å¯¹å”¯ä¸€çš„ä¸€ä¸ªå‡½æ•°å€¼ï¼Œå…¶é€šå¸¸é‡‡ç”¨çš„æ˜¯å¦‚ä¸‹çš„æ–¹å¼è¿›è¡Œè½¬æ¢ é‡‡ç”¨è´¨æ•°åœ¨æ•°è®ºä¸­çš„ç ”ç©¶å‘ç°ï¼Œä½¿ç”¨è´¨æ•°ä¼šæœ‰å¾ˆå¥½çš„å”¯ä¸€æ€§ï¼Œç­‰å…¶ä»–çš„ç‰¹æ€§ éœçº³æ³•åˆ™ï¼ˆç§¦ä¹éŸ¶ç®—æ³•ï¼‰ ä¸æˆ‘å›½å¤ä»£ï¼Œå°±æœ‰äº†ç§¦ä¹éŸ¶ç®—æ³•ï¼ŒåŸºæœ¬æ€è·¯ä¸éœçº³æ³•åˆ™ä¸€è‡´ ä¹Ÿå°±æ˜¯å¤šé¡¹å¼çš„åˆ†è§£ã€‚æ™®é€šå¤šé¡¹å¼ï¼ŒO(n^2)ä¹˜æ³•ï¼ŒO(n)åŠ æ³•ï¼Œæ”¹è¿›åO(n)ä¹˜æ³•ï¼ŒO(n)åŠ æ³•ã€‚ ä½¿ç”¨åŒä¸€ç¼–ç æ ¼å¼åœ¨javascriptä¸­ï¼Œä½¿ç”¨unicode,å³charCodeAt() å‹ç¼©ï¼Œå“ˆå¸ŒåŒ–é€šå¸¸ç”Ÿæˆçš„æ•°ç»„ä¸‹æ ‡ï¼Œå¯èƒ½å‡ åä¸‡ï¼Œä¸Šç™¾ä¸‡ï¼Œä½†æ˜¯æ•°ç»„å¹¶æœªæœ‰é‚£ä¹ˆå¤šå…ƒç´ ï¼Œæ‰€ä»¥é€‚å½“å‹ç¼©å³å¯ã€‚ï¼ˆè™½ç„¶è¿˜æ˜¯æœ‰å¯èƒ½å‹ç¼©ï¼Œä½†æ˜¯ç›¸åŒçš„æ¦‚ç‡å¤§å¤§å˜å°ï¼‰ 12345678910111213141516// å¤§éƒ¨åˆ†é‡‡ç”¨37è¿™ä¸ªè´¨æ•°/** * str e.g * s -&gt; 115 * t -&gt; 116 * r -&gt; 114 */const code = 114 * 37^2 + 116 * 37^1 + 114 * 37^0 code = ((114 * 37) + 116) * 37 + 114// é‡‡ç”¨å‹ç¼©åŒ–// ä½¿ç”¨å®¹é‡å–æ¨¡æ“ä½œå³å¯const hashIndex = code &amp; size è§£å†³å†²çªåœ¨è¿›è¡Œhashå‡½æ•°çš„æ—¶å€™ï¼Œå°½å¯èƒ½çš„ä¿è¯æ¯ä¸€ä¸ªkeyæ‰€å¯¹åº”çš„hashå€¼æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šæœ‰å†²çªçš„æƒ…å†µï¼Œè¿™é‡Œä¸»è¦æœ‰ä¸¤ç§è§£å†³æ–¹å¼ é“¾åœ°å€æ³•hashTableä¸­æ¯ä¸€ä¸ªä½ç½®ä¸å­˜å‚¨å…·ä½“çš„æ•°å€¼ï¼Œè€Œæ˜¯é‡‡ç”¨ä¸€ä¸ªæ•°ç»„/é“¾è¡¨ï¼Œä¾æ¬¡æ”¾å…¥æ•°æ®ï¼Œå½“æœ‰å†²çªå‘ç”Ÿæ—¶ç´§è·Ÿåœ¨åé¢å³å¯ï¼Œè¿™æ ·çš„æ–¹å¼å¯¹äºè§£å†³å†²çªæ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå¯¹äºå‘ç”Ÿå†²çªæ—¶ï¼Œæ•°æ®å‹å…¥ä½ç½®ä¹Ÿæ˜¯æœ‰è®²ç©¶çš„ å‹å…¥å¤´éƒ¨ï¼Œå»ºè®®é‡‡ç”¨é“¾è¡¨ï¼Œæ¯”å¦‚æœ€æ–°å‹å…¥çš„æ•°æ®æ˜¯å˜åŒ–æœ€é¢‘ç¹çš„ï¼Œ å‹å…¥å°¾éƒ¨ï¼Œå»ºè®®é‡‡ç”¨æ•°ç»„/é“¾è¡¨,æ¯”å¦‚å¾®ä¿¡æ–°å¢çš„å¥½å‹è”ç³»æ˜¯æ¯”è¾ƒå°‘çš„ï¼Œç›¸å¯¹äºè€æœ‹å‹ã€‚ å¼€æ”¾åœ°å€æ³• çº¿æ€§æ¢æµ‹ äºŒæ¬¡æ¢æµ‹ å†å“ˆå¸Œæ³• ä¹Ÿå³å‘ç”Ÿå†²çªçš„æ—¶å€™ï¼Œé‡‡ç”¨é€‚å½“çš„åŸåˆ™å¯»æ‰¾ä¸‹ä¸€ä¸ªä½ç½®ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼å¯èƒ½ä¼šé€ æˆèšé›†çš„ç°è±¡ï¼Œæ¯”å¦‚çº¿æ€§æ¢æµ‹æ³•ï¼Œå¯¹äºä¸€ç»„è¿ç»­çš„æ•°æ®ï¼Œå†²çªæ”¾ä¸‹ä¸€ä½ç­‰ï¼Œè¿™æ ·ä¸€æ¥å°±å¯èƒ½ä¼šæœ‰ä¸€æ®µç©ºé—´æ˜¯é›†ä¸­å­˜åœ¨æ•°æ®çš„ï¼Œè¿™å¯¹å“ˆå¸Œè¡¨æ€§èƒ½æ˜¯ä¼šæœ‰ä¸€å®šç¨‹åº¦çš„å½±å“ã€‚ åœ¨æŸ¥æ‰¾æ•°æ®çš„æ—¶å€™ï¼Œè¦æŒ‰ç…§æ”¾æ•°æ®çš„æ–¹å¼ï¼Œå†æ¬¡æŸ¥æ‰¾ç›´åˆ°æ‰¾åˆ°nullä¸ºæ­¢ï¼Œå¹¶ä¸”å½“æœ‰æ•°æ®åˆ é™¤çš„æ—¶å€™ï¼Œä¸èƒ½ç½®ä¸ºnull,è¿™ä¼šå¯¹åé¢çš„æ•°æ®äº§ç”Ÿå½±å“ï¼Œåº”è¯¥ç”¨å…¶ä»–æ ‡å¿—æ¥è¡¨ç¤ºã€‚ æ‰¿è½½å› å­ï¼ˆloaderFactorï¼‰è¡¨ç¤ºå½“å‰çš„å…ƒç´ æ‰€å çš„ä½ç½®ï¼Œcount / limitï¼Œé“¾åœ°å€æ³•å¯è¶…è¿‡1ï¼Œå› ä¸ºå®é™…çš„é™åˆ¶å¹¶æ²¡æœ‰ç››æ”¾å…ƒç´ ã€‚å¯¹äºå¼€æ”¾åœ°å€æ³•ï¼Œ0 &gt; loadeFactor &gt; 1,å› ä¸ºä»–å®é™…æ‰¿è½½çš„å…ƒç´ éƒ½æ˜¯æ”¾åœ¨å®¹å™¨ä¸­çš„ loaderFactory &lt; 0.25ï¼Œè¦è¿›è¡Œç¼©å®¹æ“ä½œï¼Œæ­¤æ—¶å…ƒç´ è¿‡å°‘ï¼Œä¹Ÿä¼šå½±å“æ€§èƒ½ã€‚ 0.75 &lt; loaderFactoryï¼Œè¦è¿›è¡Œæ‰©å®¹æ“ä½œï¼Œæ­¤æ—¶å…ƒç´ è¿‡å¤šï¼Œä¹Ÿä¼šå½±å“æ€§èƒ½ã€‚ ä»£ç å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212/** * hashè¡¨ç»“æ„ * æ­¤å¤„é‡‡ç”¨é“¾åœ°å€æ³•æ¥è¿›è¡ŒæŸ¥æ‰¾ */function HashTable () &#123; this.storage = [] this.count = 0 this.limit = 7&#125;/** * è·å–è¯¥keyåœ¨hashTableä¸­çš„æ•°ç»„ä¸‹æ ‡ */HashTable.prototype.hashIndex = function (key) &#123; let hashCode = 0 for (let i = 0; i &lt; key.length; i += 1) &#123; hashCode += 37 * hashCode + key.charCodeAt(i) &#125; const hashIndex = hashCode % this.limit return hashIndex&#125;/** * é€šè¿‡keyï¼Œå°†dataæ•°æ®æ”¾å…¥hashTableä¸­ * å¦‚æœkeyç›¸åŒï¼Œåˆ™ä¼šè¦†ç›–æ•°æ® */HashTable.prototype.put = function (key, data) &#123; // 1.è·å–åœ¨hashTableä¸­çš„æ•°ç»„ä¸‹æ ‡ const hashIndex = this.hashIndex(key) // 2.è·å–bucketï¼Œè·å–é“¾ let bucket = this.storage[hashIndex] // 3.åˆå§‹åŒ–æ“ä½œ if (!bucket) &#123; bucket = [] this.storage[hashIndex] = bucket &#125; let isUpdate = false // 4.åˆ¤æ–­æ˜¯å¦æ˜¯ä¿®æ”¹æ“ä½œ for (let i = 0; i &lt; bucket.length; i += 1) &#123; const tuple = bucket[i] if (tuple[0] === key) &#123; tuple[1] = data isUpdate = true break &#125; &#125; // æ­¤æ—¶æ˜¯æ–°å¢æ“ä½œ if (isUpdate === false) &#123; bucket.push([key, data]) &#125; this.count += 1 // æ‰©å®¹ if (this.count &gt; this.limit * 0.75) &#123; // æ‰¾åˆ°æ‰©å¤§2å€åï¼Œæœ€è¿‘çš„ä¸€ä¸ªè´¨æ•° const nextLimit = this.nextPrime(this.limit * 2) this.resize(nextLimit) &#125; return true&#125;/** * è·å¾—æŸä¸ªæ•°æ® */HashTable.prototype.get = function (key) &#123; // 1.è·å–åœ¨hashTableä¸­çš„æ•°ç»„ä¸‹æ ‡ const hashIndex = this.hashIndex(key) // 2.è·å–bucketï¼Œè·å–é“¾ let bucket = this.storage[hashIndex] if (!bucket) &#123; return null &#125; // è¿”å›è¯¥æ•°æ® for (let i = 0; i &lt; bucket.length; i += 1) &#123; const tuple = bucket[i] if (tuple[0] === key) &#123; return tuple[1] &#125; &#125; // æœªæ‰¾åˆ°æ•°æ® return null&#125;/** * åˆ é™¤æŸä¸ªå…ƒç´  * è¿”å›åˆ é™¤çš„å…ƒç´  */HashTable.prototype.delete = function (key) &#123; // 1.è·å–åœ¨hashTableä¸­çš„æ•°ç»„ä¸‹æ ‡ const hashIndex = this.hashIndex(key) // 2.è·å–bucketï¼Œè·å–é“¾ let bucket = this.storage[hashIndex] if (!bucket) &#123; return null &#125; let deleteElement = null for (let i = 0; i &lt; bucket.length; i += 1) &#123; const tuple = bucket[i] if (tuple[0] === key) &#123; // åˆ é™¤å…ƒç´  bucket.splice(i, 1) deleteElement = tuple[1] break &#125; &#125; if (!deleteElement) &#123; return null &#125; this.count -= 1 // ç¼©å®¹,æœ€å°‘å®¹é‡ä¸º7 if (this.count &lt; this.limit * 0.25) &#123; // æ‰¾åˆ°ç¼©å°2å€åï¼Œæœ€è¿‘çš„ä¸€ä¸ªè´¨æ•°,å¹¶ä¸”ä¸èƒ½å°äº7çš„å®¹é‡ let nextLimit = this.nextPrime(Math.floor( this.limit / 2)) nextLimit = nextLimit &lt;= 7 ? 7 : nextLimit this.resize(nextLimit) &#125; return deleteElement&#125;/** * æ”¹å˜å®¹é‡æ“ä½œ */HashTable.prototype.resize = function (size) &#123; const oldStorage = this.storage this.storage = [] this.count = 0 this.limit = size // éå†oldStorageä¸­æ¯ä¸€bucket,å¹¶ä¾æ¬¡æ·»åŠ è¿‡å» for (let i = 0; i &lt; oldStorage.length; i++) &#123; const bucket = oldStorage[i] if (!bucket) &#123; continue &#125; // ä¾æ¬¡å­˜å…¥ bucket.forEach(([key, data]) =&gt; &#123; this.put(key, data) &#125;) &#125;&#125;/** * å·¥å…·æ–¹æ³•ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºä¸€ä¸ªè´¨æ•° */HashTable.prototype.isPrime = function (num) &#123; const sqrtNum = Math.floor(Math.sqrt(num)) for (let i = 2; i &lt;= sqrtNum; i += 1) &#123; if (num % i === 0) &#123; return false &#125; &#125; return true&#125;/** * è·å¾—æœ€ä¸ºç›¸è¿‘çš„è´¨æ•°ï¼Œä¸ºå‘åæŸ¥æ‰¾ */HashTable.prototype.nextPrime = function (num) &#123; while (!this.isPrime(num)) &#123; num += 1 &#125; return num&#125;const hashTable = new HashTable()hashTable.put('key1', 'value1')hashTable.put('key2', 'value2')hashTable.put('key1', 'value11')hashTable.put('key3', 'value3')console.log(hashTable.get('key1'))console.log(hashTable.get('key2'))console.log(hashTable.get('key3'))hashTable.delete('key3')console.log(hashTable.get('key3'))]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Promiseç®€å•å®ç°]]></title>
    <url>%2F2019%2F11%2F04%2FPromise%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[Promise/A+è§„èŒƒæ˜¯Promiseå®ç°çš„å‡†åˆ™ï¼Œè¿™é‡Œåªæ˜¯å‡†å¤‡äº†æœ€åŸºæœ¬çš„ç›¸å…³åŠŸèƒ½ ç®€æ˜“ç‰ˆå¼‚æ­¥å®ç°æˆ‘ä»¬éœ€è¦åœ¨Promiseå†…éƒ¨å®šä¹‰æˆ‘ä»¬è¦æ“çºµçš„å¼‚æ­¥æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨thenä¸­ç»™ä»–æ³¨å†Œå›è°ƒï¼Œä¹Ÿå°±æ˜¯å½“æˆ‘ä»¬ä½¿ç”¨resolveçš„æ—¶å€™ï¼Œä»–æ‰ä¼šæ‰§è¡Œå›è°ƒ 1234567891011121314151617181920212223function MyPromise (fn) &#123; this.value = null this.error = null this.onFulfilled = null this.onRejected = null function resolve (value) &#123; this.value = value this.onFulfilled(this.value) &#125; function reject (error) &#123; this.error = error this.onRejected(this.error) &#125; fn(resolve, reject)&#125;MyPromise.prototype.then = (onFulfilled, onRejected) =&gt; &#123; this.onFulfilled = onFulfilled this.onRejected = onRejected&#125; ä½¿ç”¨123456new MyPromise((resolve) =&gt; &#123; // fetch resolve(data)&#125;).then(res =&gt; &#123; console.log(res)&#125;) å½“thenæ³¨å†Œå®Œå›è°ƒä¹‹åï¼Œç­‰å¾…resolveå‡½æ•°æ‰§è¡Œåï¼Œä¼šè‡ªåŠ¨è§¦å‘å›è°ƒ å­˜åœ¨çš„é—®é¢˜ å½“æ‰§è¡ŒåŒæ­¥ä»»åŠ¡çš„æ—¶å€™ï¼Œç”±äºå¼‚æ­¥ä»»åŠ¡è¿˜æ²¡æœ‰è¢«æ³¨å†Œï¼Œä»è€Œå¯¼è‡´äº†å¼‚æ­¥å›è°ƒå°šæœªæ³¨å†Œï¼Œå°±æ‰§è¡Œäº†ï¼ˆé¢ä¸´æŠ¥é”™ç­‰ï¼‰ å½“å¤šä¸ªPromiseé“¾å¼è°ƒç”¨çš„æ—¶å€™,thené‡Œæ³¨å†Œçš„éƒ½æ˜¯ç¬¬ä¸€ä¸ªPromise,ä½†æ˜¯æˆ‘ä»¬å®é™…æƒ³è¦çš„åšæ³•å´æ˜¯ï¼Œæ¯ä¸€ä¸ªPromiseæ³¨å†Œä¸€ä¸ªthen12345p1 p2 p3 p1.then(f1).then(f2).then(f3)// æœ¬æ„ï¼Œf1åšp1çš„å›è°ƒæ³¨å†Œï¼Œf2åšp2çš„å›è°ƒæ³¨å†Œï¼Œf3åšp3çš„å›è°ƒæ³¨å†Œ// ä½†æ˜¯ç”±äºé“¾å¼è°ƒç”¨è¿”å›çš„æ˜¯è‡ªèº«ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œé“¾å¼è°ƒç”¨ jQueryä¸­ï¼Œé“¾å¼è°ƒç”¨å€¼å¾—æ˜¯è¿”å›ä»–è‡ªèº«ï¼Œå› ä¸ºjQueryä½œä¸ºä¸€ä¸ªå·¥å…·ï¼Œè¿”å›è‡ªèº«å¹¶æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯Promiseå¯¹è±¡ï¼Œæ¯ä¸€ä¸ªçŠ¶æ€éƒ½åº”è¯¥æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ï¼Œæ‰€ä»¥é“¾å¼è°ƒç”¨æ—¶ï¼Œä¸èƒ½è¿”å›è‡ªèº«ï¼Œåº”è¯¥è¿”å›å¯¹åº”çš„äº§ç”Ÿæ–°çš„Promise å›ºåŒ–å®ä¾‹ï¼ŒPromiseçš„çŠ¶æ€ä¸€æ—¦æ”¹å˜ï¼Œå¹¶ä¸èƒ½å†æ¬¡å‘ç”Ÿæ”¹å˜123456789let myPromise = new Promise((resolve, reject) =&gt; &#123; // fetch /** * åªæœ‰resolveä¼šæ‰§è¡Œï¼Œå› ä¸ºçŠ¶æ€è¢«å›ºåŒ–äº† */ resolve() reject()&#125;) åŸºæœ¬ç‰ˆçš„å®ç° è¿™é‡Œå°†æ‰€æœ‰çš„ä»£ç å†™åœ¨æ­¤å¤„,å¤„äºç®€æ´çš„ç›®çš„,å¹¶ä¸æ˜¯å¾ˆå¥å£®,åªæ˜¯å°†æœ€åŸºæœ¬çš„é€»è¾‘åˆ—äº†å‡ºæ¥ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138/** * å›ºåŒ–çŠ¶æ€ */const PENDING = 'pending'const FULFILLED = 'fulfilled'const REJECTED = 'rejected'/** * ç”¨æ¥ä¼ é€’è§£æPromiseçš„æ–¹æ³• * ï¼ˆæ­¤æ–¹æ³•è¦æœ€åå†çœ‹ï¼‰ */const resolvePromise = (proxyPromise, x, resolve, reject) =&gt; &#123; if (x instanceof MyPromise) &#123; /** * å¦‚æœå½“å‰xæ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œåˆ™ç›´æ¥ç»‘å®šå›è°ƒï¼Œå¾…è¿™ä¸ªPromiseæ‰§è¡Œå®Œæ¯•åï¼Œ * è‡ªå·±resoleæ‰ï¼Œè¿™é‡Œçš„resolve,å°±æ˜¯proxyPromiseçš„resolve * å†è°ƒç”¨proxyPromiseï¼Œä¹Ÿå°±æ˜¯è®©æ–°ç”Ÿæˆçš„Promiseç»§ç»­èµ°ä¸‹å» */ x.then(resolve, reject) &#125; else &#123; /** * å¦‚æœå½“å‰xæ˜¯ä¸€ä¸ªæ™®é€šçš„å€¼ï¼Œå°±è¯´æ˜ä¸Šä¸€ä¸ªPromiseåªæ˜¯è¿”å›ä¸€ä¸ªåŒæ­¥ç»“æœ * é‚£ä¹ˆæˆ‘ä»¬åˆšåˆšåŒ…è£¹çš„é‚£å±‚Promiseå…¶å®å°±æ˜¯å¤šä½™çš„ï¼ˆåªæ˜¯é€šç”¨æ€§ï¼Œæˆ‘ä»¬éƒ½åŒ…è£¹æ–¹ä¾¿ï¼‰ * ç«‹é©¬æ”¾è¡Œå³å¯ */ resovle(x) &#125;&#125;function MyPromise (fn) &#123; let self = this self.value = null self.error = null self.status = PENDING /** * ç”±äºæˆ‘ä»¬åªä¼šä½¿ç”¨ä¸Šä¸€ä¸ªçš„Promiseçš„çŠ¶æ€ï¼Œä½†æ˜¯å…¶å›è°ƒå‡½æ•°åˆæ˜¯å†thenä¸­åˆ›å»ºçš„é‚£ä¸ªPromiseè°ƒç”¨çš„ï¼Œ * æ‰€ä»¥æ­¤å¤„ä»…ä»…ä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼Œåæ–‡ä½¿ç”¨ä¹‹å¤„ä¹Ÿä»…ä»…éƒ½æ˜¯ç”¨åˆ°self.value, self.errorè€Œå·²ï¼Œè‡³äºå›è°ƒå‡½æ•° * éƒ½ä¼šç»‘å®šåˆ°ä¸‹ä¸€ä¸ªPromiseä¸Š */ self.onFulfilled = value =&gt; value self.onRejected = error =&gt; &#123; throw error &#125; function resolve (value) &#123; // å›ºåŒ–æ€§ï¼Œåªæœ‰PENDINGçŠ¶æ€æ‰èƒ½æ‰§è¡Œ if (self.status === PENDING) &#123; self.value = value self.status = FULFILLED self.onFulfilled(self.value) &#125; &#125; function reject (error) &#123; // å›ºåŒ–æ€§ï¼Œåªæœ‰PENDINGçŠ¶æ€æ‰èƒ½æ‰§è¡Œ if (self.status === PENDING) &#123; self.error = error self.status = REJECTED self.onRejected(self.error) &#125; &#125; // æ‰§è¡ŒPromiseå‡½æ•°ä½“ fn(resolve, reject)&#125;MyPromise.prototype.then = function (onFulfilled, onRejected) &#123; const self = this let proxyPromise onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : value =&gt; value onRejected = typeof onRejected === 'function' ? onRejected : error =&gt; &#123; throw error &#125; // åªæœ‰å†PENDINGçŠ¶æ€ä¸‹æ‰èƒ½ç»‘å®šå›è°ƒ if (self.status === PENDING) &#123; proxyPromise = new MyPromise((resolve, reject) =&gt; &#123; self.onFulfilled = (value) =&gt; &#123; try &#123; /** * ç»‘å®šä¸Šä¸€ä¸ªonFulfilledå›è°ƒå‡½æ•°ä¸ºthenä¸­ä¼ é€’çš„å›è°ƒå‡½æ•° */ let x = onFulfilled(value) /** * å°†å½“å‰çš„è¿”å›å€¼å’Œæ­¤å¤„thenä¸­ç”Ÿæˆçš„proxyPromiseåšè”ç³» * ä¹Ÿå³ç¡®å®šä»€ä¹ˆæ—¶å€™å¯ä»¥è®©è¿™ä¸ªproxyPromiseç»§ç»­ä¸‹å» */ resolvePromise(proxyPromise, x, resolve, reject) &#125; catch (error) &#123; reject(error) &#125; &#125; self.onRejected = (error) =&gt; &#123; try &#123; let x = onRejected(error) resolvePromise(proxyPromise, x, resovle, reject) &#125; catch (error) &#123; reject(error) &#125; &#125; &#125;) &#125; else if (self.status === FULFILLED) &#123; // æ­¤æ—¶çŠ¶æ€å·²ç»å˜ä¸ºæ‰§è¡Œå®Œæ¯•äº†ï¼Œç›´æ¥æ‰§è¡Œè¿™é‡Œçš„thenï¼Œåªä¸è¿‡éœ€è¦ä½¿ç”¨åŸæœ¬å­˜åœ¨çš„valueå€¼ proxyPromise = new MyPromise((resolve, reject) =&gt; &#123; try &#123; let x = onFulfilled(self.value) resolvePromise(proxyPromise, x, resolve, reject) &#125; catch (error) &#123; reject(error) &#125; &#125;) &#125; else if (self.status === REJECTED) &#123; // æ­¤æ—¶çŠ¶æ€å·²ç»å˜ä¸ºè¢«æ‹’ç»äº†ï¼Œç›´æ¥æ‰§è¡Œè¿™é‡Œçš„thenï¼Œåªä¸è¿‡éœ€è¦ä½¿ç”¨åŸæœ¬å­˜åœ¨çš„errorå€¼ proxyPromise = new MyPromise((resolve, reject) =&gt; &#123; try &#123; let x = onRejected(self.error) resolvePromise(proxyPromise, x, resolve, reject) &#125; catch (error) &#123; rejected(error) &#125; &#125;) &#125; /** * æ¯æ¬¡thenç»“æŸï¼Œéƒ½ä¼šè¿”å›ä¹Ÿç»™å…¨æ–°çš„Promise,å¹¶ä¸”ç»™ä¸‹ä¸€ä¸ªthenåšä¸ºå›è°ƒå‡½æ•°æ³¨å†Œçš„å¯¹è±¡ * * p1 p2 p3 * promise.then(f1).then(f2) * è¿™é‡Œç”Ÿæˆçš„p2å…¶å®æ˜¯è‡ªåŠ¨ä¸ºp3åšæœåŠ¡ï¼Œä¹Ÿå°±æ˜¯è¾¾åˆ°äº†ä¸€ç§è™šå‡çš„é“¾å¼è°ƒç”¨æ•ˆæœï¼Œæˆ‘åé¢ä¸€ä¸ªthenè°ƒç”¨å‰ä¸€ä¸ªçš„ç»“æœ */ return proxyPromise&#125;/** * catchæ–¹æ³•å…¶å®æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œä¹‹å‰onRejectedæ–¹æ³•é»˜è®¤éƒ½å†™ä¸ºäº† error =&gt; &#123; throw error &#125; * æœ‰å› ä¸ºthenä¸­ç”Ÿæˆçš„ä»£ç†proxyPromiseçš„rejectæ–¹æ³•éƒ½æ˜¯å†try-catchä¸­æ‰§è¡Œçš„ï¼Œç”Ÿæˆçš„é”™ä¼šè¢«å±‚å±‚æŠ›å‡ºï¼Œ * ç›´åˆ°æœ€åä¸€å±‚ */MyPromise.prototype.catch = function (onRejected) &#123; this.then(null, onRejected)&#125; ä½¿ç”¨12345678910111213141516171819202122232425262728293031323334353637const p = new MyPromise(resolve =&gt; &#123; // fetch const data1 = fetchData1() resolve(data1)&#125;)const f1 = (data) =&gt; &#123; // å¤„ç†data return new MyPromise(resolve =&gt; &#123; // fetch const data2 = fetchData2() resolve(data2) &#125;)&#125;const f3 = (data) =&gt; &#123; // å¤„ç†data return new MyPromise(resolve =&gt; &#123; // fetch const data3 = fetchData3() resolve(data3) &#125;)&#125;/** * åªè¦æœ‰ä¸€ä¸ªé”™è¯¯å°±ä¼šè¢«æŠ›åˆ°æœ€å */const handleError = (error) =&gt; &#123; console.log(error)&#125;p.then(f1).then(f2).then(f3).catch(handleError) æ³¨æ„ç‚¹ è¦è¾¾åˆ°ä½¿ç”¨çš„é“¾å¼è°ƒç”¨æ•ˆæœï¼Œå°±è¦æ¯ä¸€æ¬¡thenä¸­éƒ½åº”è¯¥è¿”å›ä¸€ä¸ªæ–°çš„Promise.è¿™æ ·ä¸‹ä¸€ä¸ªthenæ‰ä¼šæ³¨å†Œåˆ°ä»– ä¸ºäº†ä¿è¯æ‰€æœ‰å¼‚æ­¥ï¼ŒåŒæ­¥æ–¹æ³•éƒ½èƒ½æ‰§è¡Œä¸‹å»ï¼Œç»Ÿä¸€è¿›è¡Œå¤„ç†ï¼Œå¦‚æœå€¼ä¸ºpromiseï¼Œåˆ™ç»™ä»–æ³¨å†Œthen,ä¹Ÿå°±æ˜¯ç­‰ä»–è¿™ä¸ªè¿”å›çš„promiseæ‰§è¡Œå®Œæ¯•åï¼Œèƒ½å¤Ÿè‡ªåŠ¨è§¦å‘æ­¤å¤„çš„proxyPromiseæ‰§è¡Œä¸‹å»ï¼Œå¦‚æœå‘ç°æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œç›´æ¥resolveæ‰å³å¯ã€‚ å…³äºå¥å£®æ€§12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152/** * è¿”å›ä¸€ä¸ªæ–°çš„promise,æ•°ç»„éå†ï¼Œè®°å½•æ‰§è¡Œå®Œçš„æ•°é‡ï¼Œç­‰åˆ°æ‰€æœ‰éƒ½æ‰§è¡Œå®Œæ¯•åï¼Œæ‰èƒ½resolveå¤§çš„ */MyPromise.prototype.all = function (promises) &#123; return new MyPromise((resolve, reject) =&gt; &#123; let count = 0 const result = [] for (let i = 0; i &lt; promises.length; i += 1) &#123; promises[i].then((data) =&gt; &#123; result[i] = data if (++count === promises.length) &#123; resolve(result) &#125; &#125;, (error) =&gt; &#123; reject(error) &#125;) &#125; &#125;)&#125;/** * è¿”å›ä¸€ä¸ªæ–°çš„promise,æ•°ç»„éå†ï¼Œåªæœ‰ä»»æ„ä¸€ä¸ªpromiseæ‰§è¡Œå®Œæ¯•å°±å¯ä»¥resovle */MyPromise.prototype.race = function (promises) &#123; return new MyPromise((resolve, reject) =&gt; &#123; for (let i = 0; i &lt; promises.length; i += 1) &#123; promises[i].then((data) =&gt; &#123; resolve(data) &#125;, (error) =&gt; &#123; rejected(error) &#125;) &#125; &#125;)&#125;/** * è¿”å›ä¸€ä¸ªç«‹å³resovle */MyPromise.prototype.resolve = function (value) &#123; return new MyPromise((resolve, reject) =&gt; &#123; resovle(value) &#125;)&#125;/** * è¿”å›ä¸€ä¸ªç«‹å³reject */MyPromise.prototype.reject = function (error) &#123; return new MyPromise((resolve, reject) =&gt; &#123; reject(error) &#125;)&#125;]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Reacté”™è¯¯è¾¹ç•Œ]]></title>
    <url>%2F2019%2F11%2F01%2FReact%E9%94%99%E8%AF%AF%E8%BE%B9%E7%95%8C%2F</url>
    <content type="text"><![CDATA[åœ¨developmentç¯å¢ƒä¸‹ï¼Œä¼šè¿½è¸ªä¸Šä¸‹æ–‡é”™è¯¯æ‰§è¡Œæ ˆï¼Œä¹Ÿå³åœ¨producetionä¸­ï¼Œå¯ä»¥çœ‹åˆ°æ•ˆæœ getDerivedStateFromErrorå°†å½“å‰æ¸²æŸ“ç»„ä»¶æ•è·erroræ—¶ï¼Œæ‰§è¡Œæ­¤æ–¹æ³•ï¼Œå¹¶ä¸”è¿”å›ç»“æœå¯¼å…¥åˆ°state 1234567891011state = &#123; hasError: false &#125;static getDerivedStateFromError (error) &#123; return &#123; hasError: true &#125;&#125;render () &#123; if (this.state.hasError) return &lt;h1&gt;Some Thing wrong&lt;/h1&gt; return this.props.children&#125; å…¶å®å°±æ˜¯åœ¨renderä¸­ä½¿ç”¨äº†ä¸€ä¸ªåˆ¤æ–­ï¼Œè€Œè¿™ä¸ªåˆ¤æ–­çš„æ”¹å˜æ˜¯åœ¨è·å–åˆ°é”™è¯¯æ—¶è§¦å‘ componentDidCatchå½“å‰çš„ç»„ä»¶æ•è·åˆ°é”™è¯¯çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œæ­¤ç”Ÿå‘½å‘¨æœŸå‡½æ•° 1234componentDidCatch (error, info) &#123; // ä¸ŠæŠ¥é”™è¯¯ä¿¡æ¯ logErrorToService(error)&#125; ä½¿ç”¨try-catchè¯¥é”™è¯¯è¾¹é™…ä»…ä»…å¤„ç†ç”±æ¸²æŸ“å¼•å‘çš„é—®é¢˜ï¼Œä¹Ÿå³è¢«ErrorBoundaryåŒ…è£¹çš„éƒ¨åˆ†ï¼Œäº‹ä»¶å¤„ç†å™¨ä¸­è¿˜æ˜¯è¦ä½¿ç”¨tryCatch 123456789101112131415// è¿™ç§æƒ…å†µå‘ç”Ÿçš„é”™è¯¯æ˜¯æ— æ³•è¢«é”™è¯¯è¾¹é™…æ•è·çš„handleToggleError = () =&gt; &#123; throw new Error('error')&#125;// äº‹ä»¶å¤„ç†ä¸­è¿˜æ˜¯è¦ä½¿ç”¨try-catchè‡ªè¡Œå¤„ç†handelToggleError = () =&gt; &#123; try &#123; throw new Error('error') &#125; catch (error) &#123; &#125;&#125;&lt;button onClick=&#123;handleToggleError&#125;&gt; toggle error &lt;/button&gt;]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Reactçš„Render-PropæŠ€æœ¯]]></title>
    <url>%2F2019%2F11%2F01%2FReact%E7%9A%84Render-Prop%E6%8A%80%E6%9C%AF%2F</url>
    <content type="text"><![CDATA[Render Propæ˜¯ä¸€ç§ç»„ä»¶ä½¿ç”¨porpsæä¾›çš„æ–¹æ³•å»æ¸²æŸ“children,å¤–éƒ¨æ–¹ä¾¿å…±äº«å†…éƒ¨æ•°æ® ä¼ ç»Ÿæ–¹å¼1234567891011121314// ç®€å•æ¸²æŸ“å­ç»„ä»¶const LinkerWrapper = (Component) =&gt; &#123; const currentLink = 'www.fe.com' const Proxy = (props) =&gt; &#123; return ( &lt;Component link=&#123;currentLink&#125; &#123;...props&#125; /&gt; ) &#125;&#125;const Outer = LinkerWrapper(Nav)// æ­¤æ—¶Outerä¸­å°±æ˜¯æœ‰linkå±æ€§çš„äº† è¿™ç§æ–¹æ³•åœ¨å£°æ˜çš„æ—¶å€™ï¼Œå°±å·²ç»ç¡®å®šäº†é«˜é˜¶ç»„ä»¶è¦æ‹“å±•ä»€ä¹ˆå±æ€§ ä½¿ç”¨Render Prop12345678910111213141516171819const Linker = (props) =&gt; &#123; const currentLink = 'www.fe.com' return props.render(currentLink)&#125;// ä¸ºlinkå±æ€§å¢åŠ å€¼const Outer = ( &lt;Linker render=&#123;(link) =&gt; (&lt;Nav link=&#123;link&#125;/&gt;) &#125; /&gt;)// ä¸ºhrefå±æ€§å¢åŠ å€¼const Outer = ( &lt;Linker render=&#123;(link) =&gt; (&lt;Nav href=&#123;link&#125;/&gt;) &#125; /&gt;) è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯æ¯”è¾ƒç®€å•ï¼Œæ‰€æœ‰çš„ç»„è£…éƒ½æ˜¯ç”¨çš„æ—¶å€™æ‰æ ¹æ®éœ€è¦è¿›è¡Œç»„è£…ï¼Œå¹¶æ²¡æœ‰ç”¨åˆ°å…¶ä»–çš„ç‰¹æ€§ï¼Œå°±æ˜¯å°†ä¸€ä¸ªporpsçš„æ–¹æ³•æŒ‡å®šä¸ºä»–çš„å­ç»„ä»¶æ¸²æŸ“çš„æ–¹æ³• ä¸ä¸€å®šæ˜¯Renderè¿™é‡Œä»…ä»…æ˜¯ç›´è§‚ï¼Œè®©äººå¯ä»¥ä¸€æ¬¡äº†è§£åˆ°ï¼Œè¿™ä¸ªå±æ€§å°±æ˜¯å°†æ¥è¦æ¸²æŸ“çš„æ—¶å€™ï¼Œä½¿ç”¨çš„porpæ–¹å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„å±æ€§å,ä»…ä»…æ˜¯ä¼ é€’ä¸€ä¸ªæ–¹æ³•åšchildrençš„ç”Ÿæˆå‡½æ•° 1234567891011const Linker = (props) =&gt; &#123; const currentLink = 'www.fe.com' return props.componentRender(currentLink)&#125;const Outer = ( &lt;Linker componentRender=&#123;(currentLink) =&gt; (&lt;Nav href=&#123;link&#125;/&gt;) &#125; /&gt;) ä½¿ç”¨childrenå±æ€§childrenå±æ€§æ¯”è¾ƒç‰¹æ®Šäº†ï¼Œå®ƒæ—¢å¯ä»¥ä½œä¸ºporpsä¼ é€’ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½œå­å…ƒç´ ä¼ é€’ porpsä¼ é€’ &lt;Button childre={&#39;click me&#39;} /&gt; å­å…ƒç´ ä¼ é€’ &lt;Button&gt;click me&lt;/Button&gt; æ‰€ä»¥å¯ä»¥ä½¿ç”¨childrenä½œä¸ºRender Propçš„ä¸€ç§å½¢å¼ï¼Œæ›´åŠ ç›´è§‚ï¼Œå…¶å®ä¼šè‡ªåŠ¨å°†å­å…ƒç´ æœ€ä¸ºchildrenå±æ€§ä¼ é€’ä¸‹å» 12345678910111213141516171819const Linker = (props) =&gt; &#123; const currentLink = 'www.fe.com' return props.children(currentLink)&#125;// æ­£å¸¸ä½œä¸ºpropså±æ€§const Outer = ( &lt;Linker children=&#123;(currentLink) =&gt; (&lt;Nav href=&#123;link&#125;/&gt;) &#125; /&gt;)// ä½œä¸ºç‰¹æ®Šçš„propså±æ€§const Outer = ( &lt;Linker&gt; &#123;link =&gt; (&lt;Nav href=&#123;link&#125;/&gt;) &#125; &lt;/Linker&gt;) æœ€å¥½ä½¿ç”¨PropTypeså£°æ˜å‡ºæ¥123Linker.propTypes = &#123; childre: PropTypes.func.isRequire&#125; ç›¸åŒchildrençš„é¡ºåºé—®é¢˜å­å…ƒç´ ä¼šè¦†ç›–childrenå±æ€§ 123456&lt;button children=&#123;'props'&#125; /&gt; =&gt; &lt;button&gt;props&lt;/button&gt;&lt;button&gt;children&lt;/button&gt; =&gt; &lt;button&gt;children&lt;/button&gt;// ä¸¤è€…éƒ½å£°æ˜çš„æƒ…å†µä¸‹ï¼Œ æœ€ç»ˆæ˜¾ç¤ºæ•ˆæœä¸º&lt;button children=&#123;'props'&#125;&gt;children&lt;/button&gt;&lt;button&gt;children&lt;/button&gt;]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mongooseå¸¸ç”¨crud]]></title>
    <url>%2F2019%2F10%2F22%2Fmongoose%E5%B8%B8%E7%94%A8crud%2F</url>
    <content type="text"><![CDATA[æ­¤å¤„å‡çœç•¥äº†å›è°ƒå‡½æ•°ï¼Œå¯ä»¥åœ¨æœ«å°¾ä½¿ç”¨å›è°ƒå‡½æ•°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨await, promiseç­‰ mongooseè¿æ¥mongoDB nodeå†…éƒ¨æä¾›äº†ä¸€ä¸ªmongoDBæ¨¡å—ï¼Œå°è£…æ•ˆæœä¸å¦‚mongoose 12345678const URL = 'mongodb://&lt;username&gt;:&lt;password&gt;@&lt;ip&gt;:&lt;port:27017å¯çœç•¥&gt;/&lt;DBName&gt;'mongoose.connect(URL, &#123; useNewUrlParser: true &#125;) .then(() =&gt; &#123; console.log(`connect mongo success`) &#125;) .catch(err =&gt; &#123; console.log('connect mongo failure', err) &#125;) ç†è§£mongooseçš„ä¸‰ä¸ªå¯¹è±¡ åº”è¯¥æœ‰ä¸€ä¸ªSchema-&gt;Model-&gt;Documentçš„è¿‡ç¨‹ Schemaçº¦æŸå¯¹è±¡ï¼Œç”¨æ¥è§„èŒƒæ–‡æ¡£çš„ç»“æ„çš„ 123const &#123; Schema &#125; = mongooseconst userSchema = new Schema(&#123; ... &#125;) Modelå¯¹åº”åˆ°MongoDBä¸­çš„é›†åˆï¼Œä¹Ÿå°±æ˜¯ä¹‹å‰å®šä¹‰è¿‡çš„ 1234const UserModel = mongoose.model('users', userSchema)// æ³¨æ„ï¼Œå®šä¹‰modelçš„åç§°çš„æ—¶å€™ï¼Œmongooseä¼šè‡ªåŠ¨è½¬æ¢æˆå¤æ•°// ç®€å•åˆ¤æ–­æ˜¯å¦sç»“å°¾ children -&gt; childrens Documentæ¯ä¸€ä¸ªcollectionä¸­çš„æ–‡æ¡£å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ“ä½œçš„æ¯ä¸ªå­˜å‚¨æ–‡æ¡£,ä¹Ÿå°±æ˜¯mongooseå–å‡ºæ¥çš„æ ·å­ 1const user = new UserModel(&#123; ... &#125;) Modelä¸Šçš„curd const UserModel = mongoose.model(&#39;users&#39;, userSchema) create1UserModel.create(&#123; ... &#125;) find123456789UserModel.find(conditions, [projection])// æ— è®ºä»€ä¹ˆæƒ…å†µéƒ½ä¼šè¿”å›ä¹Ÿç»™æ•°ç»„ []// åªèƒ½æŒ‘é€‰æ˜¾ç¤ºï¼Œæˆ–è¿‡æ»¤ &#123; email: 1, name: 0 &#125; æŠ¥é”™projection = &#123; email: 1 &#125; // å®é™…åªæœ‰email, _idå±æ€§projection = &#123; email: 0 &#125; // å…¶ä»–ï¼ˆé™¤emailï¼‰æ‰€æœ‰, _idå±æ€§// å­—ç¬¦ä¸²æŒ‘é€‰ï¼Œæœ‰åˆ™æ˜¾ç¤ºï¼Œ-_idï¼Œå¯ä»¥è¿‡æ»¤æ‰idprojection = 'email name' findOne, findById123UserModel.findOne(conditions, [projection])UserModel.findById(id, [projection])// æ­¤æ—¶ä¼šè¿”å› &#123;&#125;, æœ‰å¤šä¸ªæ¡ä»¶æ»¡è¶³ï¼Œè¿”å›ç¬¬ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰¾ä¸åˆ°ä¸ºnull count, countDocuments æç¤ºcountæ¥å£å°†è¢«å¼ƒç”¨ï¼Œä½¿ç”¨Collection.countDocumentsæ›¿ä»£ 12UserModel.countDocuments()// ç›´æ¥è¿”å›æ•°é‡ updateMany1234UserModel.updateMany(conditions, doc, [projection])// ä¿®æ”¹å¤šæ¡æ•°æ®// æ­¤æ—¶è¿”å›æ›´æ–°ç»“æœ &#123; n: 1, nModified: 1, ok: 1 &#125;ï¼Œ æ­¤æ—¶ä»…ä»…ä¸ºæ›¿æ¢// n -&gt; åŒ¹é™ª nModified -&gt; ä¿®æ”¹çš„æ¡æ•° updateOne, update12345UserModel.update(conditions, doc, [projection])UserModel.updateOne(conditions, doc, [projection])// ä¿®æ”¹ä¸€æ¡æ•°æ®ï¼Œå¤šæ¡ä»…ä¸ºç¬¬ä¸€ä¸ª// æ­¤æ—¶è¿”å›æ›´æ–°ç»“æœ &#123; n: 1, nModified: 1, ok: 1 &#125;ï¼Œ æ­¤æ—¶ä»…ä»…ä¸ºæ›¿æ¢docæŒ‡å®š// n -&gt; åŒ¹é™ª nModified -&gt; ä¿®æ”¹çš„æ¡æ•° deleteMany123UserModel.deleteMany(&#123;&#125;)// åˆ é™¤æ‰€æœ‰çš„æ•°æ®// æ­¤æ—¶è¿”å›åˆ é™¤ç»“æœ &#123; n: 1, ok: 1, deletedCount: 1 &#125; deleteOne123UserModel.deleteOne(&#123;&#125;)// åˆ é™¤å•ä¸ªæ•°æ®ï¼Œå¤šæ¡ä»…ä¸ºç¬¬ä¸€ä¸ª// æ­¤æ—¶è¿”å›åˆ é™¤ç»“æœ &#123; n: 1, ok: 1, deletedCount: 1 &#125; Documentä¸Šçš„curd è¿™é‡Œæ¨¡æ‹Ÿç›´æ¥è¿”å›äº†æ–‡æ¡£å¯¹è±¡ï¼Œå®é™…è¦æ®æƒ…å†µè€Œå®š set, get, saveåªæœ‰ä¿å­˜äº†ä¹‹åï¼Œæ‰ä¼šåŒæ­¥åˆ°æ•°æ®åº“ä¸­ 1234567891011const user = await UserModel.findById('xxx')user.get('name')user.set('name', 'newNameValue')// ä¿®æ”¹ä¹Ÿå¯ä»¥ç›´æ¥`.`æ“ä½œæœ€åï¼ŒåŒæ­¥å›å»å³å¯user.nameuser.name = 'newNameValue' user.save()// æ­¤æ—¶è¿”å›çš„æ˜¯æ›´æ–°åçš„æ•°æ®ï¼Œå³åŒæ­¥åˆ°æ•°æ®åº“ä¸­ toObject Documentå¯¹è±¡å¯ä»¥ç›´æ¥è®¿é—®idå±æ€§æŒ‡å‘_id,å½“è½¬æ¢è¿‡åï¼Œåªæœ‰_id 123const user = await UserModel.findById('xxx')user.toObject()// æ­¤æ—¶è¿”å›çš„æ˜¯æ™®é€šjså¯¹è±¡ï¼Œä¸åœ¨å…·æœ‰documentçš„ç›¸å…³æ–¹æ³•]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºwebpackä¸­proxyè·¨åŸŸ]]></title>
    <url>%2F2019%2F10%2F20%2F%E5%85%B3%E4%BA%8Ewebpack%E4%B8%ADproxy%E8%B7%A8%E5%9F%9F%2F</url>
    <content type="text"><![CDATA[ä¸»æµè·¨åŸŸ3ä¸­æ–¹å¼1.jsonp2.æœåŠ¡ç«¯é…åˆcros3.æœåŠ¡å™¨åå‘ä»£ç†ä¸»è¦è®¨è®ºç¬¬ä¸‰ç§ï¼Œåå‘ä»£ç†çš„æ–¹å¼ æƒ…æ™¯ API-cgi www.api.com åç«¯æœåŠ¡å™¨ www.rd.com å‰ç«¯æœåŠ¡å™¨ www.fe.com æˆ‘ä»¬çš„ç›®çš„æ˜¯é€šè¿‡ï¼Œwww.fe.comå»æ‹¿å–www.api.comä¸Šçš„èµ„æºï¼Œä½†ç”±äºè·¨åŸŸï¼Œæˆ‘ä»¬éœ€è¦åç«¯æœåŠ¡å™¨å¸®æˆ‘ä»¬æŠ“å–ä¸€ä¸‹ï¼Œåšä¸€æ¬¡è½¬å‘ï¼ˆåŒæºç­–ç•¥åªæ˜¯æµè§ˆå™¨åˆ¶å®šçš„ï¼‰ 12å‘è¯·æ±‚ï¼š www.fe.com -&gt; www.rd.com -&gt; www.api.comå¾—å“åº”ï¼š www.api.com -&gt; www.rd.com -&gt; www.fe.com åœ¨devServerä¸­é…ç½®ä»£ç† API-cgi www.api.com å‰ç«¯æœåŠ¡å™¨ www.fe.com æˆ‘ä»¬ä½¿ç”¨devServeræ¥æ­å»ºä¸€ä¸ªä»£ç†æœåŠ¡å™¨ 1234567891011121314// webpack.config devServerdevServer: &#123; proxy: &#123; '/api': &#123; target: 'http://www.api.com', /* è¡¨ç¤ºé‡å‘çš„è¯·æ±‚å»é™¤api,æ­¤å­—æ®µæ˜¯æˆ‘ä»¬åŠ çš„ */ pathRewrite: &#123;'^/api' : ''&#125;, changeOrigin: true, /* å¦‚æœæœ‰https, å¯é…ç½®æ­¤é¡¹ */ secure: false, &#125; &#125;,&#125;, ä¿®æ”¹å‘é€çš„è¯·æ±‚ç”±äºæˆ‘ä»¬åœ¨å¼€å‘çš„æ—¶å€™devServerï¼Œæ‰€ä»¥å‰ç«¯æœåŠ¡å™¨ä¹Ÿæ˜¯å‡è®¾åœ¨devServerï¼Œè€Œæˆ‘ä»¬çš„proxyä¹Ÿæ˜¯å‡è®¾åœ¨devServerä¸Šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å»è¯·æ±‚æˆ‘ä»¬çš„proxy 1234567# æœ¬æ„å‘è¯·æ±‚ï¼š www.fe.com -&gt; www.api.comå¾—å“åº”ï¼š www.api.com -&gt; www.fe.com# ä¿®æ”¹åå‘è¯·æ±‚ï¼š www.fe.com -&gt; www.fe.com/apiå¾—å“åº”ï¼š www.fe.com/api -&gt; www.fe.com å…¶å®æˆ‘ä»¬è¯·æ±‚äº†feä¸Šçš„proxyï¼Œä»–ä¼šå»çœŸæ­£è¯·æ±‚www.api.com,ä¹‹åæ‹¿åˆ°æ•°æ®åœ¨è¿”è¿˜ç»™æˆ‘ä»¬ï¼Œè€Œæˆ‘ä»¬æ˜¯ä¸çŸ¥é“çš„ï¼Œç”±äºå‰åéƒ½æ˜¯www.fe.comæ‰€ä»¥æ˜¯å±äºåŒæºçš„ã€‚]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¼•å…¥eslint]]></title>
    <url>%2F2019%2F10%2F20%2F%E5%BC%95%E5%85%A5eslint%2F</url>
    <content type="text"><![CDATA[node 8+, npm 3+, ä½¿ç”¨å…¶å®˜æ–¹çš„eslintè„šæ‰‹æ¶å·¥å…· å®‰è£…æ¨èå®‰è£…åˆ°devDependencies 1yarn add eslint -D åˆå§‹åŒ–12345# å…¨å±€eslint --init# æœ¬åœ°env./node_modules/.bin/eslint --init æ ¹æ®ç›¸å…³çš„æç¤ºå®‰è£…å³å¯ï¼Œè¿‡ç¨‹ä¸­å¯èƒ½è¿˜éœ€è¦åœ¨å®‰è£…ä¸€äº›å…¶ä»–çš„åŒ…eslintæ’ä»¶åœ¨npmä¸Šæœç´¢eslintpluginå³å¯çœ‹åˆ°ç›¸å…³çš„eslintæ’ä»¶ï¼Œé€‰æ‹©ä¸‹è½½å³å¯,å¹¶å‚ç…§å…¶ç›¸å…³è¯´æ˜ï¼Œåœ¨.eslintrc.jsonä¸­æ·»åŠ è§„åˆ™å³å¯]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[reactä¸­refç›¸å…³]]></title>
    <url>%2F2019%2F10%2F17%2Freact%E4%B8%ADref%E7%9B%B8%E5%85%B3%2F</url>
    <content type="text"><![CDATA[åŸºäºReact 16.8 åœ¨æŒ‚è½½refçš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸ªrefæ˜¯ç›´æ¥æŒ‚è½½åˆ°domä¸Šçš„ï¼Œé‚£ä¹ˆå½“ç»„ä»¶æŒ‚è½½å®Œæˆçš„æ—¶å€™ï¼ŒrefæŒ‡å‘çš„å°±æ˜¯DOMç¤ºä¾‹ åœ¨æŒ‚è½½refçš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸ªrefæ˜¯ç›´æ¥æŒ‚è½½åˆ°componentä¸Šçš„ï¼Œé‚£ä¹ˆå½“ç»„ä»¶æŒ‚è½½å®Œæˆçš„æ—¶å€™ï¼ŒrefæŒ‡å‘çš„å°±æ˜¯ç»„ä»¶å®ä¾‹ ç”±äºåœ¨å‡½æ•°å¼ç»„ä»¶å½“ä¸­ï¼Œæ˜¯æ²¡æœ‰å®ä¾‹çš„ï¼Œæ‰€ä»¥éƒ½æ˜¯é€šè¿‡refè½¬å‘ç›´æ¥æŒ‚è½½åˆ°å…·ä½“çš„domä¸Š åœ¨ç»„ä»¶ä¸­ä½¿ç”¨refReact.createRef()æ¥åˆ›å»ºä¸€ä¸ªref,ç„¶åè¿›è¡ŒæŒ‚è½½ ç±»å¼ç»„ä»¶12345678910111213141516171819class Component4 extends React.Component &#123; constructor () &#123; super() this.ref = React.createRef() &#125; render () &#123; const &#123; children, &#125; = this.props return ( &lt;button ref=&#123;node =&gt; this.ref = node&#125; onClick=&#123;() =&gt; &#123;console.log(this.ref)&#125;&#125; &gt; &#123;children&#125; &lt;/button&gt; ) &#125;&#125; å‡½æ•°å¼ç»„ä»¶12345678910111213141516const Component3 = (props) =&gt; &#123; const &#123; children &#125; = props const ref = React.createRef() return ( &lt;button ref=&#123;ref&#125; onClick=&#123;() =&gt; &#123;console.log(ref)&#125;&#125; &gt; &#123;children&#125; &lt;/button&gt; )&#125; åœ¨çˆ¶ç»„ä»¶ä½¿ç”¨å­ç»„ä»¶çš„ref,ä¼ é€’refåœ¨ç±»å¼ç»„ä»¶12345678910111213141516171819202122232425262728// Component1.jsclass Component1 extends React.Component &#123; constructor () &#123; super() this.buttonRef = React.createRef() &#125; render () &#123; const &#123; children, &#125; = this.props return ( &lt;button ref=&#123;node =&gt; this.buttonRef = node&#125; &gt; &#123;children&#125; &lt;/button&gt; ) &#125;&#125;// App.jsconst App = (props) =&gt; &#123; const ref2 = React.createRef() // å½“æŒ‚åœ¨å®Œæˆçš„æ—¶å€™ ref2çš„æŒ‡å‘å°±æ˜¯buttonç»„ä»¶ return ( &lt;Component2 ref=&#123;ref2&#125;&gt;Component2&lt;/Component2&gt; )&#125; æ­¤æ—¶å¦‚æœè¦åœ¨ç±»å¼ç»„ä»¶ä¸­è·å–åˆ°DOMçš„refçš„è¯ï¼Œå¯ä»¥é€šè¿‡ä¸€ç§æ›²çº¿æ•‘å›½çš„æ–¹å¼ï¼Œå°±æ˜¯ç»„ä»¶å†…éƒ¨è‡ªè¡ŒæŒ‚è½½ä¸€ä¸ªrefåˆ°thiså®ä¾‹çš„å¯¹è±¡ä¸Šï¼Œçˆ¶ç»„ä»¶é€šè¿‡è®¿é—®å­ç»„ä»¶çš„Componentçš„Refå¯¹è±¡ï¼Œæ‰¾åˆ°ä»–ç›¸åº”å†…éƒ¨æŒ‚è½½çš„DOMçš„refå³å¯ æ¯”å¦‚åœ¨ä¸Šä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ref1.buttonRefæ‹¿åˆ°buttonçš„DOMå¯¹è±¡ åœ¨å‡½æ•°å¼ç»„ä»¶12345678910111213141516171819// Component2.jsconst Component2 = React.forwardRef((props, ref) =&gt; &#123; const &#123; children &#125; = props return ( &lt;button ref=&#123;ref&#125;&gt;&#123;children&#125;&lt;/button&gt; )&#125;)// App.jsconst App = (props) =&gt; &#123; const ref1 = React.createRef() // å½“æŒ‚åœ¨å®Œæˆçš„æ—¶å€™ ref1çš„æŒ‡å‘å°±æ˜¯å­ç»„ä»¶Component1å®ä¾‹ return ( &lt;Component1 ref=&#123;ref1&#125;&gt;Component1&lt;/Component1&gt; )&#125;]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsåŸå‹é“¾ç›¸å…³]]></title>
    <url>%2F2019%2F10%2F15%2Fjs%E5%8E%9F%E5%9E%8B%E9%93%BE%E7%9B%B8%E5%85%B3%2F</url>
    <content type="text"><![CDATA[é¦–å…ˆæ˜¯__proto__æ˜¯ä¸æ¨èä½¿ç”¨çš„ï¼Œè¿™æ˜¯å¤§éƒ¨åˆ†æµè§ˆå™¨å†…éƒ¨ä½¿ç”¨çš„ä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯ç”±äºå¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½æ”¯æŒä»–äº†ï¼Œæ‰€ä»¥ESâ€™è¢«è¿«â€™å°†è¿™ä¸ªå±æ€§å†™åˆ°äº†é™„å½•é‡Œé¢ï¼Œä½†æ˜¯ä¹Ÿåªæ˜¯åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­æ”¯æŒï¼Œå…¶ä»–ç¯å¢ƒä¸æ¨èæ”¯æŒè¯¥å±æ€§ï¼Œåº”è¯¥ä½¿ç”¨Object.getPrototypeOf()æ¥è·å–å¯¹è±¡ä¸Šçš„åŸå‹ prototypeå±æ€§ å½“ä¸€ä¸ªå‡½æ•°è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œä»–çš„åŸå‹å¯¹è±¡å°±è¯ç”Ÿäº† è¯¥å±æ€§æ˜¯å‡½æ•°ä¸Šç”¨æ¥ä½¿ç”¨çš„ï¼Œä¸ºä»€ä¹ˆåªæœ‰å‡½æ•°æ‰æœ‰è¯¥å±æ€§äº†ï¼Œåº”ä¸ºjsä½¿ç”¨å¯¹è±¡æ¥newå¯¹è±¡çš„æ—¶å€™ï¼Œprototypeå°±æ˜¯æŒ‡å‘çš„ä»–çš„æ„é€ å™¨ï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªå‡½æ•°å…¶å®éƒ½æœ‰å¯èƒ½æˆä¸ºä¸€ä¸ªæ„é€ å™¨ï¼Œå¯ä»¥ç”¨æ¥newçš„ï¼Œè‡ªç„¶ä»–ä»¬å°±éœ€è¦æŒ‚è½½ä¸€ä¸ªå…¬å…±çš„æŒ‡å‘å¯¹è±¡ï¼Œç”¨æ¥ä¿å­˜ä¸€äº›å…¬å…±çš„æ–¹æ³•ï¼Œç”¨æ¥èŠ‚çœç©ºé—´ã€‚ä¹Ÿå°±æœ‰äº†prototypeæ‰§è¡Œæ„é€ å™¨ã€‚ æ‰€ä»¥__proto__ === prototype === Object.getPrototypeOf() newçš„æ—¶å€™å…¶å®å°±æ˜¯ä»Objectç»§æ‰¿ä¸ªå¯¹è±¡ï¼ŒæŒ‚è½½åŸå‹ï¼Œç„¶åæŠŠå®ƒç»‘å®šæ„é€ å™¨æ‰§è¡Œ ä»€ä¹ˆæ˜¯åŸå‹é“¾ 1234567891011â‘  fooçš„æ„é€ å™¨function Foo () &#123;&#125; çš„åŸå‹, Foo.prototypeâ‘¡ å‡½æ•°çš„æ„é€ å™¨function Function () &#123;&#125; çš„åŸå‹, Function.prototypeâ‘¢ å¯¹è±¡çš„æ„é€ å™¨function Object () &#123;&#125; çš„åŸå‹, Object.prototypeâ‘£ å‡½æ•°çš„æ„é€ å™¨function Function () &#123;&#125; çš„åŸå‹, Function.prototypeâ‘¤ functionï¼Œç”±new Function()åˆ›é€ å‡ºæ¥çš„çš„æ„é€ å™¨function Function () &#123;&#125; çš„åŸå‹, Function.prototypeâ‘¥ function Function æ˜¯æœ€ç‰¹æ®Šçš„, ä»–çš„åŸå‹å¯¹è±¡__prop__å°±æ˜¯ä»–çš„proptypeå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ Function.prototype Object.prototype.__proto__æŒ‰é“ç†Object.prototype.__proto__ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåº”è¯¥æŒ‡å‘Objectçš„æ„é€ å™¨çš„åŸå‹å³ï¼ŒObject.prototype,ä½†æ˜¯è¿™æ ·å°±é€ æˆäº†å¾ªç¯çš„é‡å¤å¼•ç”¨ï¼Œå¯¼è‡´å¯»æ‰¾ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Šçš„å±æ€§æ–¹æ³•æ—¶ï¼Œæ°¸è¿œæ‰¾ä¸åˆ°å°½å¤´,æ‰€ä»¥ä¸ºnull prototypeä¸constructoræ„é€ å‡½æ•°æ‹¥æœ‰ä¸€ä¸ªprototypeå±æ€§ï¼ŒæŒ‡å‘çš„æ˜¯åŸå‹å¯¹è±¡ï¼Œç„¶è€ŒåŸå‹å¯¹è±¡ä¸Šï¼Œæœ‰ä¸€ä¸ªå±æ€§æŒ‡å‘çš„constructorå±æ€§æŒ‡å‘çš„æ˜¯æ„é€ å™¨çš„é‚£ä¸ªå‡½æ•° å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦åœ¨å¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Šåˆ¤æ–­æ˜¯å¦åœ¨æˆ‘è‡ªå·±çš„åŸå‹é“¾ä¸Šobject instanceof constructor123456let Foo = function () &#123;&#125;let fooObject = new Foo()fooObject instanceof Foo // truefooObject instanceof Functino // falsefooObject instanceof Object // true åˆ¤æ–­æ˜¯å¦åœ¨åˆ«äººçš„åŸå‹é“¾ä¸ŠprototypeObj.isProptotypeOf(object)123456let Foo = function () &#123;&#125;let fooObject = new Foo()Foo.isProptotypeOf(fooObject) // trueFunction.isProptotypeOf(fooObject) // falseObject.isProptotypeOf(fooObject) // true å¦‚ä½•æ‹’ç»åŸå‹é“¾ï¼Œåªçœ‹è‡ªå·±èº«ä¸Šçš„å±æ€§hasOwnProperty1234let obj = &#123; age: 18 &#125;obj.hasOwnProperty('age') // trueobj.hasOwnProperty('toString') // false å®æˆ˜ï¼ˆåˆ¤æ–­å¯¹è±¡ä¸Šçš„å±æ€§ï¼‰1234567891011121314151617181920function foo () &#123; this.some = '222' let ccc = 'ccc' foo.okkoro = 'okkoro' foo.prototpye.a = 'aaa'&#125;foo.koro = 'koro'foo.prototpye.test = 'test1'let foo1 = new foo ()foo1.prototpye.test = 'test2'// æœ€ç»ˆfoo1ä¸Šçš„å±æ€§ï¼ˆä»…è¯´æ˜ä¸æ­¤é¢˜ç›¸å…³çš„ï¼‰foo: &#123; some: '222' __proto__: &#123; a: 'aaa', test: 'test2' &#125;&#125; é¦–å…ˆè¦æ˜ç™½newçš„æ—¶å€™ï¼Œé¦–å…ˆä»objectç»§æ‰¿äº†ä¸€ä¸ªå¯¹è±¡è¿‡æ¥ï¼Œç„¶åæŠŠå½“å‰æ„é€ å™¨çš„åŸå‹ç»™ä»–äº†ä»–ï¼Œä»–çš„åŸå‹ä¸Šå°±æœ‰äº†a,ä¹‹ååˆæ‰‹åŠ¨æŒ‚è½½äº†ä¸€ä¸ªtest,(åé¢è¢«ä¿®æ”¹æ‰äº†ï¼Œå› ä¸ºæ€»æ˜¯æŒ‡å‘çš„å…³ç³») åœ¨å®é™…çš„å±æ€§ä¸Šï¼Œfoo1ä»…æœ‰someä¸€ä¸ªå±æ€§ï¼Œä¹Ÿå°±æ˜¯æ„é€ å‡½æ•°ä¸­thisçš„æ•ˆæœ è‡³äºokkoro,koroè¿™ä¸¤ä¸ªå±æ€§ä»…ä»…æ˜¯fooçš„é™æ€å±æ€§ï¼Œé€šè¿‡foo1æ˜¯æ— æ³•è®¿é—®åˆ°çš„ï¼Œå› ä¸ºfoo1å’Œfooçš„å…³ç³»ä»…ä»…æ˜¯åŸå‹å¯¹è±¡ä¸Šçš„å…³ç³»ï¼Œå®é™…æŒ‚è½½çš„å±æ€§æ˜¯ä¸ç›¸è”ç³»çš„ã€‚]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nginxé…ç½®spaå‰ç«¯å·¥ç¨‹]]></title>
    <url>%2F2019%2F10%2F13%2Fnginx%E9%85%8D%E7%BD%AEspa%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[spaåº”ç”¨æœ€ç»ˆæ‰“åŒ…çš„distä¸­ï¼Œæ˜¯ä¼šä»¥index.htmlä½œä¸ºå…¥å£æ–‡ä»¶ï¼Œå¦‚æœä¸€æ—¦ä½¿ç”¨browserURLçš„è¿™ç§æ–¹å¼æ¥åšè·¯ç”±çš„è·³è½¬ï¼Œé‚£ä¹ˆåœ¨éƒ¨ç½²çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹é—®é¢˜ 1234567www.blog.comåœ¨æ­£å¸¸æƒ…å†µä¸‹,åœ¨åº”ç”¨å†…ï¼Œè·³è½¬å¼æ²¡é—®é¢˜çš„www.blog.com/profiewww.blog.com/artcileå¦‚æœæ˜¯åˆ·æ–°ç½‘é¡µï¼ŒæœåŠ¡å™¨å°±ä¼šæç¤ºã€‚profileèµ„æºä¸å­˜åœ¨ï¼Œè¿™æ˜¯ç”±äºè·¯ç”±å¯¼è‡´çš„ï¼Œæˆ‘ä»¬åœ¨spaå†…è§£æçš„è·¯ç”±æ²¡æœ‰æ­£ç¡®çš„è¢«è¯†åˆ«ï¼Œåè€Œå½“æˆäº†ä¸€ç§èµ„æº åœ¨nginxçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œè¦ä½¿ç”¨å¦‚ä¸‹çš„é…ç½® 123456789101112131415161718server &#123; listen 8080; server_name localhost; root /usr/project/dist; index index.html; location / &#123; try_files $uri $uri/ @router; index index.html; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; &#125; location @router &#123; rewrite ^.*$ /index.html break; &#125; &#125;]]></content>
      <tags>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsä¸­EventLoopç›¸å…³]]></title>
    <url>%2F2019%2F10%2F13%2F%E7%AE%80%E5%8D%95%E4%BA%86%E8%A7%A3EventLoop%2F</url>
    <content type="text"><![CDATA[æµè§ˆå™¨ä¸­çš„EventLoopä¸nodeä¸­çš„EventLoopæ˜¯ä¸åŒçš„ åœ¨jsä¸­ï¼Œæ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥åªèƒ½æŠŠä»»åŠ¡æ”¾è¿›ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œä¾æ¬¡è°ƒç”¨è¿™ä¸ªé˜Ÿåˆ—æ¥å®Œæˆæ‰€æœ‰äº‹æƒ… å¯ä»¥æƒ³è±¡æˆjså°±æ˜¯ä¸€ä¸ªå…¬äº¤è½¦ï¼Œæ‰€æœ‰çš„ä»»åŠ¡è¿‡æ¥å…ˆæ’é˜Ÿï¼Œç­‰åˆ°äº†æ—¶é—´å…¬äº¤è½¦ä¼šè¿‡æ¥ä¸€è¶Ÿæ‹‰èµ°ï¼Œæ­¤æ—¶ä¸ç®¡ç°åœ¨æ˜¯ä»€ä¹ˆæƒ…å†µï¼Œä»–åªä¼šå°†å½“å‰çš„äººæ‹‰èµ°ï¼Œè‡³äºè¿˜æ²¡æœ‰åˆ°çš„äººå°±åªèƒ½ç­‰ä¸‹ä¸€è¶Ÿå…¬äº¤è½¦ã€‚ å¦‚ä½•æ‰§è¡Œå¼‚æ­¥æ“ä½œçš„å½“æ‰§è¡Œåˆ°å¼‚æ­¥ä»»åŠ¡çš„æ—¶å€™ï¼Œé¦–å…ˆä»–ä¼šå°†æ­¤ä»»åŠ¡äº¤ç»™ Event tableå»å¤„ç†ï¼Œç­‰åˆ°å¼‚æ­¥æ“ä½œç»“æŸçš„æ—¶å€™ï¼Œå†å‹å…¥ä»»åŠ¡é˜Ÿåˆ—task queen,æ‰€ä»¥åœ¨äº‹ä»¶å¾ªç¯çš„æ—¶å€™ï¼Œä»–å¹¶ä¸ä¼šå»äº†è§£è¿™ä¸ªä»»åŠ¡æ˜¯å¦ç»å®Œæˆï¼ˆå…¬äº¤å¸æœºï¼Œè§æœ‰äººä»–å°±æ‹‰èµ°ï¼Œå¦‚æœé‚£ä¸ªäººæœ‰äº‹æš‚æ—¶è¿˜æ¥ä¸äº†ï¼Œé‚£å°±ç­‰ä¸‹ä¸€ç­è½¦ï¼Œä»¥æ­¤ç±»æ¨ï¼‰ï¼Œæ‰€ä»¥ä¸€æ—¦ä»»åŠ¡å®Œæˆï¼Œå°±å°†æ³¨å†Œçš„å›è°ƒä»»åŠ¡å‹å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼ŒEventLoopåšå®Œå½“å‰ä»»åŠ¡é˜Ÿåˆ—çš„äº‹æƒ…æ—¶å€™ï¼Œå†æ¥æ‰§è¡Œä»– setTimeoutçš„é—®é¢˜123456789101112131415161718192021// æ­¤æ—¶æ‰§è¡Œä¸‹æ¥æ€»è€—æ—¶4731let startTime = new Date().getTime();setTimeout(()=&gt;&#123; console.log(`å¼€å§‹æ‰§è¡Œå›è°ƒçš„ç›¸éš”æ—¶å·®ï¼š$&#123;new Date().getTime()-startTime&#125;`);&#125;, 1000);for(let i = 0;i&lt;40000;i++)&#123; console.log(1)&#125;/* å¦‚æœå°†setTimeoutçš„å»¶æ—¶å»é™¤ */// æ­¤æ—¶æ‰§è¡Œä¸‹æ¥æ€»è€—æ—¶4698let startTime = new Date().getTime();setTimeout(()=&gt;&#123; console.log(`å¼€å§‹æ‰§è¡Œå›è°ƒçš„ç›¸éš”æ—¶å·®ï¼š$&#123;new Date().getTime()-startTime&#125;`);&#125;, 0);for(let i = 0;i&lt;40000;i++)&#123; console.log(1)&#125; å¯ä»¥çœ‹åˆ°è¿è¡Œçš„æ—¶é—´å¹¶æ²¡æœ‰ç”±äºè¿è¡Œç»“æœè€Œæ”¹å˜ï¼Œæ˜¯å› ä¸ºæ­¤æ—¶çš„timeoutåœ¨å‹å…¥task queençš„æ—¶å€™ï¼Œä¸»çº¿ç¨‹è¿˜æœ‰ä»»åŠ¡æ²¡æœ‰æ‰§è¡Œå®Œï¼Œæ‰€ä»¥ä¹Ÿå°±é€ æˆäº†å½“å‰å·²ç»æœ‰æ–°ä»»åŠ¡å‹å…¥äº†ï¼Œä½†æ˜¯æ²¡æœ‰æ¥å¾—åŠè¿è¡Œ 123456789101112131415161718192021ä»»åŠ¡æ¯”è¾ƒç©ºçš„æ—¶å€™ï¼Œä¼šå¾—åˆ°åŠæ—¶çš„ç›¸åº”ä¸»çº¿ç¨‹ ä»»åŠ¡é˜Ÿåˆ— 1 | 2 | | | 3 3 | ä»»åŠ¡æ¯”è¾ƒæ»¡çš„æ—¶å€™ï¼Œé€ æˆäº†å»¶è¿Ÿï¼Œå®šæ—¶å™¨ä¸å‡†ä¸»çº¿ç¨‹ ä»»åŠ¡é˜Ÿåˆ— 1 | 1 | 1 | 1 | 2 1 | 1 | 1 | 2 | micro-task &amp; macro-taské™¤å»åŒæ­¥ï¼Œå¼‚æ­¥çš„è§’åº¦æ¥çœ‹ï¼Œè¿˜å¯ä»¥åˆ†ä¸ºå¾®ä»»åŠ¡ï¼ˆé™¤å»Process.nextTickã€Promise.then catch finally(æ³¨æ„æˆ‘ä¸æ˜¯è¯´ Promise)ã€MutationObserverï¼‰ï¼Œå…¶ä»–éƒ½å¯ä»¥å½“åšå®ä»»åŠ¡ã€‚mirco-taskçš„å¥½å¤„å°±æ˜¯ï¼Œä»–å¯ä»¥æ’é˜Ÿï¼Œå¦‚æœæœ‰ä¸ªsetTimeoutï¼Œå·²ç»æ‰§è¡Œå®Œäº†ï¼Œåœ¨quenTaskä¸­ç­‰å¾…äº†ï¼Œpromise.thenå¯ä»¥å…ˆä¸ä»–æ‰§è¡Œ 12345678910111213141516console.log('script start');setTimeout(function() &#123; console.log('setTimeout');&#125;, 0);Promise.resolve().then(function() &#123; console.log('promise1');&#125;).then(function() &#123; console.log('promise2');&#125;);// script start// promise1// promise2// setTimeout nodeåˆ™å°†EventLoopåˆ†ä¸º6ä¸ªé˜¶æ®µï¼ˆä¾æ¬¡å¾ªç¯ï¼‰ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªé˜¶æ®µéƒ½æ˜¯ä¸€ç±»çš„marco-taskçš„task queue timersï¼š æ‰§è¡ŒsetTimeout, setIntervalä¸­çš„åˆ°æœŸçš„callback pending callback: ä¸Šä¸€è½®å¾ªç¯ä¸­å°‘æ•°çš„I/O,callbcakä¼šå»¶è¿Ÿåˆ°è¿™é‡Œæ‰§è¡Œ idle,prepare: ä»…åœ¨å†…éƒ¨ä½¿ç”¨ poll æœ€ä¸ºé‡è¦çš„é˜¶æ®µï¼Œæ‰§è¡ŒI/Oç­‰ï¼Œcallback check æ‰§è¡ŒsetImmediateçš„callback close æ‰§è¡Œcloseçš„callbackäº‹ä»¶ timersè™½ç„¶å®šæ—¶å™¨ä»»ç„¶æ˜¯ä¸å‡†ç¡®çš„ï¼Œä½†æ˜¯å°†timersæ”¾åˆ°äº†EventLoopçš„æœ€å‰é¢ï¼Œä¹Ÿæ˜¯ä¸ºäº†ä¿è¯ï¼Œå°½é‡å‡†æ—¶æ‰§è¡Œå®šæ—¶å™¨ä»»åŠ¡ poll æ‰§è¡ŒI/O,callback å¤„ç†poll queueä¸­çš„taskä»»åŠ¡ taskæœ‰ä»»åŠ¡ï¼Œæ‰§è¡Œä»–ï¼Œä¸€ç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºæˆ–è€…ç³»ç»Ÿç›¸å…³é™åˆ¶ taskä¸ºç©ºï¼Œä¼šå»çœ‹æ˜¯å¦æœ‰setImmediate,æœ‰åˆ™ç›´æ¥è·³åˆ°checkï¼Œå¦åˆ™åœ¨è¿™é‡Œé˜»å¡ç­‰å¾… å…¶ä»–çš„ä¸€äº›é˜¶æ®µä¼šæœ‰ç‰¹æ®Šæ‰§è¡Œï¼Œæ¯”å¦‚socket,closeçš„æ—¶å€™ï¼Œå°±ä¼šåˆ°closeå»æ‰§è¡Œ process.nextTickä»–æ˜¯ä¸€ä¸ªç»ˆææ’é˜Ÿç‹ï¼Œæ¯”micro-taskè¿˜å‰å®³ å…³äºmicro-taskä¸macro-task123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990//nodeconsole.log('1');setTimeout(function() &#123; console.log('2'); process.nextTick(function() &#123; console.log('3'); &#125;) new Promise(function(resolve) &#123; console.log('4'); resolve(); &#125;).then(function() &#123; console.log('5') &#125;)&#125;)process.nextTick(function() &#123; console.log('6');&#125;)new Promise(function(resolve) &#123; console.log('7'); resolve();&#125;).then(function() &#123; console.log('8')&#125;)setTimeout(function() &#123; console.log('9'); process.nextTick(function() &#123; console.log('10'); &#125;) new Promise(function(resolve) &#123; console.log('11'); resolve(); &#125;).then(function() &#123; console.log('12') &#125;)&#125;)// 1 // 7 // 6 // 8 // 2 // 4 // 9 // 11 // 3 // 10 // 5 // 12 // chrome console.log('1');setTimeout(function() &#123; console.log('2'); new Promise(function(resolve) &#123; console.log('4'); resolve(); &#125;).then(function() &#123; console.log('5') &#125;)&#125;)new Promise(function(resolve) &#123; console.log('7'); resolve();&#125;).then(function() &#123; console.log('8')&#125;)setTimeout(function() &#123; console.log('9'); new Promise(function(resolve) &#123; console.log('11'); resolve(); &#125;).then(function() &#123; console.log('12') &#125;)&#125;)// 1// 7// 8// 2// 4// 5// 9// 11// 12 è‡³äºnodeä¸­ï¼ŒsetTimeoutä¸­æ˜¯åŒä¸€ç±»çš„macro-taskï¼Œæ‰€ä»¥ä»–ä»¬ä¼šå…¨éƒ¨æ‰§è¡Œå®Œï¼Œç­‰å¾…åˆ‡æ¢çš„æ—¶å€™ï¼Œåœ¨æ‰§è¡Œmicro-task,ç„¶è€Œåœ¨chromeä¸­ï¼Œæ¯ä¸€ä¸ªmacro-taskæ˜¯å•ç‹¬æ‰§è¡Œçš„ï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œçš„æ—¶å€™ï¼Œéƒ½æœ‰æœºä¼šå»åšmacro-task]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[éƒ¨ç½²yapiä¸ä½¿ç”¨å®ˆæŠ¤è¿›ç¨‹supervisor]]></title>
    <url>%2F2019%2F10%2F10%2F%E9%83%A8%E7%BD%B2yapi%2F</url>
    <content type="text"><![CDATA[å¤šæ¬¾APIæ–‡æ¡£ç®¡ç†å·¥å…·éƒ½ä½“éªŒäº†ä¸€ä¸‹ï¼Œä»å¼€æºä»¥åŠåæœŸç»´æŠ¤æ¥è¯´ï¼Œyapiç¡®å®æ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œç”±å»å“ªå‰ç«¯å›¢é˜Ÿå‡ºå“ï¼Œå¹¶ä¸”ä¸€ç›´åœ¨ç»´æŠ¤ï¼Œè™½ç„¶ç›¸æ¯”åŒè¡Œä¸šeolinkeræ¥è¯´ï¼Œè¿˜æ˜¯æœ‰ä¸€å®šè·ç¦»ï¼Œä½†æ˜¯å¯¹äºå†…ç½‘éƒ¨ç½²ï¼Œä½¿ç”¨æ¥è¯´ï¼Œyapiç¡®å®æ˜¯ä¸é”™çš„é€‰æ‹©äº†ã€‚ å®‰è£…MongoDB é…ç½®é˜¿é‡Œyumæº 1234567891011cd /etc/yum.repos.d/# æ·»åŠ æºvim mongodb-org.repo# mongodb-org.repo[mongodb-org]name=MongoDB Repositorybaseurl=http://mirrors.aliyun.com/mongodb/yum/redhat/7Server/mongodb-org/3.2/x86_64/gpgcheck=0enabled=1 æ›´æ–°yumæº 1yum update 3.å®‰è£…MongoDB12yum install -y mongodb-orgservice mongod start å®‰è£…YApiéƒ¨ç½²cli1npm install -g yapi-cli --registry https://registry.npm.taobao.org ä½¿ç”¨é¡µé¢é…ç½®ï¼ˆæ‰“å¼€9090ç«¯å£ï¼‰1yapi server é…ç½®12345678910111213vim config.json# å»ºè®®ä½¿ç”¨163é‚®ç®±ï¼Œæ•ˆæœæ¯”è¾ƒå¥½ "mail": &#123; "enable": true, "host": "smtp.163.com", "port": 465, "from": "å¯ç”¨äºå‘é€é‚®ä»¶çš„163é‚®ç®±", "auth": &#123; "user": "163é‚®ç®±", "pass": "163é‚®ç®±å¯¹åº”çš„å¯†ç æˆ–æˆæƒç " &#125;&#125; å¯åŠ¨åˆ‡æ¢åˆ°å®‰è£…ç›®å½•ä¸‹ï¼Œä½¿ç”¨nodeå¯åŠ¨æœåŠ¡1node vendors/server/app.js æ€»çš„æ¥è¯´å®‰è£…è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œæ˜¯ä¸€æ¬¾éå¸¸ä¸é”™çš„å·¥å…·ï¼Œå¹¶ä¸”å®‰è£…ä¹Ÿå¾ˆå®¹æ˜“ ä½¿ç”¨Supervisorå®ˆæŠ¤å®‰è£…12yum install python-setuptools -yeasy_install supervisor ä¿®æ”¹é…ç½®12345678910# åˆ›å»ºç›®å½•mkdir /etc/supervisor# åˆ›å»ºæ¨¡æ¿æ–‡ä»¶echo_supervisord_conf &gt; /etc/supervisor/supervisord.conf# æ·»åŠ è‡ªå®šä¹‰é…ç½®vim /etc/supervisor/supervisord.conf# supervisord.conf è¿½åŠ ï¼ŒåŠ è½½ç›®å½•ä¸‹çš„æ–‡ä»¶[include]files = conf.d/*.conf å¢åŠ YApi.conf1234567891011vim /etc/supervisor/conf.d/YApiGhost.conf# YApiGhost.conf[program: YApiGhost]command=node vendors/server/app.jsdirectory=/usr/yapi/yapiautorestart=truestderr_logfile=/var/log/YApiGhost.err.logstdout_logfile=/var/log/YApiGhost.out.loguser=rootstopsignal=INT å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹1supervisord -c /etc/supervisor/supervisord.conf è®¾ç½®å¼€æœºå¯åŠ¨1234567891011121314151617vim /usr/lib/systemd/system/supervisord.service# supervisord.service[Unit]Description=Supervisor daemon[Service]Type=forkingExecStart=/usr/bin/supervisord -c /etc/supervisor/supervisord.confExecStop=/usr/bin/supervisorctl shutdownExecReload=/usr/bin/supervisorctl reloadKillMode=processRestart=on-failureRestartSec=42s[Install]WantedBy=multi-user.target è®¾ç½®å¼€æœºå¯åŠ¨1systemctl enable supervisord ä½¿ç”¨supervisorctlç®¡ç†12345678910# å¼€å¯supervisord -c /etc/supervisor/supervisord.conf# å…³é—­supervisorctl shutdownsupervisorctlstop &lt;Service name&gt;start &lt;Service name&gt;restart &lt;Service name&gt;]]></content>
      <tags>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸é€‚åˆä½¿ç”¨ç®­å¤´å‡½æ•°çš„åœºæ™¯]]></title>
    <url>%2F2019%2F10%2F10%2F%E4%B8%8D%E9%80%82%E5%90%88%E4%BD%BF%E7%94%A8%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E7%9A%84%E5%9C%BA%E6%99%AF%2F</url>
    <content type="text"><![CDATA[ç®­å¤´å‡½æ•°æ— æ³•ç»‘å®šthis12345678910111213const fn1 = (p) =&gt; &#123; console.log(p) console.log(this)&#125;function fn2 (p) &#123; console.log(p) console.log(this)&#125;fn1.apply(&#123;name: 'zzz'&#125;, ['fn1']) // fn1 undefinedfn2.apply(&#123;name: 'zzz'&#125;, ['fn2']) // fn2 &#123; name: 'zzz' &#125;fn1.call(&#123;name: 'zzz'&#125;, 'fn1') // fn1 undefinedfn2.call(&#123;name: 'zzz'&#125;, 'fn2') // fn2 &#123; name: 'zzz' &#125; åœ¨å¯¹è±¡å†…ä½¿ç”¨éœ€è¦æ³¨æ„çš„å®šä¹‰å­—é¢é‡çš„æ–¹æ³•åœ¨å¯¹è±¡å†…å®šä¹‰æ–¹æ³•çš„æ—¶å€™ï¼Œå¦‚æœè¯¥æ–¹æ¡ˆä½¿ç”¨åˆ°äº†thisï¼Œé‚£ä¹ˆåˆ™éœ€ä¸ºä¼ ç»Ÿå‡½æ•°çš„å½¢å¼123456789101112131415161718192021// é”™è¯¯çš„ä½¿ç”¨const calculator = &#123; array: [1, 2, 3], sum: () =&gt; &#123; console.log(this) // thisæŒ‡å‘çš„æ˜¯å¤–éƒ¨windowå¯¹è±¡ return this.array.reduce((result, item) =&gt; result + item, 0) &#125;&#125;// æ­£ç¡®çš„ä½¿ç”¨const calculator = &#123; array: [1, 2, 3], sum1: function () &#123; console.log(this) // æŒ‡å‘å¯¹è±¡æœ¬èº« return this.array.reduce((result, item) =&gt; result + item, 0) &#125;, sum2 () &#123; // å’Œä¸Šé¢æ˜¯ä¸€æ ·çš„ console.log(this) // æŒ‡å‘å¯¹è±¡æœ¬èº« return this.array.reduce((result, item) =&gt; result + item, 0) &#125;&#125; å®šä¹‰åŸå‹ä¸Šçš„æ–¹æ³•åŸå‹ä¸Šå®šä¹‰çš„æ–¹æ³•ï¼Œæœ‰æ—¶ç›®çš„å°±æ˜¯å–åˆ°å¯¹è±¡thisï¼Œè¿›è¡Œæ“ä½œï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°çš„å½¢å¼123456789101112131415function Cat(name) &#123; this.name = name;&#125;// æ­£ç¡®çš„ä½¿ç”¨æ–¹å¼Cat.prototype.sayCatName = function () &#123; console.log(this) // catå®ä¾‹ return this.name&#125;// é”™è¯¯çš„ä½¿ç”¨æ–¹å¼Cat.prototype.sayCatName = () =&gt; &#123; console.log(this); // =&gt; window return this.name; // å¤–éƒ¨å–ä¸åˆ°å°±ä¼šæŠ¥é”™&#125;; å®šä¹‰äº‹ä»¶çš„å›è°ƒå‡½æ•°ä¸Šå› ä¸ºå›è°ƒå‡½æ•°ç›®çš„æ˜¯å½“å‰çš„å¯¹è±¡ï¼Œåœ¨ä¹‹åè¿˜èƒ½è°ƒç”¨å®ƒï¼Œä¹Ÿå°±æ˜¯å¼ºçƒˆéœ€è¦thisçš„ä¿¡æ¯å½“æ—¶ç”¨äº†ç®­å¤´å‡½æ•°çš„æ—¶å€™ï¼Œä¼šä¸¢å¤±this12345678910111213const button = document.getElementById('myButton')// é”™è¯¯çš„ä½¿ç”¨button.addEventListener('click', () =&gt; &#123; console.log(this) // =&gt; window this.innnerHTML = 'new Button Text' // æŠ¥é”™ï¼Œæ­¤æ—¶windowæ— innerHTMLå±æ€§&#125;)// æ­£ç¡®çš„ä½¿ç”¨button.addEventListener('click', function () &#123; console.log(this) // =&gt; button this.innnerHTML = 'new Button Text'&#125;) å®šä¹‰æ„é€ å‡½æ•°ç®­å¤´å‡½æ•°å®šä¹‰åœ¨æ„é€ å‡½æ•°ä¸­æ˜¯æ²¡æœ‰æ„ä¹‰çš„1234567891011// é”™è¯¯ä½¿ç”¨const Fish = (name) =&gt; &#123; this.name = name&#125;console.log(new Fish('feifei')) // æŠ¥é”™ï¼ŒFishä¸æ˜¯æ„é€ å‡½æ•°// æ­£ç¡®ä½¿ç”¨const Dog = function (name) &#123; this.name = name&#125;console.log(new Dog('heihei')) ä»£ç é£æ ¼è™½ç„¶ä½¿ç”¨ç®­å¤´å‡½æ•°å¯ä»¥å°‘å»èŠ±æ‹¬å·ï¼Œå°‘å»return, ä¸€è¡Œå®Œæˆï¼Œä½†æ˜¯ä¸€å®šè¦æ˜¯åœ¨ä»£ç å¯è¯»çš„æƒ…å†µä¸‹ï¼Œä¸ä»£ç å¯ç»´æŠ¤æ€§ç›¸æ¯”è¾ƒï¼Œè¿‡çŸ­çš„ä»£ç ä¼šå½±å“å¯¹å…¶çš„è§£è¯»æ€§]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºreactä¸­çš„contextçš„ç†è§£]]></title>
    <url>%2F2019%2F10%2F08%2F%E5%85%B3%E4%BA%8Ereact%E4%B8%AD%E7%9A%84context%E7%9A%84%E7%90%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[æœ¬ä¾‹åªæ˜¯åšè¯´æ˜æ€§ï¼Œå…·ä½“ä»£ç è¦è¿è¡Œèµ·æ¥ï¼Œè¿˜éœ€è¦åŠ å…¥äº›å…¶ä»–å…ƒç´  ä¸»è¦è§£å†³çš„é—®é¢˜åœ¨åº”ç”¨ä¸­å¯èƒ½ä¼šæœ‰å¾ˆå¤šç»„ä»¶ä¼šå»ä½¿ç”¨åˆ°çš„ç»„ä»¶ï¼Œå¹¶ä¸”å½“ä½¿ç”¨çˆ¶å­ä¼ é€’è¿™ä¸€æœºåˆ¶çš„æ—¶å€™ï¼Œä¼šæ˜¾å¾—è¿‡äºè‡ƒè‚¿ç¹çï¼Œæ‰€ä»¥è¦ä½¿ç”¨ä¸Šä¸‹æ–‡çš„æ–¹å¼æ¥è¿›è¡Œä¼ é€’ã€‚ 1.åˆ›å»ºä¸€ä¸ªcontext12345// theme-context.jsimport React from 'react'export const ThemeContext = React.createContext('dark') // é»˜è®¤ä¸ºdark 2.ä½¿ç”¨contextå†…å®¹-class12345678910111213// Demo.jsimport &#123; ThemeContext &#125; from './theme-context'class Demo extends React.Component &#123; render () &#123; const theme = this.context return (&lt;div&gt;&#123;theme&#125;&lt;/div&gt;) &#125;&#125;Demo.contextType = ThemeContext 2.ä½¿ç”¨contextå†…å®¹-function12345678910111213// Demo.jsimport &#123; ThemeContext &#125; from './theme-context'function Consumer (props) &#123; return ( &lt;ThemeContext.Consumer&gt; &#123;theme =&gt; ( &lt;div&gt;&#123;theme&#125;&lt;/div&gt; )&#125; &lt;/ThemeContext.Consumer&gt; )&#125; 3.ä¼ é€’å¯ç”¨1234567891011121314151617181920212223// App.jsimport React from 'react'import &#123; ThemeContext &#125; from './theme-context'import Demo from 'demo'function Wrapper (props) &#123; return (&lt;Demo /&gt;)&#125;class App extends React.Component &#123; render ( return ( &lt;div&gt; &lt;ThemeContext.Provider value="light"&gt; &lt;Wrapper /&gt; // æ­¤æ—¶ Wrapper å†…çš„ Demo ä½¿ç”¨çš„æ˜¯å°±è¿‘çš„ light &lt;/ThemeContext.Provider&gt; &lt;Wrapper /&gt; // æ­¤æ—¶ Wrapper å†…çš„ Demo ä½¿ç”¨çš„æ˜¯é»˜è®¤å€¼ dark &lt;/div&gt; ) )&#125; åœ¨hookä¸­ä½¿ç”¨contextçˆ¶ç»„ä»¶è¿˜æ˜¯è¦ä½¿ç”¨&lt;MyContext.Provider value={} /&gt;è¿™ç§æ–¹å¼å°†ä¸Šä¸‹æ–‡å¯¹è±¡å…¨å±€ä¼ é€’å‡ºå»ï¼Œä¸åŒçš„å°±æ˜¯ä½¿ç”¨åˆ°contextçš„ç»„ä»¶ï¼Œå¯ä»¥ä½¿ç”¨functionç»„ä»¶ï¼Œæ¥æ–¹ä¾¿çš„æ¥æ”¶12345678910// Demo.jsimport React from 'react'import &#123; ThemeContext &#125; from './theme-context'function Demo (props) &#123; const theme = React.useContext(ThemeContext) // ... contextä¸­å˜åŒ–æ—¶ï¼Œè¯¥ç»„ä»¶ä¼šåŒæ­¥åˆ·æ–°&#125; éœ€è¦æ³¨æ„çš„é—®é¢˜contextä¼šä½¿ç”¨å‚è€ƒæ ‡è¯†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯èƒ½valueä¸å˜çš„æƒ…å†µä¸‹ï¼Œä»–ä¼šé€šçŸ¥ä½¿ç”¨åˆ°contextç»„ä»¶é‡æ–°æ¸²æŸ“1234567891011121314&lt;Provider value=&#123;&#123;something: 'something'&#125;&#125;&gt; &lt;Toolbar /&gt;&lt;/Provider&gt;// æ­¤æ—¶æ­¤ç»„ä»¶åˆ·æ–°çš„æ—¶å€™ï¼Œä»–ä¼šé€šçŸ¥ç»„ä»¶ valueå‘ç”Ÿäº†æ”¹å˜ï¼ˆå°½ç®¡å­—é¢é‡å¹¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼‰// å¯ä»¥å°†valueçš„å€¼æåˆ°stateä¸­å»å­˜å‚¨state = &#123; value: &#123;something: 'something'&#125;&#125;&lt;Provider value=&#123;this.state.value&#125;&gt; &lt;Toolbar /&gt;&lt;/Provider&gt;]]></content>
  </entry>
  <entry>
    <title><![CDATA[å…³äºreactä¸­å¾ªç¯æ¸²æŸ“æ•°æ®æ—¶keyçš„é—®é¢˜]]></title>
    <url>%2F2019%2F10%2F05%2F%E5%85%B3%E4%BA%8Ereact%E4%B8%AD%E5%BE%AA%E7%8E%AF%E6%B8%B2%E6%9F%93%E6%95%B0%E6%8D%AE%E6%97%B6key%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[keyçš„å½±å“å¾ªç¯å…ƒç´ ä¹‹æ‰€ä»¥éœ€è¦ä¸€ä¸ªkeyï¼Œå°±æ˜¯å› ä¸ºä»–æ— æ³•ç¡®è®¤è¿™ä¸¤ä¸ªå…ƒç´ åœ¨å‰åæ˜¯å¦è¿˜æœ‰å…³è”ï¼Œå› ä¸ºä»–ä»¬å¤§éƒ½æ˜¯ç±»å‹ç›¸åŒçš„ï¼Œä¼šé€ æˆé‡æ–°æ¸²æŸ“æˆ–è€…æ˜¯ä¸€äº›èšç„¦çŠ¶æ€ç­‰ä¸¢å¤±ï¼Œæ‰€ä»¥è¦æ ¹æ®è¿™ä¸ªkeyæ¥åˆ¤æ–­æ˜¯å¦æ˜¯å½“å‰å…ƒç´ 123456789101112131415let todos = [&#123; id: 1, title: 'eat' &#125;, &#123; id: 2, title: 'coding' &#125;]todos.map((todo, index) =&gt; ( &lt;p key=&#123;index&#125;&gt; &lt;span&gt;&#123;todo.title&#125;&lt;/span&gt; comment: &lt;input /&gt; &lt;/p&gt;))todos.map((todo, index) =&gt; ( &lt;p key=&#123;todo.id&#125;&gt; &lt;span&gt;&#123;todo.title&#125;&lt;/span&gt; comment: &lt;input /&gt; &lt;/p&gt;)) å½“æˆ‘ä»¬åœ¨è¾“å…¥æ¡†è¾“å…¥ä¸€å®šçš„å†…å®¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬åˆ‡æ¢ä¸€ä¸‹æ•°ç»„çš„å†…å®¹1todos = [ todos[1], todos[0] ] æ­¤æ—¶ä¸¤ç§æ–¹å¼ç»‘å®šçš„ä¸åŒç»“æœå¯èƒ½å°±ä¼šï¼Œé€ æˆå…ƒç´ æ”¹å˜äº†ï¼Œä¸Šä¸€æ¬¡è¾“å…¥çš„å†…å®¹ä¸æ ‡ç­¾å¯¹åº”å¼‚å¸¸ å½“æˆ‘ä»¬ç‚¹å‡»åˆ‡æ¢å…ƒç´ å†…çš„é¡ºåºæ—¶]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[devServerå®ç°å±€åŸŸç½‘å†…è®¿é—®]]></title>
    <url>%2F2019%2F10%2F04%2FdevServer%E5%AE%9E%E7%8E%B0%E5%B1%80%E5%9F%9F%E7%BD%91%E5%86%85%E8%AE%BF%E9%97%AE%2F</url>
    <content type="text"><![CDATA[åœ¨reacté¡¹ç›®ä¸­ï¼Œç»å¸¸ä¼šä½¿ç”¨åˆ°devServer, æ­¤æ—¶å¦‚æœè®¾å¤‡åœ¨åŒä¸€å±€åŸŸç½‘ä¸‹åº”è¯¥æ˜¯å¯ä»¥èƒ¡åŒçš„ï¼ˆåŒä¸€wifiç¯å¢ƒï¼‰ æ£€æŸ¥æœ¬æœºé˜²ç«å¢™è®¾ç½® å¼€å¯devServerç›¸å…³é…ç½®ï¼ˆé‡ç‚¹ï¼‰ 1234567devServer: &#123; port: 8080, disableHostCheck: true, host: '0.0.0.0', ...&#125;,]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[eolinkerAMSå¼€æºç‰ˆæ¶è®¾]]></title>
    <url>%2F2019%2F10%2F04%2FeolinkerAMS%E5%BC%80%E6%BA%90%E7%89%88%E6%9E%B6%E8%AE%BE%2F</url>
    <content type="text"><![CDATA[javaç‰ˆåœ°å€ https://gitee.com/haonan98/eoLinker-AMS-Lite-For-Java æ‰€éœ€ç¯å¢ƒ java8+ mysql5.5+ åˆ›å»ºæ•°æ®åº“åˆ›å»ºæ•°æ®åº“eolinker_osï¼Œå¹¶æ‰§è¡Œeolinker_os.sql æ›´æ”¹ç›¸å…³è¿æ¥é…ç½®æ›´æ”¹é…ç½®æ–‡ä»¶,setting.propperties è¿è¡ŒjaråŒ…java -jar xxx åç»­è¿›å…¥å¼•å¯¼å³å¯ é¡¹ç›®åœ°å€http://ip:port/eolinker_os/index.html å¼€æºæ„Ÿè°¢https://www.eolinker.com]]></content>
      <tags>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[814]]></title>
    <url>%2F2019%2F08%2F14%2F814%2F</url>
    <content type="text"><![CDATA[åˆæ˜¯ä¸€ä¸ª814ï¼Œ22å²äº†ï¼Œé•¿å¤§äº†ä¸€å²ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œä»¥åæ¯å¹´å°±åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹å§ï¼Œæ˜å¤©å…¬äº¤äº‘å°±å¼€å·¥èµ„äº†ï¼Œç®—äººç”Ÿç¬¬ä¸€æ¡¶é‡‘å§ï¼Œå“ˆå“ˆå“ˆï¼ŒåŠ æ²¹ æ­å·Â·å…¬äº¤äº‘ 22 å®ä¹ 4knext age =&gt; 6k åŠ æ²¹å’¯ï¼]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾®ä¿¡å°ç¨‹åºå†…ï¼Œç”Ÿæˆè‡ªå®šä¹‰äºŒç»´ç ]]></title>
    <url>%2F2019%2F08%2F14%2F%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%86%85%EF%BC%8C%E7%94%9F%E6%88%90%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8C%E7%BB%B4%E7%A0%81%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘åœ¨å¼€å‘ä¸­ï¼Œéœ€è¦ç”Ÿæˆè‡ªå®šä¹‰çš„äºŒç»´ç ï¼Œäºæ˜¯åšäº†ä¸€ä¸ªåŒ…å‡ºæ¥ï¼Œåˆ†äº«ç»™å¤§å®¶ä¸€èµ·ä½¿ç”¨ã€‚é€‚ç”¨äºå¾®ä¿¡å°ç¨‹åºçš„äºŒç»´ç ç”Ÿæˆå™¨ï¼ŒåŸºäºCanvasç”Ÿæˆï¼Œæ”¯æŒä¸­æ–‡çš„è¾“å…¥ã€‚å¯åœ¨åŸç”Ÿå°ç¨‹åºï¼Œmpvueï¼Œtaroä¸­ä½¿ç”¨ã€‚ï¼ˆæ–‡æœ«æœ‰ä¸€ä¸ªä½¿ç”¨ç¤ºä¾‹ï¼‰ githubåœ°å€ wxmp-qrcode å®‰è£…1npm install wxmp-qrcode ä½¿ç”¨ åˆ›å»ºä¸€ä¸ªcanvas,è®¾ç½®å…¶id,ä¸canvas-idï¼Œ å¹¶è®¾ç½®canvasçš„æ ·å¼ï¼ŒäºŒç»´ç åŸºäºå…¶å¤§å°ç”Ÿæˆå¹¶å±…ä¸­ 1&lt;canvas id="cav-qrcode" canvas-id="cav-qrcode"&gt;&lt;/canvas&gt; å¼•å…¥åŒ…å¹¶ä½¿ç”¨ 12import QR from 'wxmp-qrcode'QR.draw(str, canvasId) api123456789101112131415/** * æ ¹æ®canvaså°ºå¯¸ï¼Œç”»å‡ºåˆé€‚å±…ä¸­çš„qrcode * @param &#123;Object&#125; str äºŒç»´ç çš„å†…å®¹ (å¿…é¡») * @param &#123;Object&#125; canvasId canvasIdçš„å€¼ (å¿…é¡») * @param &#123;Object&#125; $this ä¼ å…¥ç»„ä»¶çš„this,å…¼å®¹åœ¨ç»„ä»¶ä¸­ç”ŸæˆäºŒç»´ç  ï¼ˆå¯é€‰ï¼Œå¯çœç•¥è¯¥å‚æ•°ï¼‰ * @param &#123;Object&#125; callback å›è°ƒå‡½æ•° (å¯é€‰) */draw: function (str, canvasId, $this, callback)/*** æ¸…é™¤canvaså†…å®¹* @param &#123;Object&#125; canvasId canvasId (å¿…é¡»)* @param &#123;Object&#125; callback å›è°ƒå‡½æ•° ï¼ˆå¯é€‰ï¼‰*/clear: function (canvasId, callback) æ³¨æ„ canvasä¸­ id, canvas-idå¿…é¡»ä¿æŒä¸€è‡´ id è·å–canvasèŠ‚ç‚¹ï¼Œè‡ªåŠ¨è®¡ç®—å¤§å°ä½¿ç”¨, äºŒç»´ç å¤§å°åŸºäºcanvasè‡ªåŠ¨ç”Ÿæˆ canvas-id ç»˜åˆ¶äºŒç»´ç ä½¿ç”¨ å¦‚æœåœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼Œéœ€è¦ä¼ å…¥ç»„ä»¶çš„thisï¼Œdraw(str, canvasId, componentThis) å…·ä½“å‚è§ wx.createCanvasContext å¯ä»¥ä¿å­˜äºŒç»´ç ä¸ºä¸´æ—¶å›¾ç‰‡åœ°å€ å…·ä½“å¯å‚è§ wx.canvasToTempFilePath bug: è¯¥æ–¹æ³•æœ‰æ—¶ä¿å­˜çš„å›¾ç‰‡ä¼šæœ‰ä¸€ä¸ªç«–æ¡ã€‚1234567891011121314createQrCode: function (content, canvasId) &#123; QR.api.draw(content, canvasId) this.canvasToTempImage(canvasId)&#125;,//è·å–ä¸´æ—¶ç¼“å­˜å›¾ç‰‡è·¯å¾„canvasToTempImage: function (canvasId) &#123; wx.canvasToTempFilePath(&#123; canvasId, success: function (res) &#123; let tempFilePath = res.tempFilePath; // ä¸´æ—¶å›¾ç‰‡åœ°å€ï¼Œå¯åœ¨æ”¾å…¥å›¾ç‰‡srcä¸­ä½¿ç”¨ &#125; &#125;)&#125; åŸç”Ÿå°ç¨‹åºwxmpä¸­ä½¿ç”¨ åœ¨é¡¹ç›®è®¾ç½®ä¸­é€‰æ‹© ä½¿ç”¨npmæ¨¡å— å¦‚æœç¬¬ä¸€æ¬¡ä½¿ç”¨npmæ¨¡å—ï¼Œéœ€è¦é¦–å…ˆåœ¨æ ¹ç›®å½•ä¸­npm init, ä¹‹åå†å®‰è£…æ¨¡å— npm i wxmp-qrcode åœ¨å·¥å…·ä¸­é€‰æ‹© æ„å»ºnpm index.wxml 1234&lt;view class="container"&gt; &lt;canvas id="&#123;&#123;canvasId&#125;&#125;" canvas-id="&#123;&#123;canvasId&#125;&#125;"&gt;&lt;/canvas&gt; &lt;button bindtap="creatQRCode"&gt; ç”ŸæˆäºŒç»´ç  &lt;/button&gt;&lt;/view&gt; index.wxss 12345678canvas &#123; border: 1rpx solid #eee; width: 400rpx; height: 400rpx;&#125;button &#123; margin-top: 100rpx;&#125; index.js 12345678910111213import QR from './qrcode'Page(&#123; data: &#123; canvasId: 'canvasId', QRdata: 'ä½ å¥½ wxmp-qrcode' &#125;, creatQRCode () &#123; let str = this.data.QRdata let canvasId = this.data.canvasId QR.draw(str, canvasId) &#125;&#125;)]]></content>
      <tags>
        <tag>å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[taroä¸­é›†æˆredux-saga]]></title>
    <url>%2F2019%2F08%2F14%2Ftaro%E4%B8%AD%E9%9B%86%E6%88%90redux-saga%2F</url>
    <content type="text"><![CDATA[taroä¸­reduxå¤„ç†æ–¹æ¡ˆæ˜¯é‡‡ç”¨redux-thunk,è¿™é‡Œé‡‡ç”¨redux-sagaè§£å†³å¼‚æ­¥é—®é¢˜ï¼Œå¼•å…¥ç›®å‰æœ€æ–°redux-saga@1.0.5 å¼•å…¥æ–¹å¼ä¸€å¯ä»¥ç›´æ¥ä¸‹è½½ç§å­é¡¹ç›®ï¼Œå·²ç»å¼•å…¥äº†sagaï¼Œå¹¶åšå¥½äº†ç›¸å…³é…ç½®ï¼Œå¯åœ¨æ­¤åŸºç¡€ä¸Šå†æ¬¡å¼€å‘taro-redux-saga-seed123456789// ä¸‹è½½ç§å­é¡¹ç›®git clone https://github.com/Z-HNAN/taro-redux-saga-seed// å®‰è£…ä¾èµ–cd taro-redux-saga-seednpm i // å¯åŠ¨é¡¹ç›®-å°ç¨‹åº(å¾®ä¿¡å¼€å‘è€…å·¥å…·æŸ¥çœ‹æ•ˆæœï¼Œæœ‰ä¸€ä¸ª3så»¶è¿Ÿçš„addç¤ºä¾‹)npm run dev:weapp å¼•å…¥æ–¹å¼äºŒåœ¨è‡ªå·±å·²ç»æœ‰çš„é¡¹ç›®ä¸Šå¼•å…¥ï¼ŒæŒ‰ç…§åç»­æ­¥éª¤è‡ªè¡Œå¼•å…¥å³å¯ å®‰è£…redux-saga1npm i redux-saga æ›´æ”¹ç›®å½•å½¢å¼å°†æ¯ä¸ªæ–‡ä»¶æ”¾åœ¨æ¨¡å—ä¸­ï¼Œåˆ©äºæŸ¥æ‰¾ï¼Œä¾¿äºå¼•å…¥ï¼Œåé¢å¼•å…¥sagaæ–‡ä»¶ä¹Ÿæ¯”è¾ƒæ¸…æ™°ï¼Œå½“ç„¶è¿™é‡Œåªæ˜¯ä¸€ä¸ªä¸ªäººå–œå¥½ï¼Œä¹Ÿå¯æŒ‰ç…§è‡ªå·±çš„ç›®å½•å½¢å¼æ¥å®‰æ’ï¼Œè¿™é‡Œåªåšä¸€ä¸ªå‚è€ƒ,è¯·å¤šç•™æ„å¼•å…¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®ã€‚1234567891011121314151617â””â”€src â”‚ app.jsx â”‚ app.less â”‚ index.html â”‚ â”œâ”€pages â”‚ â””â”€index â”‚ action.js â”‚ index.jsx â”‚ index.less â”‚ reducer.js | saga.js â”‚ â””â”€store index.js reducer.js saga.js å¼•å…¥indexæ¨¡å—çš„saga pages/index/saga.jsæ•è·å½“å‰æ¨¡å—ä¸­çš„action 1234567891011import &#123; put, delay, takeEvery&#125; from 'redux-saga/effects'function* asyncAddRequest (action) &#123; const &#123; timeout &#125; = action.payload yield delay(timeout) yield put(&#123; type: 'ADD' &#125;)&#125;export default function* () &#123; yield takeEvery('ASYNC_ADD', asyncAddRequest)&#125; é…ç½®æ ¹sagaæ–‡ä»¶ store/saga.jså¯åŠ¨å„ä¸ªæ¨¡å—çš„saga 123456789import &#123; all &#125; from 'redux-saga/effects'import index from '../pages/index/saga'export default function* () &#123; yield all([ index() ])&#125; åœ¨storeä¸­å¼•å…¥sagaMiddleware store/index.jssagaè¿æ¥åˆ°store å¼•å…¥saga é…ç½®sagaä¸­é—´ä»¶åˆ°middlewares å¯åŠ¨saga 12345678910111213141516171819202122232425262728293031323334353637import &#123; createStore, applyMiddleware, compose &#125; from 'redux'/* å¼•å…¥saga */import createSagaMiddleware from 'redux-saga'import rootSaga from './saga'import rootReducer from './reducer'const composeEnhancers = typeof window === 'object' &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(&#123; // Specify extensionâ€™s options like name, actionsBlacklist, actionsCreators, serialize... &#125;) : compose/* ç”ŸæˆsagaMiddleware */const sagaMiddleware = createSagaMiddleware();const middlewares = [ /* åº”ç”¨saga */ sagaMiddleware]/* å¤„ç†redux-logger */if (process.env.NODE_ENV === 'development' &amp;&amp; process.env.TARO_ENV !== 'quickapp') &#123; middlewares.push(require('redux-logger').createLogger())&#125;const enhancer = composeEnhancers( applyMiddleware(...middlewares), // other store enhancers if any)export default function configStore () &#123; const store = createStore(rootReducer, enhancer) /* å¯åŠ¨saga */ sagaMiddleware.run(rootSaga) return store&#125; æ£€æµ‹ pages/index/index.jsx æœ¬ä¾‹ä»¥taroçš„reduxä¸ºåŸºç¡€è¿›è¡Œæµ‹è¯• 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859import Taro, &#123; Component &#125; from '@tarojs/taro'import &#123; View, Button, Text &#125; from '@tarojs/components'import &#123; connect &#125; from '@tarojs/redux'import &#123; add, minus, asyncAdd &#125; from './action'import './index.less'const mapStateToProps = (state) =&gt; &#123; return &#123; counter: state.index.num &#125;&#125;const mapDispatchToProps = (dispatch) =&gt; &#123; return &#123; add: () =&gt; &#123; dispatch(add()) &#125;, asyncAdd: () =&gt; &#123; dispatch(asyncAdd(&#123; timeout: 3000 &#125;)) &#125;, minus: () =&gt; &#123; dispatch(minus()) &#125; &#125;&#125;@connect(mapStateToProps, mapDispatchToProps)class Index extends Component &#123; config = &#123; navigationBarTitleText: 'é¦–é¡µ' &#125; componentWillReceiveProps (nextProps) &#123; // console.log(this.props, nextProps) &#125; componentWillUnmount () &#123; &#125; componentDidShow () &#123; &#125; componentDidHide () &#123; &#125; render () &#123; return ( &lt;View className='index'&gt; &lt;Button className='add_btn' onClick=&#123;this.props.add&#125;&gt;+&lt;/Button&gt; &lt;Button className='dec_btn' onClick=&#123;this.props.minus&#125;&gt;-&lt;/Button&gt; &lt;Button className='dec_btn' onClick=&#123;this.props.asyncAdd&#125;&gt;async&lt;/Button&gt; &lt;View&gt;&lt;Text&gt;&#123;this.props.counter&#125;&lt;/Text&gt;&lt;/View&gt; &lt;View&gt;&lt;Text&gt;Hello, Redux-saga&lt;/Text&gt;&lt;/View&gt; &lt;/View&gt; ) &#125;&#125;export default Index]]></content>
      <tags>
        <tag>å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[reselectè§£è¯»]]></title>
    <url>%2F2019%2F08%2F14%2Freselect%E8%A7%A3%E8%AF%BB%2F</url>
    <content type="text"><![CDATA[åŸºäº1.0.0 è¿›è¡Œè§£è¯» ç®€å•å›é¡¾ä¸€ä¸‹é«˜é˜¶å‡½æ•°1234567891011121314151617181920212223function myMemorize(fn) &#123; let lastRet = null let lastParam = null let resultFuc = fn return (...args) =&gt; &#123; if (lastRet &amp;&amp; args.every((value, index) =&gt; value === lastParam[index])) &#123; // æœ‰ç¼“å­˜ç»“æœï¼Œå¹¶ä¸”å‚æ•°å®Œå…¨ä¸€è‡´ return lastRet &#125; // ç¼“å­˜ç»“æœä¸ä¸€è‡´ lastParam = args lastRet = resultFuc(...args) return lastRet &#125;&#125;let add = (a, b) =&gt; a + blet memAdd = myMemorize(add)console.log('---------------------------')add(1, 2) =&gt; 3 è®¡ç®—add(1, 2) =&gt; 3 è®¡ç®—memAdd(1, 2) =&gt; 3 è®¡ç®—memAdd(1, 2) =&gt; 3 ç¼“å­˜ ç›®çš„è¿›è¡Œç¼“å­˜æ•°æ®ï¼Œä»–å¯¹çº¯å‡½æ•°çš„ç»“æœè¿›è¡Œä¸€æ¬¡ç¼“å­˜ï¼Œï¼ˆçº¯å‡½æ•°Pure Functionï¼šç»™å®šç¡®å®šçš„è¾“å…¥è¾“å‡ºï¼Œä»–çš„å€¼éƒ½æ˜¯ä¸å˜çš„ï¼Œæ‰€ä»¥æœ‰äº†ç¼“å­˜çš„éœ€æ±‚ï¼Œä¸ç”¨æ¯ä¸€æ¬¡éƒ½è®¡ç®—ï¼‰ å¦å¤–ï¼Œåœ¨reactä¸­ï¼Œç”±äºReactçš„Diffç®—æ³•ï¼Œä»–ä¼šæ‰“è¡¥ä¸ï¼Œé‚£ä¹ˆå¦‚æœç»™çš„stateç›¸åŒçš„è¯ï¼Œå°±ä¼šè·³è¿‡è¿™ä¸ªè¡¥ä¸ï¼Œä¹Ÿå°±çœå»äº†æ­¤æ¬¡çš„åˆ·æ–°æ“ä½œï¼ŒèŠ‚çœäº†æ—¶é—´ã€‚ç„¶è€Œåœ¨åŸæœ¬çš„Reactä¸­ï¼Œstateæ›´æ–°æ—¶ï¼Œæ‰€æœ‰çš„stateéƒ½ä¼šè¢«é€šçŸ¥åˆ°ï¼Œå†…å®¹å®Œå…¨ä¸€æ ·ï¼Œåªæ˜¯ä»–ä»¬çš„å†…å­˜åœ°å€ä¸åŒï¼Œæ‰€ä»¥å°±å¯¼è‡´äº†Diffä¼šæ‰“ä¸Šä¸€ä¸ªæ— ç”¨çš„è¡¥ä¸ï¼Œåšä¸€äº›ä¸å¿…è¦çš„è§†å›¾åˆ·æ–°æ“ä½œã€‚ æµç¨‹ä½¿ç”¨é«˜é˜¶å‡½æ•°ï¼Œå°†ä¸Šä¸€æ¬¡çš„çº¯å‡½æ•°çš„å‚æ•°ï¼Œå’Œå‡½æ•°è¿ç®—çš„ç»“æœï¼Œåšå­˜å‚¨ï¼Œå¦‚æœæ­¤æ¬¡çš„å‚æ•°å’Œä¸Šä¸€æ¬¡çš„å®Œå…¨ç›¸åŒï¼Œé‚£ä¹ˆå°±è®¤ä¸ºå¯ä»¥ä½¿ç”¨ä¸Šä¸€æ¬¡çš„ç¼“å­˜ï¼Œä¹Ÿå°±è¾¾åˆ°äº†å­˜å‚¨çš„ç›®çš„ã€‚å¤§é‡è¿ç”¨åˆ°äº†é«˜é˜¶å‡½æ•°çš„æ€æƒ³ã€‚ ä¸»è¦çš„æ–¹æ³• createSelectorCreator(memoize)ç”¨æ¥åšç”Ÿæˆä¸€ä¸ªselect,ä»–çš„é«˜é˜¶å‡½æ•°ä½œç”¨æ˜¯å®šåˆ¶åŒ–äº†è®°å¿†å‡½æ•° 123456789101112131415161718192021createSelectorCreator (memoize) &#123; /** * dependencies ä»–æ‰€è¦ä¾èµ–çš„ç›¸å…³å‡½æ•° * resultFunc è¿è¡Œæœ€ç»ˆç»“æœçš„å‡½æ•° */ return (dependencies, resultFunc) =&gt; &#123; // æ‹¿åˆ°ä¸€ä¸ªå®šåˆ¶åŒ–çš„memoize const memoizeResultFunc = memoize(resultFunc) // è¿”å›selector,ä»–çš„ä½œç”¨æ˜¯å¤„ç†æ¯ä¸€ä¸ªstate const selector = (state, props, ...args) =&gt; &#123; // æ‰§è¡Œæ¯ä¸€ä¸ªdependency,è·å–åˆ°æ¯ä¸€ä¸ªå‚æ•° const params = dependencies.map( dependency =&gt; dependency(state, props, ...args) ); // é€šè¿‡å®šåˆ¶è®°å¿†å‡½æ•°è¿”å›æ•°æ® return memoizedResultFunc(...params); &#125;; return selector &#125;&#125; defaultMemoize(func)é»˜è®¤çš„ä¸€ä¸ªè®°å¿†å‡½æ•°ï¼Œä»–çš„é«˜é˜¶å‡½æ•°ä½œç”¨æ˜¯ï¼Œè®°ä½äº†ä¸Šä¸€æ¬¡å‚æ•°å’Œç»“æœ 123456789101112131415defaultMemoize (func) &#123; let lastParams = null; let lastResult = null; return (...params) =&gt; &#123; // å¦‚æœä¸Šä¸€æ¬¡æœ‰ç»“æœï¼Œå¹¶ä¸” æ¯ä¸ªå‚æ•°éƒ½ç›¸åŒï¼Œå°±è¿”å›ç»“æœ if (lastParams !== null &amp;&amp; params.every((value, index) =&gt; value === lastParams[index])) &#123; return lastResult; &#125; // è®°å¿†ä¸Šä¸€æ¬¡çš„å‚æ•°ï¼ŒçœŸæ­£æ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶æŠŠç»“æœéƒ½ç¼“å­˜èµ·æ¥ lastParams = params; lastResult = func(...params); return lastResult; &#125;;&#125; defaultEqualityCheck(a, b)è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯åˆ¤æ–­è¿ä¸ªå‚æ•°æ˜¯å¦ç›¸ç­‰ï¼Œä¸Šé¢ä½¿ç”¨äº†ç¡¬æ¯”è¾ƒ ===, å½“ç„¶ä¹Ÿå¯ä»¥ç”¨å…¶ä»–çš„åˆ¤æ–­æ–¹æ³•ä»£æ›¿ä¸€ä¸‹ 12value === lastParams[index]defaultEqualityCheck(value, lastParams[index]) æ‰§è¡Œè¿‡ç¨‹1234567891011121314const state = &#123; shop: &#123; items: [&#123;id:1, value: 1&#125;,&#123;id:2, value: 2&#125;,&#123;id:3, value: 3&#125;] &#125;&#125;const shopItemsSelector = state =&gt; state.shop.itemsconst totalSelector = createSelector( shopItemsSelector, (items) =&gt; items.reduce((acc, item) =&gt; acc + item.value, 0))let total = totalSelector(state) 12345678910111213// 1. åˆ›å»ºå‡ºselectorlet selector = createSelector([fun1, fun2], fun3)let someState = (function(state, props) &#123; let state1 = fun1(state, props) let state2 = fun2(state, props) return fun3(state1, state2)&#125;)(state, props)// 2. è®°å¿†ç»“æœreturn fun3(state1, state2),// å°†ç›´æ¥æ‰§è¡Œfun3æ›¿æ¢ä¸ºå·²ç»è®°å¿†åŒ–è¿‡çš„memoizedResultFuncreturn memoizedResultFunc(state1, state2)ä»–å»åˆ¤æ–­stateçš„å€¼æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒï¼Œå°±ç›´æ¥è¿”å›å‡ºä¸€ä¸ªä¸Šä¸€æ¬¡å­˜å‚¨çš„ç»“æœ]]></content>
  </entry>
  <entry>
    <title><![CDATA[reduxä¸­å¸¸ç”¨çš„efffects]]></title>
    <url>%2F2019%2F08%2F14%2Fredux%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84efffects%2F</url>
    <content type="text"><![CDATA[redux-sagaä¸­effectçš„ä½¿ç”¨redux-saga ä¸­å°†æœ‰å‰¯ä½œç”¨çš„æ–¹æ³•ï¼Œéƒ½æ”¾åˆ°äº†å¤–éƒ¨å•ç‹¬çš„æ–‡ä»¶ä¸­å»æ‰§è¡Œ1action1(plain object)â€”â€”&gt;redux-sagaç›‘å¬â€”&gt;æ‰§è¡Œç›¸åº”çš„Effectæ–¹æ³•â€”â€”&gt;è¿”å›æè¿°å¯¹è±¡â€”&gt;æ¢å¤æ‰§è¡Œå¼‚æ­¥å’Œå‰¯ä½œç”¨å‡½æ•°â€”&gt;action2(plain object) æ–¹ä¾¿è¿›è¡Œæµ‹è¯•ï¼Œå¦‚æœeffectæ–¹æ³•æ‰§è¡Œçš„ç»“æœçš„è¿”å›å€¼å°±æ˜¯å°†è¦æ‰§è¡Œçš„å¯¹è±¡ï¼Œé‚£ä¹ˆå¯ä»¥è®¤ä¸ºï¼Œåœ¨ä»Šåè¿™ä¸ªactionæ‰§è¡Œçš„æ—¶å€™ï¼Œä»–çš„ç»“æœå°±æ˜¯æ­£å¸¸çš„ï¼Œä¹Ÿå°±æ˜¯è¯´redux-sagaçš„ä½œç”¨å°±æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥æå‰è·å–åˆ°å³å°†æ‰§è¡Œçš„æ–¹æ³•ï¼Œä»¥åŠä»–çš„å‚æ•°ï¼Œä½†æ˜¯ä»–çš„å…·ä½“æ‰§è¡Œæ—¶é—´æ˜¯æœªçŸ¥çš„ redux-effectçš„ç›¸å…³effectæ–¹æ³• v 1.0.5 take ç›‘å¬æ–¹æ³•ï¼Œå¹¶è¿”å›ä¸€ä¸ªactionå¯¹è±¡ takeLatest yield takeLatest(&#39;xxx&#39;, xxxRequest) call è°ƒç”¨æŸä¸ªæ–¹æ³• yield call(fn, ...args) put å‘å‡ºä¸€ä¸ªactionï¼Œå…¶å‚æ•°å°±æ˜¯actionå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å³å°†å‘ç»™reduceråšçœŸæ­£çš„å¤„ç† put({type: &#39;XXXX&#39;, payload: {}}) select è·å–stateï¼Œè¿”å›çš„ç»“æœæ˜¯stateå¯¹è±¡ï¼Œå¯ä»¥è¿›è¡Œè·å–æ•°æ® let xxx = yield select((state) =&gt; state.xxx); debounce é˜²æ­¢æ—¶é—´æŠ–åŠ¨ï¼Œè¿‡ä¸€æ®µæ—¶é—´å‘ä¸€æ¬¡è¯·æ±‚ yield debounce(1000, &#39;FETCH_AUTOCOMPLETE&#39;, fetchAutocompleteFn) delay å»¶è¿Ÿå¤šå°‘msçš„ä¸€ä¸ªï¼Œç±»ä¼¼äºtimeout yield delay(500) all ç›‘å¬æ‰€æœ‰çš„saga,å¯åŠ¨æ‰€æœ‰çš„æ–¹æ³• all([ saga1(), saga2() ])]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React Fragment]]></title>
    <url>%2F2019%2F08%2F14%2FFragment%2F</url>
    <content type="text"><![CDATA[å¯ä»¥ç†è§£ä¸º,æ˜¯ä¸€ä¸ªç©ºçš„jsxæ ‡ç­¾1&lt;&gt;&lt;/&gt; // è¿™å…¶å®æ˜¯&lt;React.Fragment&gt;&lt;/React.Fragment&gt;çš„è¯­æ³•ç³– å½“å‰çˆ¶ç»„ä»¶ä¸­æ˜¯ä¸€ä¸ªtableä¸­çš„tr 123&lt;table&gt; &lt;tr&gt; &#123;children&#125; &lt;/tr&gt;&lt;/table&gt; å¦‚æœchildrenæ˜¯ä¼ ç»Ÿä¸Šçš„div, 1234&lt;div&gt; &lt;td&gt;Hello&lt;/td&gt; &lt;td&gt;World&lt;/td&gt;&lt;/div&gt; é‚£ä¹ˆæœ€ç»ˆå±•ç¤ºçš„æ•ˆæœä¸º,å±•ç¤ºä¼šå‡ºç°,æ˜¾ç¤ºå¼‚å¸¸12345678&lt;table&gt; &lt;tr&gt; &lt;div&gt; &lt;td&gt;Hello&lt;/td&gt; &lt;td&gt;World&lt;/td&gt; &lt;/div&gt; &lt;/tr&gt;&lt;/table&gt; ä½¿ç”¨React.Fragmentæ—¶1234&lt;React.Fragment&gt; &lt;td&gt;Hello&lt;/td&gt; &lt;td&gt;World&lt;/td&gt;&lt;/React.Fragment&gt; é‚£ä¹ˆæœ€ç»ˆå±•ç¤ºçš„æ•ˆæœä¸º,å±•ç¤ºä¼šå‡ºç°ï¼Œæ˜¾ç¤ºæ­£å¸¸123456&lt;table&gt; &lt;tr&gt; &lt;td&gt;Hello&lt;/td&gt; &lt;td&gt;World&lt;/td&gt; &lt;/tr&gt;&lt;/table&gt;]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[redux-enhanceræµ…æ]]></title>
    <url>%2F2019%2F08%2F13%2Fredux-enhancer%E6%B5%85%E6%9E%90%2F</url>
    <content type="text"><![CDATA[åœ¨reduxçš„createStoreä¸­ï¼Œè¿˜æœ‰ä¸¤ä¸ªå‚æ•°createStore(reducer, [preloadedState], [enhancer])è¿™é‡Œä¸»è¦åˆ†æenhancer,è¿™æ˜¯ä¸€ä¸ªå¢å¼ºå™¨ï¼Œç”¨æ¥å¢å¼ºreduxçš„å„ä¸ªæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯æ›¿æ¢createStoreæ–¹æ³•çš„å‡½æ•°ï¼Œ ç®€å•å›é¡¾ä¸€ä¸‹createStore(reducer)å°±æ˜¯åˆ›å»ºå‡ºä¸€ä¸ªstore,ç„¶åæ±‡æ€»æ‰€æœ‰çš„reducerï¼Œå°†æ‰€æœ‰çš„stateè¿‡ä¸€é123456789101112131415161718192021222324252627282930313233343536373839function createStore ( reducer ) &#123; let state, listenArr = [] function getState () &#123; return JSON.parse(JSON.stringify(state)) // è¿”å›ä¸€ä¸ªæ‹·è´ï¼Œé˜²æ­¢ç›´æ¥ä¿®æ”¹stateä¸­æ•°æ® &#125; function dispatch ( action ) &#123; // æ‰§è¡Œreducerè¿”å›ç»“æœ,å¹¶ä¸”è¯­æ³•è¦æ±‚ reducer(state = &#123;&#125;, action) è¿™é‡Œstateè¯­æ³•è¦æ±‚æœ‰é»˜è®¤å€¼ï¼Œ å¹¶ä¸”æœ€åè¿”å›äº†ï¼Œæ‰€ä»¥æ‰§è¡Œä¸€æ¬¡å°±æœ‰å€¼ state = reducer(state, action) for (let i = 0, fn; fn = listenArr[i++]; )&#123; if (typeof fn === 'function') &#123; fn() &#125; else &#123; listenArr.splice(i, 1) i-- &#125; &#125; &#125; // åˆå§‹åŒ–ä¸€ä¸‹ï¼Œæ²¡æœ‰å®é™…ä½œç”¨ï¼Œè¿”å›ç”¨æˆ·é»˜è®¤state, dispatch(&#123;type: '_INIT_DEFAULT_STATE'&#125;) function subscribe ( fn ) &#123; if ( !listenArr.includes(fn) ) &#123; // é˜²æ­¢é‡å¤æ·»åŠ  listenArr.push(fn) &#125; return function unsubscribe () &#123; let delIndex = listenArr.indexOf(fn) listenArr[delIndex] = null // é˜²æ­¢æ•°ç»„å¡Œé™· &#125; &#125; return &#123; getState, dispatch, subscribe &#125;&#125; ä»€ä¹ˆæ˜¯enhancer,å°±æ˜¯ä»£æ›¿äº†createStoreï¼Œå¯ä»¥åˆ›å»ºå‡ºä¸€ä¸ªç¬¦åˆä½ çš„è¦æ±‚çš„ä¸€ä¸ªstoreä»–çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªcreateStore,åº”è¯¥æœ‰å’ŒåŸå‡½æ•°ä¸€æ ·çš„å‚æ•°12345678910111213141516171819202122232425export default function autoLogger () &#123; // è¿”å›ä¸€ä¸ªå‡½æ•° createStore, æ›¿ä»£åŸå…ˆçš„ return createStore =&gt; (reducer, initialState, enhancer) =&gt; &#123; // æ‹¿åˆ°åŸæ¥çš„store,ç­‰äºå·²ç»åˆ›å»ºå¥½äº†ï¼Œç›´æ¥è£…é¥°å°±å¯ä»¥ const store = createStore(reducer, initialState, enhancer) // è¦†ç›–åŸå…ˆçš„dispatch function dispatch (action) =&gt; &#123; console.log(`dispatch an action: $&#123;JSON.stringify(action)&#125;`); const res = store.dispatch(action); const newState = store.getState(); console.log(`current state: $&#123;JSON.stringify(newState)&#125;`); return res; &#125; // è¿”å›æœ€ä¿®æ”¹åçš„store return &#123; ...store, dispatch &#125; &#125;&#125;// åˆ›å»ºå‡ºè‡ªå®šä¹‰çš„loggercreateStore(reducer, autoLogger()) enhancerå°±æ˜¯ä¸€ä¸ªå…è®¸è¦†ç›–çš„createStoreå½“ç„¶ä»–ä¹Ÿæ˜¯ä¾µå…¥æ€§çš„ï¼Œä¼šç ´åæ‰åŸå§‹çš„storeç»“æ„,ä¸‹é¢çš„ä¾‹å­å°±ç ´åçš„dispatchç»è¿‡è¿™ä¸ªenhancerå¤„ç†çš„dispatchå°±æ˜¯ä¸€ä¸ªæ¯«æ— ä½œç”¨çš„dispatch,æ‰€ä»¥è¯´ä»–æ˜¯ä¾µå…¥å¼çš„12345badEnhancerfunction dispatch (action)&#123; console.log('hello')&#125; ä»€ä¹ˆæ˜¯middlewareä»–å°±æ˜¯å®˜æ–¹æä¾›çš„ä¸€ä¸ªenhancer,åªæ˜¯æœ€åå…è®¸ä¿®æ”¹dispatchå¯ä»¥çœ‹å‡ºï¼Œä»–çš„åŠŸèƒ½å’Œenhancerä¸€æ ·çš„123456789export default function applyMiddleware(...middlewares) &#123; return createStore =&gt; (...args) =&gt; &#123; // çœç•¥ return &#123; ...store, dispatch &#125; &#125;&#125; å¤šå±‚enhancer å½“æˆ‘ä»¬è¦ä½¿ç”¨å¾ˆå¤šenhancerçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½è¦åŒ…å¾ˆå¤šå±‚ 12345678910111213141516171819202122232425262728function enhancer1 (reducer, initState, () =&gt; &#123; return enhancer2 =&gt; (reducer, initState, () =&gt; &#123; return enhancer3 =&gt; (reducer, initState, enhancer) &#123; return createStore(reducer, initState, enhancer) &#123; // enhancer3çš„é€»è¾‘ const store3 = createStore(reducer, initState, enhancer) // ... è¦†ç›–æ–¹æ³• return &#123; ...store3 &#125; &#125; return createStore(reducer, initState, enhancer) &#123; // enhancer2çš„é€»è¾‘ const store2 = createStore(reducer, initState, enhancer) // ... è¦†ç›–æ–¹æ³• return &#123; ...store2 &#125; &#125; &#125; return createStore(reducer, initState, enhancer) &#123; // enhancer1çš„é€»è¾‘ const store1 = createStore(reducer, initState, enhancer) // ... è¦†ç›–æ–¹æ³• return &#123; ...store1 &#125; &#125; &#125;)&#125;) é€šå¸¸ä½¿ç”¨composeè¿›è¡Œç»„åˆ, åŒ…è£¹å°†applyMiddleware,ä¹Ÿè¦ç»„åˆè¿›å»æœ€åä¼šè¿”å›ä¸€ä¸ªä¾æ¬¡åµŒå¥—çš„enhancerï¼Œç±»ä¼¼ä¸€ä¸ªæ´‹è‘±æ¨¡å‹ 12345const enhancer = compose( applyMiddleware(...middlewares), autLogger(), otherEnhancer(),); å½“ç„¶ï¼Œå¦‚æœä¸éœ€è¦enhancerï¼Œç›´æ¥createStore(reducer, applyMiddleware())å³å¯]]></content>
      <tags>
        <tag>æºç </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[asyncä¸awaitçš„ç†è§£]]></title>
    <url>%2F2019%2F07%2F07%2Fsync%E4%B8%8Eawait%E7%9A%84%E7%90%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[å…·ä½“çš„æ‰§è¡Œæƒ…å†µV8ä¸æµè§ˆå™¨ç¯å¢ƒå¯èƒ½ä¼šç•¥æœ‰å·®å¼‚ï¼Œè¿™é‡Œä¸»è¦åšä¸€äº›åŸç†è¯´æ˜ï¼Œå…·ä½“çš„æ‰§è¡Œé¡ºåºå¯èƒ½éœ€è¦è§†å®é™…æƒ…å†µæ¥å®šã€‚ asyncasyncæ˜¯å°†ä¸€ä¸ªæ–¹æ³•ç­‰å¾…ï¼Œä½†æ˜¯å…¶å¹¶ä¸æ˜¯æš‚åœåˆ°é‚£è¾¹ï¼Œè€Œæ˜¯å°†å…¶æŠ›å‡ºä¸»çº¿ç¨‹ï¼Œè¿›å…¥å°±ç»ªé˜Ÿåˆ—ç­‰å¾…ï¼Œè€Œæ•´ä¸ªasyncå‡½æ•°çš„è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œå…·ä½“åŒºåˆ†ä»¥ä¸‹æƒ…å†µ123456789101112131415161718192021222324252627282930async function fn1 () &#123; // .... return 'foo'&#125;// -&gt; Promise.resolve('foo')async function fn2 () &#123; // .... &#125;// -&gt; Promise.resolve(undefined)async function fn3 () &#123; // .... return new Promise((resolve, reject) =&gt; &#123; resolve('success') &#125;)&#125;// -&gt; Promise.resolve('success')async function fn4 () &#123; // .... return new Promise((resolve, reject) =&gt; &#123; reject('fail') &#125;)&#125;// -&gt; Promise.reject('fail') ä¹Ÿå°±æ˜¯è¯´ï¼Œasyncçš„ä½œç”¨ï¼Œæœ€åè¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ã€‚ awaitawaitæ˜¯å°†Promiseçš„å†…å®¹å–å‡ºæ¥çš„ä¸€ä¸ªæ–¹å¼ï¼Œæ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œå¼‚æ­¥ç¼–ç¨‹çš„æ“ä½œï¼Œä»–æ˜¯å–å‡ºPromise.resolve()çš„è¿”å›å€¼ï¼Œè¦æ ¹æ®éœ€æ±‚åŠ å…¥try-catchæ¥æ»¡è¶³éœ€æ±‚ï¼Œä»–çš„æ“ä½œå¿…é¡»åœ¨asyncä¸­æ‰§è¡Œï¼Œå› ä¸ºè¦æš‚æ—¶æŠ›å‡ºä¸»çº¿ç¨‹ï¼ˆâ€œæš‚æ—¶åœæ­¢â€ï¼‰1234567891011121314151617181920212223242526272829// resolveçš„æƒ…å†µï¼Œä¹Ÿæ˜¯æ­£å¸¸çš„æƒ…å†µä¸‹function getDataSuccess () &#123; return new Promise((resolve, reject) =&gt; &#123; resolve('success') &#125;)&#125;(async () =&gt; &#123; let dataSuccess = await getDataSuccess() console.log(dataSuccess) // è¾“å‡º--&gt; success&#125;)()// å¦‚æœæœ‰rejectçš„æƒ…å†µï¼Œéœ€è¦é…åˆtry-catchfunction getDataFail () &#123; return new Promise((resolve, reject) =&gt; &#123; reject('fail') &#125;)&#125;(async () =&gt; &#123; try &#123; let dataFail = await getDataFail() console.log(dataFail) &#125; catch (error) &#123; console.log(error) // è¾“å‡º--&gt; error &#125;&#125;)() asyncå’Œawaitæ­é…ä½¿ç”¨12345678910111213141516171819202122232425// å…¶ä¸­asyncçš„ä½œç”¨ç›¸å½“äºè¿”å›äº†Promise.resolve( foo() ) async foo () &#123; &#125;// awaitçš„ä½œç”¨å–å‡ºæ•°æ® await bar()new Promise(resolve =&gt; &#123; resolve( bar() )&#125;).then(val =&gt; &#123; ret = val &#125;)// ä¸¤ä¸ªéƒ¨åˆ†å’Œèµ·æ¥ç›¸å½“äºä¸¤å—Promiseasync fn() &#123; return new Promise( ..... )&#125;let ret = await fn()...======== ç­‰ä»·äº =======new Promise((resolve) =&gt; &#123; resolve( Promise.resolve(fn()) )&#125;).then((val)=&gt;&#123; const v1 = val ...&#125;) æ³¨æ„ï¼Œç”±äºæµè§ˆå™¨çš„ä¸åŒï¼Œä»¥åŠè¿è¡Œç¯å¢ƒçš„ä¸åŒï¼Œå¯èƒ½è¿è¡Œé¡ºåºä¼šç•¥æœ‰å·®å¼‚ ä»¥ä¸‹ä»…è‡ªå·±åˆ†æï¼ˆä¸ä¸€å®šæ­£ç¡®ï¼‰ï¼Œå¯ä¾›æ€è·¯å‚è€ƒï¼Œå¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿æŒ‡æ­£ã€‚ 12345678910111213141516171819202122232425262728async function testSometing() &#123; console.log("æ‰§è¡ŒtestSometing"); return "testSometing";&#125;async function testAsync() &#123; console.log("æ‰§è¡ŒtestAsync"); return Promise.resolve("hello async");&#125;async function test() &#123; console.log("test start..."); const v1 = await testSometing(); console.log(v1); const v2 = await testAsync(); console.log(v2); console.log(v1, v2);&#125;test();var promise = new Promise((resolve)=&gt; &#123; console.log("promise start.."); resolve("promise");&#125;);promise.then((val)=&gt; console.log(val));console.log("test end...") æ‰§è¡Œæƒ…å†µä¸€12345678910111213141 test start...2 æ‰§è¡ŒtestSometing3 promise start..4 test end...5 promise *6 testSometing *7 æ‰§è¡ŒtestAsync *8 hello async9 testSometing hello async// è¿™ç§æƒ…å†µæ˜¯ ç”±äºawait çš„å‡½æ•°æ˜¯ä¸€ä¸ªasync,ç›¸å½“äºä¸¤å±‚Promise,å¦‚ä¸Šï¼Œæ‰€ä»¥ä»–æŠ›å‡ºçº¿ç¨‹2æ¬¡ï¼Œè®©åé¢çš„è¿è¡Œï¼ˆè¾ƒéš¾ç†è§£ä¸€ç§ï¼‰-&gt; asyncçš„å‡½æ•°PromiseæŠ›å‡ºï¼ˆå‰©ä½™2ä¸ªï¼‰ -&gt; new Promiseçš„PromiseæŠ›å‡º(å‰©ä½™ä¸€ä¸ª)-&gt; è¿è¡Œæ ˆç©ºäº†,è°ƒå…¥ -&gt;asyncçš„å‡½æ•°PromiseæŠ›å‡ºï¼ˆå‰©ä½™1ä¸ªï¼‰-&gt; new Promiseçš„Promiseæ‰§è¡Œ-&gt; è¿è¡Œæ ˆç©ºäº†,è°ƒå…¥ -&gt;asyncçš„å‡½æ•°Promiseæ‰§è¡Œ æ‰§è¡Œæƒ…å†µäºŒ123456789101112131 test start...2 æ‰§è¡ŒtestSometing3 promise start..4 test end...5 testSometing *6 æ‰§è¡ŒtestAsync *7 promise *8 hello async9 testSometing hello async// è¿™ç§æƒ…å†µæ˜¯æŠŠä¸¤ä¸ªPromiseæ”¾åˆ°ä¸€èµ·ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒå®¹æ˜“ç†è§£çš„ä¸€ç§æ–¹å¼-&gt; asyncçš„å‡½æ•°PromiseæŠ›å‡º -&gt; new Promiseçš„PromiseæŠ›å‡º-&gt; è¿è¡Œæ ˆç©ºäº†,è°ƒå…¥ -&gt; asyncçš„å‡½æ•°Promiseæ‰§è¡Œ -&gt; new Promiseçš„Promiseæ‰§è¡Œ]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è·¯ç”±router]]></title>
    <url>%2F2019%2F07%2F05%2F%E8%B7%AF%E7%94%B1router%2F</url>
    <content type="text"><![CDATA[react-router-dom åœ¨3.xä»¥ä¸Šä½¿ç”¨react-router-dom,åœ¨ä»¥ä¸‹ä½¿ç”¨react-router BrowseRouter VS HashRouter BrowseRouter urlå˜æ¢çš„æ–¹å¼ï¼Œå¤šç”¨äºæœåŠ¡ç«¯æ¸²æŸ“çš„æ–¹å¼ å…¶ä¾é h5çš„ history API 123http://www.demo.com/http://www.demo.com/personal/http://www.demo.com/personal/login/ HashRouter ä½¿ç”¨å“ˆè¥¿è·¯ç”±ï¼Œ ä½¿ç”¨jsæ„é€ history APIï¼Œ åŸºäºhistory stackæ¥å®Œæˆçš„ 123http://www.demo.com/#/http://www.demo.com/#/personal/http://www.demo.com/#/personal/login/ RouteråŒ¹é…è§„åˆ™ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯éƒ½å¯ä»¥åŒ¹é…çš„123456789101112131415161718192021222324252627282930313233343536373839401. http://www.demo.com/#/2. http://www.demo.com/#/useréƒ½èƒ½åŒ¹é…åˆ°&lt;Route path=&quot;/&quot; component /&gt; 1. 2.&lt;Route path=&quot;/&quot; exact component /&gt; 1.// æƒé™æ ¡éªŒ&lt;Route path=&quot;/pay&quot; render=&#123;() =&gt; &#123; let flag = localStorage.getItem(&apos;FLAG&apos;) if (flag &amp;&amp; flag === &apos;SAFE&apos;) &#123; return &lt;Pay/&gt; &#125; return &apos;å½“å‰ç¯å¢ƒä¸å®‰å…¨ï¼Œç»ˆæ­¢äº¤æ˜“&apos;&#125;&#125;/&gt;// ä½¿ç”¨ Switchç»„ä»¶åªåŒ¹é…ä¸€ä¸ª,å³åŒ¹é…ä¸€ä¸ªåè·³å‡º&lt;HashRouter&gt;&lt;Swtich&gt; &lt;Route path=&quot;/&quot; exact component=&#123;A&#125;/&gt; // ç”±äº` / `åŒ¹é…çš„å¤ªå¹¿æ³›ï¼Œæ‰€ä»¥åŠ ä¸€ä¸‹react &lt;Route path=&quot;/user&quot; component=&#123;A&#125;/&gt; &lt;Route path=&quot;/pay&quot; component=&#123;A&#125;/&gt; &lt;Route render=&#123;() =&gt; &#123;return &apos;404&apos;&#125; &#125;/&gt; æˆ–è€… &lt;Redirect to=&apos;/&apos; /&gt;&lt;/Switch&gt;&lt;/HashRouter&gt;&lt;Router /&gt; ä¸è®¾ç½®Pathæ˜¯åŒ¹é…æ‰€æœ‰çš„// é‡å®šå‘&lt;Redirect to=&quot;/?lx=404&quot; /&gt;&lt;Redirect to=&#123;&#123; pathname: &apos;/&apos;, search: &apos;?/lx=404&apos;&#125;&#125; /&gt;// å¦‚æœåŠ å…¥äº†PUSHå±æ€§ï¼Œ ä¼šåŠ å…¥åˆ°HISTORY SATCKä¸­å¢æ·»ä¸€æ¡è®°å½•&lt;Redirect from=&apos;/custom&apos; to=&apos;/custom/list&apos; /&gt;å¦‚æœè¯·æ±‚çš„HASHæ˜¯ &apos;/custom&apos; é‚£ä¹ˆå°±é‡å®šå‘åˆ° &apos;/custom/list&apos; &lt;Link&gt; ä¸ &lt;NavLink&gt;å¿…é¡»éƒ½åŒ…è£¹åœ¨ä¸­ åŸç†ï¼šæœ€ç»ˆéƒ½ä¼šè½¬æ¢æˆ&lt;a href=&quot;#/&quot; &gt;xxx&lt;/a&gt; ä½¿ç”¨ï¼š12345678910111213141516&lt;Link to=&apos;/&apos;&gt;&lt;/Link&gt; æ™®é€šçš„è·³è½¬&lt;Link to=&#123; &#123; pathname: &apos;xxx&apos;, search: &apos;xxx&apos;, state: &apos;xx&apos;&#125; &#125; &gt;&lt;/Link&gt;&lt;NavLink&gt;ä½¿ç”¨æ–¹æ³•ä¸€æ · å¯ä»¥ç‚¹å‡»çš„è·³è½¬ï¼Œä½†æ˜¯å…¶åŸç†æ˜¯åŒ¹é…hashï¼Œå¹¶ä¸æ˜¯onClickå¢åŠ çš„active&lt;NavLink activeClass=&quot;active&quot; activeStyle&gt;ä¸€èˆ¬ä¸€çº§è·¯ç”±çš„navä¸èƒ½ç®€å•ä½¿ç”¨NavLinkçš„ç‚¹å‡»æ·»åŠ active,ï¼ˆå› ä¸ºNavå·²ç»è¢«æ¸²æŸ“å¥½äº†ï¼Œå¹¶æ²¡æœ‰å› ä¸ºhashçš„æ”¹å˜è€Œé‡æ–°æ¸²æŸ“ï¼‰æ³¨æ„ï¼šå½“ &lt;NavLink to=&quot;/&quot; /&gt; æ—¶, è¦ä½¿ç”¨ exact1. è§£å†³æ–¹æ¡ˆ1 -&gt; å°†navæ”¾åˆ°å„Navç»„ä»¶ä¸­ï¼ˆä¸æ¨èï¼‰2. è§£å†³æ–¹æ¡ˆ2 -&gt; ä½¿ç”¨withRouteråŒ…èµ·æ¥ export default withRouter(connect()(Nav)), åªè¦è®©å…¶é€šè¿‡è·¯ç”±ç®¡æ§å°±å¯ä»¥ï¼Œæ¨¡æ‹Ÿæˆå—è·¯ç”±ç®¡æ§çš„ç»„ä»¶ï¼Œå³å¯æ ¹æ®è·¯ç”±å¯¹çš„æ”¹å˜è€Œæ›´æ–° å—æ§ç»„ä»¶åœ¨propsä¸Šå¢æ·»çš„å±æ€§ HISTORY åŸºäº history stackå†å²ä¿¡æ¯æ ˆ PUSH è¿½åŠ ä¸€æ¡ä¿¡æ¯ this.props.history.push(â€˜./planâ€™) GO å‰å¾€ç¬¬å‡ æ¡ 1ï¼Œå¾€åçš„ä¸€é¡µï¼Œ -1 å¾€å‰çš„ä¸€é¡µ GO-BACK &lt;=&gt; GO(-1) GO-FORWARD &lt;=&gt; GO(1) LOCATION è·å–å½“å‰hashè·¯ç”±æ¸²æŸ“ç»„ä»¶ä¿¡æ¯ pathname å½“å‰hashåœ°å€ search å½“å‰ é—®å· + ä¼ å€¼http://www.demo.com/#/plan?lx=1 -&gt; ?lx=1 state åŸºäºREDIRECY/LINK/NAV-LINK, å¯¹è±¡ä¸­è®¾ç½®state,å³å¯åœ¨è¿™è·å–1&lt;LINK to=&#123; &#123;pathname: 'plan', search:'', state: &#123;&#125;&#125; &#125; MATCH è·å–å½“å‰è·¯ç”±åŒ¹é…ç»“æœ PARAMS å¦‚æœåŒ¹é…åœ°å€å‚æ•°ï¼Œè·¯å¾„ä¼ å‚æ‰ä½¿ç”¨ ä¼ é€’å‚æ•° search ?id=1ï¼Œ éœ€è¦è§£æï¼Œå¯æ”¯æŒåˆ·æ–°ï¼Œåœ°å€æ æœ‰çŠ¶æ€ state to={ {pathname: &#39;/&#39;, state: id} }, ç›´æ¥è·å–ï¼Œåœ°å€æ æ— çŠ¶æ€ï¼Œä½†æ˜¯ä¸å¯åˆ·æ–°ï¼Œå¯ä»¥åšæˆæ”¯ä»˜é¡µç­‰ URLä¼ é€’ å°†å‚æ•°ä½œä¸ºåœ°å€ä¸€éƒ¨åˆ† restful /detail/3 æ›´æ”¹è·¯ç”±è§„åˆ™ &lt;Route path=&quot;/detail:id&quot; component={A}/&gt; è®¾ç½®pathname to={ {pathname: &#39;/detail/${id}&#39; } } è§£æ è·å–åˆ°match, let { match: {param} } = this.props param.idå³å¯]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[reduxä¸react-redux]]></title>
    <url>%2F2019%2F07%2F05%2Fredux%E4%B8%8Ereact-redux%2F</url>
    <content type="text"><![CDATA[Redux reduxå¹¶ä¸æ˜¯ä¸ºreactè€Œå‡ºï¼Œä»–å¯ä»¥è¿ç”¨åˆ°jQuery, vueç­‰é¡¹ç›®ä¸­ ç»Ÿä¸€çš„çŠ¶æ€ç®¡ç†ï¼Œå°†æ‰€æœ‰çš„çŠ¶æ€å€¼æ”¾åœ¨ä¸€èµ·ï¼Œé€šè¿‡å¯¹Reducerå‘é€dispatchæ¥è¾¾åˆ°ç»Ÿä¸€ç®¡ç†ç”¨æˆ· -&gt; reducer reducer -&gt; æ•°æ® ç±»ä¼¼ä¸€ç§ä¸­ä»‹è€…çš„æ¨¡å¼ åº”ç”¨åœºæ™¯ ç»„ä»¶ä¹‹é—´é€šä¿¡ æ•°æ®ä¸´æ—¶ç¼“å­˜(å³localstoreçš„åŠŸèƒ½)ï¼Œæ€§èƒ½ä¼˜åŒ– ä¸»è¦æµç¨‹ç”¨æˆ·å‘å‡ºä¿®æ”¹ï¼Œdispatch -&gt; reducer, æ¥æ”¶åˆ°æ•°æ®ï¼Œåˆ°reducerä¸­è¿›è¡ŒåŒ¹é…æŸ¥æ‰¾ï¼Œä¿®æ”¹æˆåŠŸåï¼Œæ‰§è¡Œä¹‹å‰è®¢é˜…è¿‡çš„æ–¹æ³• subscribeã€‚ç”¨æˆ·åœ¨è®¢é˜…äº‹ä»¶ä¸­è¿›è¡Œäº†setState,è§¦å‘è§†å›¾æ›´æ–° ä¸»è¦æ–¹æ³• åˆ›å»ºä¸€ä¸ªreducer 1234let reducer = (state, action) &#123; // .... action.type ä¸ºdispatchçš„typeç±»å‹ return state // è¿”å›æœ€ç»ˆçš„æ•°æ®ä»“åº“&#125; åˆ›å»ºå‡ºæ•°æ®ä»“åº“store 12import &#123; createStore &#125; from 'redux 'let store = createStore(reducer) å¯¹éœ€è¦çš„æ•°æ®è¿›è¡Œå–å‡º(getState) 12let &#123;getState&#125; = store// let &#123;xx&#125; = getState() è®¢é˜…äº‹ä»¶(subscribe) 12345678let &#123; subscribe &#125; = storesubscribe(() =&gt; &#123; // .... setState() ä¸€èˆ¬è°ƒç”¨setStateå¯ä»¥è§¦å‘renderæ›´æ–°&#125;)// å–æ¶ˆè®¢é˜…let unSubscribute = subscribe()unSubscribute() è§¦å‘äº‹ä»¶(dispatch) 1234let &#123; dispatch &#125; = storedispatch(&#123; type: XXX_XXX //ä¸€èˆ¬ä½¿ç”¨å¤§å†™å­—æ¯&#125;) react-reduxæ˜¯reactå¯¹reduxçš„è¿›ä¸€æ­¥å°è£…ï¼Œè®©å…¶æ“ä½œæ›´ç®€æ´ ä½¿ç”¨æ­¥éª¤ æ ¹ç»„ä»¶ä¸Šæä¾›Provider,å¹¶ä¸”ä½¿ç”¨å…¶åŒ…å›´èµ·æ¥ï¼Œå¹¶ä¼ å…¥store 1&lt;Provider store=&#123;store&#125;&gt;&lt;div&gt;....&lt;/div&gt;&lt;/Provider&gt; æ„é€ ç»„ä»¶ä¸ºconnectç»„ä»¶ 12345678910class Head extends React.Component&#123; ... &#125;mapStateToProps = (state) =&gt; &#123; return &#123;...state.xxx &#125; &#125;mapDispatchToProps = (dispatch) =&gt; &#123; return todo () &#123;...&#125; &#125;export default connect(mapStateToProps, mapDispatchToProps)(Head)// mapStateToPropsï¼ŒmapDispatchToPropsä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯è®²æ•°æ®æŒ‚åœ¨åˆ°Propsä¸Š// å…¶ä½™å‡å†…éƒ¨æŒ‰ç…§æ­£å¸¸ï¼Œåˆ°æ—¶å€™æ”¹ç¼–æ•°æ® = æ”¹å˜çŠ¶æ€ è§¦å‘componentWillReceiveProps// å®Œæˆé‡æ–°æ¸²æŸ“ï¼Œå¹¶ä¸”ä¼šæ ¹æ®ä½¿ç”¨çš„æ•°æ®è‡ªåŠ¨ç»‘å®šsubscribeä¸Šå»// å³æ‰€æœ‰çš„state,dispatchæ–¹æ³•ä»this.propsä¸Šè§£æ„å³å¯ ä»propsä¸Šè§£æ„ 1let &#123; n &#125; = this.props æ³¨æ„ï¼š ä½¿ç”¨å¯¼å‡ºçš„ç»„ä»¶è¿›è¡Œjsxè¯­æ³•ç¼–å†™ å¦‚æœä¼ å…¥çš„propsä¸reduxè½¬æ¢åçš„å±æ€§å†²çªåï¼Œä¼šå‘ç”Ÿè¦†ç›– åŸç† ProviderProvider ä»…ä»…æ˜¯å°†storeæ”¾å…¥ä¸Šä¸‹æ–‡è·¯å¾„ä¸­ï¼Œä¸ºäº†ä»¥åå¯ä»¥æ›´å¥½ä½¿ç”¨ï¼Œç›´æ¥æ¸²æŸ“å­å…ƒç´ å³å¯ 123render () &#123; return this.props.children&#125; connectè¯¥æ–¹æ³•æœ€ç»ˆè¿˜æ˜¯æ¸²æŸ“Conponent, ç›´æ¥åœ¨render()ä¸­æ¸²æŸ“å³å¯ 123render () &#123; return &lt;Componenet &#123;...this.state&#125; &#123;...this.props&#125;/&gt;&#125; å°†æ‰€æœ‰çš„stateï¼Œæˆ–è€…dispatchä¸­å‡½æ•°æŒ‚åœ¨åˆ°propsæœ¬è´¨æ˜¯æŒ‚è½½åˆ°è‡ªå·±çš„stateä¸Šï¼Œæ–¹ä¾¿åç»­setState(...) æ¥è§¦å‘é‡æ–°æ¸²æŸ“ï¼Œç„¶è€Œç»™ä¸‹ä¸€å±‚çš„æ—¶å€™ï¼Œå°±æ˜¯&lt;Component {...state}/&gt;ï¼Œä¹Ÿå³å°†å±æ€§ä¼ é€’ï¼Œä»è€Œåœ¨å­ç»„ä»¶ä¸­å¯ä»¥ç›´æ¥é€šè¿‡thisè·å–åˆ° è‡ªåŠ¨è®¢é˜…ç”±äºä»–è‡ªå·±æ˜¯ä»¥stateçš„å½¢å¼å­˜å‚¨çš„ï¼Œæ‰€ä»¥åœ¨ComponentDidMountä¸­å°±è®¢é˜…å½“æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œé‡æ–°æ¸²æŸ“ï¼Œæ‰€ä»¥ç»™å­ç»„ä»¶çš„Propsæ”¹å˜ï¼Œä¼šè§¦å‘componentWillReceiveProps, å¹¶ä¸”æ¥ä¸‹æ¥ä¼šè§¦å‘ä¸€ç³»åˆ—çš„æ›´æ–°äº‹ä»¶ï¼Œä»è€Œè¾¾åˆ°äº†è‡ªåŠ¨æ›´æ–°çš„ç›®çš„ã€‚ å·¥ç¨‹åŒ–ç›®å½•1234567891011|-store| |-action // æ€»çš„actionç›®å½•| |-personal.js| |-vote.js| |-index.js // æ±‡æ€»å¯¼å‡º import Action .... from '.../store/action'| |-reducer // å­˜æ”¾reducer| |-personal.js| |-vote.js| |-index.js // æ±‡æ€»å¯¼å‡ºçš„ import Reducer .... from '.../store/reducer'| |-action-types.js // å­˜æ”¾çš„æ‰€æœ‰actionä¸ªä¸­typeç±»å‹å¸¸é‡ import * as TYPE from '.../store/action-types'| |-index.js // æ±‡æ€»reduce å¹¶ä¸”åˆ›å»ºå‡ºstore,å¯¼å‡ºå³å¯ reducerä¸ªé¡¹çš„reducerè¿˜æ˜¯ä»¥ä¹‹å‰çš„æ–¹å¼ï¼Œåˆå¹¶reducerè€ƒè™‘åˆ°é‡å¤çš„é—®é¢˜ï¼Œæ‰€ä»¥è¿›è¡Œäº†ä¸€å±‚å¯¹è±¡ç©ºé—´å‘½å 12345678import &#123; combineReducers &#125; from 'redux'let reducer = combineReducers(&#123; personal, vote&#125;)// å–æ•°æ®çš„æ—¶å€™let &#123; name, age &#125; = Store.getStore().personal actionactionä¸­,è¿”å›å€¼æ˜¯ä¹‹å‰dispatchçš„å‚æ•°ï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†ç»Ÿä¸€ç®¡ç†ï¼Œå…¶å®è¿˜æ˜¯ä¹‹å‰çš„åŸç† 12345678let vote = &#123; support () &#123; return &#123; type: TYPE.VOTE_SUPPORT &#125; &#125;&#125;// ä½¿ç”¨çš„æ—¶å€™Store.dispatch(Action.vote.support()) ä¸­é—´ä»¶ ä½¿ç”¨ 123import &#123; createStore, applyMiddleware &#125; from 'redux'let store = createStore(reducer, applyMiddleware(xxxä¸­é—´ä»¶1ï¼Œxxxä¸­é—´ä»¶2...) ) redux-logger: ç”¨äºåœ¨æ§åˆ¶å°æ¸…æ™°æ˜¾ç¤ºå‡ºå½“å‰çš„REDUXçš„æ“ä½œä¿¡æ¯ï¼Œä»¥åŠä¿®æ”¹åçš„çŠ¶æ€ä¿¡æ¯ 1ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€é…ç½®ï¼Œæ§åˆ¶å°ä¼šæ‰“å°å‡ºç›¸åº”çš„æ“ä½œè¿‡ç¨‹ redux-thunk: å¤„ç†å¼‚æ­¥Dispatchæ´¾å‘ä»»åŠ¡ 123456789101112addCustom (payload) &#123; return dispatch =&gt; &#123; setTimeout(() =&gt; &#123; dispatch(&#123; type: TYPE.ADD_CUSTOM, payload &#125;) &#125;, 3000) &#125;&#125;dispatch ( Action.custom.addCustom(payload) )// åŸç†ï¼Œç¬¬ä¸€æ¬¡å‘å‡º actionä¸ºundefinedï¼Œå¹¶å°†stateåŸæ ·è¿”å›ï¼Œè·å–åˆ°æ•°æ®ï¼Œå†å‘ä¸€æ¬¡æ­£å¸¸çš„ redux-promise: å¤„ç†å¼‚æ­¥Dispatchæ´¾å‘ä»»åŠ¡,æ”¯æŒpromiseæ“ä½œ 12345678910111213addCustom (payload) &#123; return &#123; type: TYPE.ADD_CUSTOM, payload: new Promise(resolve =&gt; &#123; setTimeout(() =&gt; &#123; resolve(payload) &#125;, 3000) &#125;) &#125;&#125;dispatch ( Action.custom.addCustom(payload) )// åŸç†ï¼Œç¬¬ä¸€æ¬¡å‘å‡ºæ­£å¸¸çš„ï¼Œå½“å‘ç°æ¥æ”¶åˆ°çš„æ•°æ®ä¸ºPromiseï¼Œåˆ™ä¸è¿›è¡Œæ”¹å˜state(å³ä¸å­˜å‚¨state),// åç»­å®Œæˆåï¼Œå†å‘ä¸€æ¬¡æ­£å¸¸çš„ï¼Œå¹¶æ”¹å˜state]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[reactç»„ä»¶ä½¿ç”¨]]></title>
    <url>%2F2019%2F07%2F05%2Freact%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[jsxçš„ä½¿ç”¨ ä¸å»ºè®®å°†JSXç›´æ¥æ¸²æŸ“åˆ°domä¸­ï¼Œä¸€èˆ¬éƒ½æ˜¯æ¸²æŸ“åˆ°ä¸€ä¸ªDIVä¸­ï¼ˆå¯èƒ½ä¼šé¢‘ç¹è·Ÿæ¢ï¼Œdivæ¯”è¾ƒé€‚åˆï¼‰ {}å†…æ˜¯jsï¼Œè¡¨è¾¾å¼ï¼Œä½†æ˜¯ä¸€å®šè¦å­˜åœ¨è¿”å›å€¼æ‰å¯ä»¥ï¼Œfor ä¸ if éƒ½ä¸å¯ä»¥ï¼Œä¸èƒ½ç›´æ¥æ”¾ä¸€ä¸ªå¯¹è±¡ï¼ˆ é™¤äº†ç»™styleèµ‹å€¼ é™¤äº†React.elementå¯¹è±¡ ä¸€èˆ¬å¾ªç¯åˆ›å»ºJSXå…ƒç´ éƒ½æ˜¯é‡‡ç”¨mapæ–¹æ³•æ¥å®Œæˆï¼Œæ³¨æ„ä½¿ç”¨key={}æ¥ç»‘å®škeyçš„å€¼ Reactçš„æµç¨‹ ä½¿ç”¨Babelå°†JSXè¯­æ³•è§„åˆ™ è§£ææˆReact.createElement(type, props, children),ä»…ä»…æ˜¯å½¢å¼ï¼Œä¹Ÿå°±æ˜¯å°†JSXè¯­æ³•è¡¨è¿°å‡ºæ¥ï¼Œä½†æ˜¯æ­¤æ—¶å¹¶æ²¡æœ‰æ‰§è¡Œã€‚ React.createElement(type, props, children) æ‰§è¡Œï¼Œåˆ›å»ºä¸€ä¸ªè™šæ‹ŸDOMï¼Œä¸»è¦åŒ…å«ä¸€ä¸‹çš„éƒ¨åˆ† 123456&#123; type: 'xxx', // åˆ›å»ºçš„å…ƒç´ æ ‡ç­¾åç§° props: &#123; key: value, children&#125;, // ç”¨äºæ ‡ç­¾ä¸Šçš„å±æ€§ï¼Œ å¹¶ä¸”å°†childrenæ”¾å…¥ ref: xxx, key: xxx&#125; RenderDOM.render(obj, container, callback) æ¸²æŸ“è¿™ä¸ªè™šæ‹Ÿdom åˆ›å»ºobjä¸­çš„type -&gt; dom å…ƒç´  document.createElement() æ ¹æ®å±æ€§ï¼Œç»™domæ ‡ç­¾ä¸ŠåŠ å±æ€§ï¼Œå¹¶ä¸”åªå¾ªç¯è‡ªèº«å±æ€§ï¼ˆhasOwnPropertyï¼‰ ç‰¹æ®Šå±æ€§è¦æ³¨æ„ï¼Œæ¯”å¦‚className, style, æŒ‚è½½domèŠ‚ç‚¹åˆ°Containerä¸Šï¼Œ container.appendChild(dom) Reactç”³æ˜ç»„ä»¶çš„æ–¹å¼-åŸºäºå‡½æ•° æ‰€æœ‰çš„ç»„ä»¶éƒ½æ˜¯ä»¥å‡½æ•°çš„æ–¹å¼å£°æ˜å‡ºå» export default function Component (props) { ... } è¦åœ¨è¯¥é¡µé¢ä¸­å¼•å…¥ Reactæ‰å¯ä»¥æ­£å¸¸çš„ä½¿ç”¨ï¼Œå› ä¸ºè¦ä½¿ç”¨React.createElement æ¥åˆ›å»ºå‡ºå…ƒç´  ç»è¿‡babelå¤„ç†åï¼Œæ‰€æœ‰çš„å±æ€§éƒ½ä¼šä»¥propså¯¹è±¡çš„å½¢å¼å­˜åœ¨èµ·æ¥ï¼Œæ‰€ä»¥å‡½æ•°çš„å½¢å‚ä½ç½®å°±æ˜¯æ¥å—çš„å‡½æ•° Reactç”³æ˜ç»„ä»¶çš„æ–¹å¼-åŸºäºç»„ä»¶Component åŸºäºJSXæ¥craeate-elementæ¥è½¬æ¢ä¸ºå¯¹è±¡ ç»§æ‰¿React.componentå¹¶ä¸”åœ¨æ„é€ å™¨ä¸­è¦è°ƒç”¨ super ç»„ä»¶ä¸­å…³äºpropsçš„ä½¿ç”¨12345678910111213141516171819202122// 1.superä¸­ä¼ å…¥propsï¼Œå› ä¸ºæ˜¯å®ä¾‹åˆ°å¯¹è±¡ä¸Šäº†ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨this.æ¥è¿›è¡Œè®¿é—®constructor (props) &#123; super(props) this.props // è¿™é‡Œå¯ä»¥æ­£å¸¸çš„è®¿é—®åˆ°å…ƒç´ &#125;render ()&#123; this.props // è¿™é‡Œå¯ä»¥æ­£å¸¸çš„è®¿é—®åˆ°å…ƒç´ &#125;// 2.ä¸ä¼ å…¥ï¼Œåœ¨constructorä¸­æ˜¯æ— æ³•ä½¿ç”¨çš„ï¼Œå…¶ä»–åœ°æ–¹reactåšäº†é»˜è®¤å…³è”constructor () &#123; super() this.props // ä¸å¯ä»¥è®¿é—®åˆ°å…ƒç´ &#125;render ()&#123; this.props // è¿™é‡Œå¯ä»¥æ­£å¸¸çš„è®¿é—®åˆ°å…ƒç´ &#125; Reactç”³æ˜ç»„ä»¶ å‡½æ•°å¼ å’Œ ç»„ä»¶å¼å¼‚åŒç›¸åŒç‚¹ éƒ½æ˜¯é€šè¿‡JSXè½¬æ¢æ‰§è¡Œ ä¸åŒç‚¹ å‡½æ•°å¼ï¼ˆé™æ€ç»„ä»¶ï¼‰ -&gt; æ™®é€šå‡½æ•°æ‰§è¡Œ å…¶ä¸­ thisä¸ºundefined æ“ä½œè¾ƒç®€å• é€‚åˆç®€å•è°ƒå–çš„æ–¹å¼ ç»„ä»¶å¼ ï¼ˆåŠ¨æ€ç»„ä»¶ï¼‰-&gt; è°ƒç”¨newæ¥åˆ›å»ºï¼Œ å…¶ä¸­thisä¸ºåˆ›å»ºçš„è™šæ‹Ÿå…ƒç´  è¾ƒä¸ºå¤æ‚ èƒ½å¤Ÿä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•° èƒ½å¤Ÿä½¿ç”¨ä¸€äº›çŠ¶æ€æ¥åŠ¨æ€æ›´æ–°å†…å®¹ ç»„ä»¶ä¸­çš„çŠ¶æ€åªæœ‰åŸºäºç±»çš„ç»„ä»¶ï¼Œæœ‰çŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•° å±æ€§åªè¯»ï¼ˆåˆ«äººç»™çš„ï¼‰ çŠ¶æ€è¯»å†™ï¼ˆè‡ªå·±è®¾å®šï¼‰ æ¨¡æ‹ŸåŒå‘æ•°æ®ç»‘å®šå¯ä»¥åœ¨inputçš„onchangeäº‹ä»¶ä¸­ç»‘å®šsetState()12345678let &#123;text&#125; = this.state&lt;input type="text" onchange=&#123;ev =&gt; &#123; this.setState(&#123; text: ev.target.value &#125;)&#125;&#125; value=&#123;text&#125; /&gt;&lt;div&gt;&#123;text&#125;&lt;/div&gt; ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç»„ä»¶ç¬¬ä¸€æ¬¡åˆ›å»ºçš„ç”Ÿå‘½å‘¨æœŸ static defaultProps{} (é»˜è®¤å‚æ•°ï¼Œéæ­£å¼çš„ç¬¬ä¸€æ­¥ï¼Œéœ€å®‰è£…ç»„ä»¶ prop-types æ‰å¯é…ç½®) 123456static defaultProps = &#123; speed: 300&#125;static propTypes = &#123; speed: PropTypes.number&#125; constructor()ç»„ä»¶çš„æ„é€ å‡½æ•° componentWillMount()ç»„ä»¶æŒ‚è½½ä¹‹é—´ render()æ¸²æŸ“ä¸­ componentDidMount()ç»„ä»¶æ¸²æŸ“å®Œæˆåï¼Œä¸€èˆ¬å°†è¯·æ±‚æ•°æ®æ”¾åˆ°æ­¤å¤„ æ”¹å˜çŠ¶æ€çš„ç”Ÿå‘½å‘¨æœŸ shouldComponentUpdate(nextProps, nextState)é’©å­å‡½æ•°ï¼Œå¿…éœ€è¿”å›true,æ‰èƒ½å¤Ÿå‡ºå‘æ›´æ–°ï¼Œä¸€èˆ¬åšæ€§èƒ½ä¼˜åŒ–ä½¿ç”¨ componentWillUpdate(nextProps, nextState)æ›´æ–°ä¹‹å‰ï¼Œæ­¤æ—¶çš„props, stateè¿˜æ˜¯ä¹‹å‰çš„æ•°æ®ï¼Œå¯ä»¥ç†è§£ä¸ºæ ˆï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰å‹æ ˆ renderæ¸²æŸ“ä¸­ componentDidUpdate()æ›´æ–°å®Œæˆå ä¼ å…¥çš„å±æ€§å‘ç”Ÿå˜åŒ– componentWillReceiveProps(nextProps, nextState)ä¼ å…¥çš„å±æ€§å‘ç”Ÿäº†å˜åŒ–ï¼Œæ¥ä¸‹æ¥æ‰§è¡Œæ”¹å˜çŠ¶æ€ç”Ÿå‘½å‘¨æœŸçš„ä¸€ç³»åˆ— å¸è½½ componentWillUnmount()è¯¥ç»„ä»¶è¢«å¸è½½ä¹‹å‰ï¼Œå¹¶ä¸æ˜¯é”€æ¯ï¼Œç»„ä»¶è¿˜åœ¨ setState() æ³¨æ„æ”¹å˜çŠ¶æ€çš„è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªå¼‚æ­¥æ‰§è¡Œçš„æ–¹æ³•ï¼Œä¸€å®šè¦æ…ç”¨ n: this.state.n++ è¿™ç±»æ“ä½œ,æœ€å¥½ä½¿ç”¨n: this.state.n+1123456789101112131415161718this.state = &#123; n: 0&#125;console.log(this.state.n)this.setState(&#123; n: this.state.n++&#125;)console.log(this.state.n)// ======= è¿è¡Œæƒ…å†µ (æ³¨æ„++ æ˜¯å…ˆèµ‹å€¼ï¼Œåè‡ªå¢1)// ä¸»çº¿ç¨‹ ç­‰å¾…é˜Ÿåˆ— 1. log(0) 2. set this.state.n = 0 (æ­¤æ—¶è¿˜æ²¡åˆ°++) 3. this.state.n = 1 (æ­¤æ—¶å·²ç»ç»™ä»–++äº†) 4. log(1)æ‰§è¡Œæƒ…å†µ 1 -&gt; 3 -&gt; 4 -&gt; 2 æœ€ç»ˆç»“æŸå this.state.n = 0æ‰€ä»¥æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸçš„æ—¶å€™ï¼ŒæŠŠn=0å¸¦äº†è¿‡å» ç»„ä»¶ä¹‹é—´é€šä¿¡å±æ€§ä¼ é€’ (åªè¯»)é€šè¿‡propsè¿›è¡Œä¼ é€’ï¼Œçˆ¶äº²ç»™å„¿å­ï¼Œ å„¿å­è®¾ç½®ç»™å­™å­12345678// index&lt;Parent n=&#123;1&#125;&gt;&lt;/Parent&gt;// Parent&lt;Son n=&#123;this.props.n&#125;&gt;&lt;/Son&gt;// Son&lt;div&gt;&#123;this.props.n&#125;&lt;/div&gt; ä¸Šä¸‹æ–‡ä¼ é€’ (å¯äºŒæ¬¡ä¿®æ”¹ï¼Œä¸å½±å“å…¶ä»–ç»„ä»¶)çˆ¶ç»„ä»¶å…ˆæŠŠéœ€è¦ç»™åä»£å…ƒç´ ï¼ˆåŒ…æ‹¬å­™å­ï¼‰ï¼Œå…¨éƒ½è®¾ç½®å¥½ï¼Œåä»£ç»„ä»¶éœ€è¦ä¿¡æ¯ï¼Œç›´æ¥å»è°ƒå–å³å¯ï¼ˆä¸éœ€è¦å„¿å­è½¬é€’äº†ï¼‰12345678910111213141516171819202122// ==çˆ¶ç»„ä»¶==// è®¾ç½®ä¸Šä¸‹æ–‡ç±»å‹static childContextTypes = &#123; n: PropTypes.number, m: PropTypes.number&#125;// å‘ä¸Šä¸‹æ–‡ä¼ é€’æ•°æ®getChildContext () &#123; let &#123;n, m&#125; // å¾—åˆ°éœ€è¦æ”¾ç½®çš„å€¼ return &#123; // ä¼ é€’ä¸‹å» n, m &#125;&#125;// ==å­ç»„ä»¶==// å­ç»„ä»¶éœ€è¦ä¸»åŠ¨æ¥å—çš„ä¿¡æ¯static contextTypes = &#123; n: PropTypes.number&#125;console.log(this.context.n)]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsè®¾è®¡æ¨¡å¼æ€»ç»“]]></title>
    <url>%2F2019%2F06%2F25%2Fjs%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[å•ä¾‹è®¾è®¡æ¨¡å¼jsä¸­ç”±äºæ²¡æœ‰ç±»çš„æ¦‚å¿µï¼Œæ‰€ä»¥å•ä¾‹ä¸éœ€è¦ç‰¹åˆ«è®¾è®¡ï¼Œåªè¦ä¿è¯ä¸€ä¸ªå¼•ç”¨å³å¯ï¼Œä½†æ˜¯ä¿å­˜åˆ°å…¨å±€å¯¹è±¡åˆå®¹æ˜“é€ æˆæ±¡æŸ“ï¼Œæ‰€ä»¥è¦ç»“åˆé—­åŒ…ã€‚æ³¨æ„ï¼šå¯¹è±¡åˆ›å»ºä¸å•ä¾‹çš„ç®¡ç†è¦åˆ†å¼€ã€‚ ç­–ç•¥æ¨¡å¼å°†ç®—æ³•çš„ä½¿ç”¨ ä¸ ç®—æ³•çš„è®¾è®¡ åˆ†ç¦»å¼€ï¼Œ å¯ä»¥çœ‹æˆå¯å˜çš„å‡½æ•°è°ƒç”¨ä¸»è¦æ˜¯è§£å†³if elseåˆ†æ”¯è¿‡å¤šçš„é—®é¢˜ ä»£ç†æ¨¡å¼å®¢æˆ·ä¸æ–¹ä¾¿ç›´æ¥è®¿é—®æŸä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œæä¾›ä¸€ä¸ªå¯¹è±¡æ¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ï¼Œ å®¢æˆ· -&gt; ä»£ç† -&gt; æœ¬ä½“è™šæ‹Ÿä»£ç† ä»£ç†å¯¹è±¡å’Œå®ä½“ä¹‹é—´åº”è¯¥æ˜¯ä¸€è‡´çš„ï¼Œæ–¹ä¾¿è°ƒç”¨æˆ–è€…æ›¿æ¢ç¼“å­˜ä»£ç† è®¿é—®æŸä¸ªå¯¹è±¡ä¹‹å‰ï¼Œé€šè¿‡é—­åŒ…çœ‹ä¸€ä¸‹ä¹‹å‰æœ‰æ²¡æœ‰ç¼“å­˜è¿‡ï¼Œæ²¡æœ‰åˆ™æ‰§è¡Œå¹¶æ”¾å…¥ç¼“å­˜ return cache[args] = fn() è¿­ä»£å™¨æ¨¡å¼å°†è¿­ä»£çš„è¿‡ç¨‹æŠ½ç¦»å¼€ï¼Œåªå…³å¿ƒæœ€åçš„ç»“æœï¼Œå¹¶ä¸å…³å¿ƒè¿­ä»£çš„è¿‡ç¨‹å†…éƒ¨è¿­ä»£å™¨ è°ƒç”¨æ–¹ä¾¿ï¼Œæ›´é€‚åˆçœ‹ç»“æœï¼Œjså·²ç»å®ç°äº†å†…éƒ¨è¿­ä»£å™¨forEachå¤–éƒ¨è¿­ä»£å™¨ éœ€è¦æ‰‹åŠ¨æ§åˆ¶è¿­ä»£è¿‡ç¨‹ï¼Œå¯è‡ªå®šä¹‰åŒ–æ¯”è¾ƒé«˜ ï¼ˆæ•°æ®åº“resultMapç±»ä¼¼ï¼Œ.next() ä¸‹ä¸€ä½ï¼‰ å‘å¸ƒ-è®¢é˜…ï¼ˆè§‚å¯Ÿè€…ï¼‰ æ¨¡å¼å°† å¤šä¸ªè®¢é˜…è€… æ”¾åˆ° ä¸€ä¸ªå‘å¸ƒè€…å­˜å‚¨èµ·æ¥ï¼ˆå°¤å…¶æ˜¯å¯¹å¤šä¸ªäº‹ä»¶çš„å¼‚æ­¥æ‰§è¡Œï¼‰ï¼Œå½“è¿™ä¸ªå‘å¸ƒè€…å‘å¸ƒå¯¹è±¡çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨å…¶æ‰€æœ‰è®¢é˜…è€…çš„æ–¹æ³•æ‰§è¡Œï¼Œè®¢é˜…è€…åªéœ€è¦æŒ‰ç…§è§„å®šè®¢é˜…å…¶å‘å¸ƒè€…è§„å®šçš„æ–¹æ³•å³å¯ï¼Œä¸»è¦æ˜¯äº‹ä»¶çš„è§£è€¦ï¼Œç±»ä¼¼domä¸­çš„äº‹ä»¶ç»‘å®š å‘½ä»¤æ¨¡å¼è¿™é‡Œä¸»è¦æ˜¯é’ˆå¯¹ç»‘å®šäº‹ä»¶çš„è§£è€¦æ€§ï¼Œ å°† onclick = function () { xxx } åˆ†ç¦»å¼€ï¼Œå˜æˆçº¦å®šå¥½çš„å›ºå®šæ¨¡å¼,ç”¨äº†ä¸€ä¸ªç¬¬ä¸‰è€… ï¼ˆå‘½ä»¤è€…ï¼‰è¿æ¥äº†èµ·æ¥ï¼Œ åšåˆ°äº†è§£è€¦æ€§onclick = commandObj.execute() + commandObj.execute = function () { xxx } æ³¨æ„ï¼šå‘½ä»¤æ¨¡å¼ä¸­çš„ï¼šâ€èªæ˜æ¨¡å¼â€ç”±äºæ²¡æœ‰receiverï¼Œä»ä»£ç ç»“æ„ä¸Šä¸ ç­–ç•¥æ¨¡å¼ æ¥è¿‘ï¼Œä½†æ˜¯ä»ç”¨é€”ä¸ŠåŒºåˆ†ä»–ä»¬å‘½ä»¤æ¨¡å¼ï¼ŒèŒƒå›´å¹¿ï¼Œå¯¹ä»€ä¹ˆæ‰§è¡Œä»€ä¹ˆå‘½ä»¤ç­–ç•¥æ¨¡å¼ï¼ŒæŒ‡å®šèŒƒå›´ï¼Œé‡‡ç”¨ä»€ä¹ˆæ ·çš„æ–¹æ³•è§£å†³ â€œå‚»ç“œæ¨¡å¼â€ï¼š ç”±receiveråšexecute,æ‰€ä»¥å‘½ä»¤å…¶å®å•¥éƒ½ä¸çŸ¥é“ï¼Œå°±æ˜¯å¾—åˆ°å‘½ä»¤ï¼Œè°ƒexecuteâ€œèªæ˜æ¨¡å¼â€ï¼š ç›´æ¥åœ¨commandä¸­æ‰§è¡ŒåŠŸèƒ½ï¼Œä¸åšè½¬æ¥ï¼Œä¸­é—´å±‚ç›´æ¥æ‰§è¡Œä»£ç  ç»„åˆæ¨¡å¼æ ‘å½¢ç»“æ„ï¼Œåªéœ€è¦å¯¹æ ‘æ ¹å‘å‡ºæŒ‡ä»¤ï¼Œä¾¿ä¼šä¾æ­¤éå†æ‰€æœ‰çš„å¶å­æ–¹æ³•çš„execute,æ˜¯åœ¨å‘½ä»¤æ¨¡å¼çš„å®å‘½ä»¤ä¸­å»¶ç”³è€Œæ¥ç±»ä¼¼ä¸€ä¸ªæ·±åº¦éå†ï¼Œ å¦‚æœæ˜¯ç»„åˆèŠ‚ç‚¹-&gt; éå†æ‰§è¡Œæ‰€æœ‰çš„å¶èŠ‚ç‚¹çš„ execute, å¦‚æœæ˜¯å¶å­èŠ‚ç‚¹ï¼Œç›´æ¥æ‰§è¡Œå…¶ä»£ç å³å¯ æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç®—æ³•çš„æ¡†æ¶ç”±æ¨¡æ¿å®šä¹‰å¥½ï¼Œå­ç±»åªéœ€è¦æŒ‰ç…§ä¸€å®šçš„è§„åˆ™å»å®ç°ä¸€äº›ç»†èŠ‚çš„å®ç°å³å¯ï¼Œæœ‰ç‚¹ç±»ä¼¼äºä¸javaä¸­çš„æŠ½è±¡ç±»ï¼Œæ¥å£ç±»ä»–æ˜¯ä¸€ç§åŸå‹ç»§æ‰¿çš„æ–¹å¼ äº«å…ƒæ¨¡å¼åŒºåˆ†å¤–éƒ¨çŠ¶æ€ä¸å†…éƒ¨çŠ¶æ€å…¶å®å°±æ˜¯æ‰¾å‡ºå˜åŒ–çš„å’Œä¸å˜åŒ–çš„ï¼Œç²¾é«“æ˜¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œä¾æ¬¡æ”¹å˜å…¶å†…éƒ¨çš„å±æ€§ï¼Œæ˜¯ä¸€ç§å…¸å‹çš„ ä»¥æ—¶é—´æ¢ç©ºé—´çš„ä¾‹å­ï¼Œ å¯¹è±¡æ± ä¹Ÿç±»ä¼¼äº«å…ƒæ¨¡å¼è™½ç„¶æ²¡æœ‰ä½“ç°çŠ¶æ€åˆ†ç¦»ï¼Œä½†æ˜¯æœ‰å…±äº«çš„ä½“ç° èŒè´£é“¾æ¨¡å¼ç”¨æ¥ç®€åŒ–if elseçš„ç›¸å…³æ“ä½œï¼Œæ¯ä¸ªæ–¹æ³•åªéœ€è¦å¤„ç†è‡ªå·±çš„é‚£ä¸€ç‰‡ï¼Œå¤„ç†ä¸äº†å°±å¾€åæŠ›ï¼Œç›´åˆ°æœ‰ç›¸åº”çš„èŒè´£è€…å¯ä»¥å¤„ç†å³å¯ã€‚ä¸€èˆ¬ç”¨å­—ç¬¦ä¸²&#39;nextSuccessor&#39;è¡¨ç¤ºä¼ é€’ç»™ä¸‹ä¸€ä¸ªèŒè´£å¯¹è±¡ï¼Œæˆ–è€…æ‰‹åŠ¨è°ƒç”¨ä¸‹å»ä¸€èˆ¬æœ€åä¸€ä¸ªé“¾éƒ½è¦æ”¾ä¸€ä¸ªæ¥é”…ä¾ ï¼Œè¦ä¸å°±è¢«æ”¾èµ°äº† ä¸­ä»‹è€…æ¨¡å¼å¯¹è±¡ä¹‹é—´çš„å¼•ç”¨è¿‡äºå¤æ‚çš„æ—¶å€™ï¼Œé€šå¸¸å¯ä»¥å¼•å…¥ä¸­ä»‹è€…ï¼Œå°†æ¯ä¸ªäººçš„å…³ç³»éƒ½æ‰¯åˆ°ä¸­ä»‹è€…èº«ä¸Šï¼Œè¿™æ ·ä¼šå‡å°‘å¯¹è±¡ä¹‹é—´å…³ç³»ç»´æŠ¤çš„å›°æ‰°ï¼Œä½†æ˜¯æ‰€æœ‰çš„å…³ç³»éƒ½æ˜¯ç”±ä¸­ä»‹è€…æ¥ç»´æŠ¤çš„ï¼Œä¸­ä»‹è€…ä¸€èˆ¬ä¼šè¾ƒå¤§ï¼Œå¤„ç†é€»è¾‘è¾ƒä¸ºå¤æ‚ï¼Œä½†æ˜¯å…¶ä»–ç±»éƒ½æ˜¯ç±»ä¼¼é€æ˜çš„ï¼Œæ‰€æœ‰å…³ç³»éƒ½æœ‰ä¸­ä»‹è€…æ¥ç»´æŠ¤ï¼Œç±»ä¹‹é—´æ˜¯ä¸çŸ¥é“è‡ªå·±æ˜¯å¦ä¸åˆ«äººæœ‰å…³è”(å¯¼è‡´æœ¬èº«çš„å…³è”ä¸è¢«å…³æ³¨)ï¼ŒæŠ˜ä¸­ä½¿ç”¨åªéœ€è¦ç»´æŠ¤ä¸­ä»‹è€… å°±å®Œæˆäº†ç±»ä¹‹é—´çš„å…³ç³»ç»´æŠ¤ è£…é¥°è€…æ¨¡å¼ä¸»è¦æ˜¯ä¸ºäº†åœ¨ä¸æ”¹åŠ¨åŸå‡½æ•°çš„æƒ…å†µä¸‹ï¼Œè¿›è¡Œæ‹“å±•ï¼Œæœ€ä¸»è¦çš„è¿ç”¨æ˜¯åœ¨å‡½æ•°ä¹‹å‰.beforeï¼Œå‡½æ•°ä¹‹å.afterä½¿ç”¨äº†AOPç¼–ç¨‹çš„æ€æƒ³ï¼Œè®©åŠŸèƒ½ä¹‹é—´çš„è€¦åˆåº¦ä¸‹é™ï¼Œå¹¶ä¸”è£…é…æ€§å˜å¼ºï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„éœ€æ±‚å»è£…é…ä¸åŒçš„åŠŸèƒ½ æ³¨æ„ï¼šï¼ˆä¸¤è€…ä»£ç ç»“æ„ç›¸ä¼¼ï¼Œä½†æ˜¯è¦ä»ç›®çš„æ¥è¿›è¡ŒåŒºåˆ†ï¼‰è£…é¥°è€…æ¨¡å¼ï¼š é€šå¸¸ä¼šæ·»åŠ ä¸€è¿ä¸²çš„è£…é¥°è€…ï¼Œç»™ä»–æ‹“å±•ä¹‹å¤–çš„ä¸€äº›åŠŸèƒ½ã€‚ä»£ç†æ¨¡å¼ï¼š é€šå¸¸åªæœ‰ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œè€Œä»–çš„ç›®çš„æ˜¯å¢å¼ºåŸæœ‰çš„åŠŸèƒ½ çŠ¶æ€æ¨¡å¼æ ¹æ®ä¸åŒçš„åœºæ™¯æ¥è§£å†³ä¸åŒçš„é—®é¢˜ï¼Œä¸»è¦æ˜¯åœ¨ä¸åŒçŠ¶æ€ä¸‹è¡¨ç°å‡ºçš„æ–¹æ³•ä¸ä¸€æ ·ï¼Œå°†å„ä¸ªäº‹ä»¶ç»‘å®šåˆ°çŠ¶æ€ä¸­å®šä¹‰ä¸”åˆ‡æ¢çŠ¶æ€çš„æ–¹å¼ï¼Œçœå»äº†å¤§éƒ¨åˆ†if else çš„é€»è¾‘ç»“æ„,å…¶å®å°±æ˜¯é¸­å­ç±»å‹ï¼Œè¿›è¡Œæ›¿æ¢è°ƒè¿™ä¸ªæ›¿æ¢å¯¹è±¡ä¸­çš„æ–¹æ³• é€‚é…å™¨æ¨¡å¼ä¸»è¦æ˜¯åœ¨ä¸æ”¹åŠ¨åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹ è¿›è¡Œä¿®æ”¹ï¼Œåœ¨ä»£ç çš„ç¼–å†™é˜¶æ®µæ˜¯ä¸ä¼šæœ‰çš„ï¼Œè‚¯å®šæ˜¯åœ¨å¯¹æ¥è€é¡¹ç›®çš„æ—¶å€™ï¼Œä¿®æ”¹äº†æŸäº›æ¥å£ï¼Œä»è€Œè¿›è¡Œå˜é€šçš„ä¸€ç§æ–¹å¼ï¼Œæˆ–æ˜¯ä¸ºäº†å…¼å®¹å…¶ä»–çš„API,æˆ–è€…æ˜¯åšæ–¹æ³•ä¹‹é—´çš„è½¬æ¢çš„ æ€»ç»“JavaScriptä¸­çš„è®¾è®¡æ¨¡å¼ï¼Œå¾ˆå¤šéƒ½æ˜¯é‡‡ç”¨äº†é«˜é˜¶å‡½æ•°çš„ä¸€ç§å˜å½¢ï¼Œ å…¶ä¸­å¤§é‡å……æ–¥ç€é—­åŒ…çš„æ¦‚å¿µå¾ˆå¤šè®¾è®¡æ¨¡å¼çœ‹ä¼¼ç›¸åŒï¼Œç»“æ„ä¹Ÿæ˜¯å¤§éƒ¨åˆ†ä¸€æ ·çš„ï¼Œä½†æ˜¯ä¸»è¦æ˜¯æ€æƒ³ä¸Šçš„ä¸åŒï¼Œä»–ä»¬æ‰€é’ˆå¯¹ï¼Œæ‰€è§£å†³çš„é—®é¢˜ä¸ä¸€è‡´è€Œä¸èƒ½å•å•ä»å½¢å¼ç»“æ„ä¸ŠåŒºåˆ†å®ƒä»¬ï¼Œä»¥åŠJavaScriptæ˜¯æ²¡æœ‰ç±»çš„æ¦‚å¿µçš„ï¼Œæ‰€ä»¥éœ€è¦çµæ´»çš„ä½¿ç”¨é¸­å­æ¨¡å¼æ¥è¾¾åˆ°ä¸åŒçš„è®¾è®¡]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[14é€‚é…å™¨æ¨¡å¼]]></title>
    <url>%2F2019%2F06%2F25%2F14%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374/* é€‚é…å™¨æ¨¡å¼ ä¸»è¦æ˜¯ä¸ºäº†é€‚é…ä¹‹å‰çš„åŠŸèƒ½ï¼Œ æˆ–è€…æ˜¯ä¸ºäº†åœ¨ä¸ä¿®æ”¹ä»£ç çš„æƒ…å†µä¸‹ è¿›è¡Œä¸åŒæ¥å£ä¹‹é—´çš„é€šä¿¡ */// ç¬¬ä¸‰æ–¹æ¥å£ä¸åŒvar googleMap = &#123; show: function () &#123; console.log('å¼€å§‹æ¸²æŸ“è°·æ­Œåœ°å›¾') &#125;&#125;var baiduMap = &#123; show: function () &#123; console.log('å¼€å§‹æ¸²æŸ“ç™¾åº¦åœ°å›¾') &#125;&#125;var renderMap = function (map) &#123; if (map.show instanceof Function) &#123; map.show() &#125;&#125;renderMap(googleMap)renderMap(baiduMap)var tencentMap = &#123; display: function () &#123; console.log('å¼€å§‹æ¸²æŸ“è…¾è®¯åœ°å›¾') &#125;&#125;// æ­¤æ—¶éœ€è¦ä¸€ä¸ªtencentåœ°å›¾çš„é€‚é…å™¨var tencentMapAdapter = &#123; show: function () &#123; return tencentMap.display() &#125;&#125;renderMap(tencentMap)renderMap(tencentMapAdapter)// éœ€è¦çš„ç±»å‹ä¸ä¸€æ ·var getCity = function () &#123; var city = [ &#123;name: 'Lanzhou',id: '11'&#125;, &#123;name: 'Hangzhou',id: '12'&#125; ] return city&#125;console.log(getCity())/*0: Object &#123; name: "Lanzhou", id: "11" &#125;1: Object &#123; name: "Hangzhou", id: "12" &#125;*/// ç°åœ¨éœ€æ±‚éœ€è¦è¿™æ ·çš„æ ¼å¼ &#123;11: 'Lanzhou', 12: 'Hangzhou'&#125;// å†ä¸æ”¹åŠ¨åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹ åªèƒ½ä½¿ç”¨é€‚é…å™¨var cityAddressAdapter = function (oldAddressfn) &#123; var address = &#123;&#125;, oldAddress = oldAddressfn() for(var i = 0, c; c = oldAddress[i++]; ) &#123; address[c.id] = c.name &#125; return function () &#123; return address &#125;&#125;getCity = cityAddressAdapter(getCity)console.log( getCity() )]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[13çŠ¶æ€æ¨¡å¼]]></title>
    <url>%2F2019%2F06%2F25%2F13%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121/* çŠ¶æ€æ¨¡å¼ï¼Œ åœ¨ä¸åŒçš„çŠ¶æ€ä¸‹é¢ åŠ¨æ€çš„ä¸ºä¸åŒçš„äº‹ä»¶ç»‘å®šä¸åŒçš„æ–¹æ³•ï¼Œ è¿™é‡Œæ¨¡æ‹Ÿ ç”µç¯å¼€å…³çš„ä¾‹å­ï¼Œ å…³ç¯çŠ¶æ€ æŒ‰é’®ä½œç”¨ - å¼€ç¯ å¼€ç¯çŠ¶æ€ æŒ‰é’®ä½œç”¨ - å…³ç¯ */// ä¸é€‚ç”¨çŠ¶æ€æ¨¡å¼ è€¦åˆæ€§æ¯”è¾ƒé«˜ï¼Œå„ç§çŠ¶æ€è€¦åˆåœ¨ä¸€èµ·var Light = function () &#123; this.state = 'off' this.button = null&#125;Light.prototype.init = function () &#123; var button = document.createElement('button'), self = this button.innerHTML = 'å¼€å…³' this.button = document.body.appendChild( button ) this.button.onclick = function () &#123; self.buttonWasPressed() &#125;&#125;Light.prototype.buttonWasPressed = function () &#123; if (this.state === 'on') &#123; console.log('å…³ç¯') this.state = 'off' &#125; else if (this.state === 'off') &#123; console.log('å¼€ç¯') this.state = 'on' &#125;&#125;var light = new Light()light.init()// ä¼ ç»Ÿæ¨¡æ‹Ÿç±»çš„ä¸€ç§å†™æ³• çŠ¶æ€æ¨¡å¼ å¯¹è±¡æ–¹æ³•è¯­è¨€ä¸­çš„å®ç°// offLightStatevar OffLightState = function (light) &#123; this.light = light&#125;OffLightState.prototype.buttonWasPressed = function () &#123; console.log('å¼±å…‰') // offLightStateå¯¹åº”è¡Œä¸º this.light.setState(this.light.weakLightState)&#125;// WeakLightStatevar WeakLightState = function (light) &#123; this.light = light&#125;WeakLightState.prototype.buttonWasPressed = function () &#123; console.log('å¼ºå…‰') // WeakLightStateå¯¹åº”è¡Œä¸º this.light.setState(this.light.strongLightState)&#125;// StrongLightStatevar StrongLightState = function (light) &#123; this.light = light&#125;StrongLightState.prototype.buttonWasPressed = function () &#123; console.log('å…³ç¯') // StrongLightStateå¯¹åº”è¡Œä¸º this.light.setState(this.light.offLightState)&#125;var Light = function () &#123; this.offLightState = new OffLightState(this) this.weakLightState = new WeakLightState(this) this.strongLightState = new StrongLightState(this) this.button = null&#125;Light.prototype.init = function () &#123; var button = document.createElement('button'), self = this this.button = document.body.appendChild(button) this.button.innerHTML = 'å¼€å…³ç±»çš„çŠ¶æ€æœº' this.currentState = this.offLightState // è®¾ç½®åˆå§‹åŒ–å…³ç¯çš„çŠ¶æ€ this.button.onclick = function () &#123; self.currentState.buttonWasPressed() &#125;&#125;Light.prototype.setState = function ( newState ) &#123; this.currentState = newState&#125;var light = new Light()light.init()// javascript ç‰ˆæœ¬çš„çŠ¶æ€æœº FSM Finite State Machine æœ‰é™çŠ¶æ€æœºvar Light = function () &#123; this.currentState = FSM.off this.button = null&#125;Light.prototype.init = function () &#123; var button = document.createElement('button'), self = this button.innerHTML = 'å¼€å…³ç¯FSMå®ç°æ¨¡å¼' this.button = document.body.appendChild(button) this.button.onclick = function () &#123; self.currentState.buttonWasPressed.call(self) &#125;&#125;var FSM = &#123; off: &#123; buttonWasPressed: function () &#123; console.log('å¼€ç¯') this.button.innerHTML = 'ä¸‹ä¸€æ¬¡å…³ç¯' this.currentState = FSM.on &#125; &#125;, on: &#123; buttonWasPressed: function () &#123; console.log('å…³ç¯') this.button.innerHTML = 'ä¸‹ä¸€æ¬¡å¼€ç¯' this.currentState = FSM.off &#125; &#125;&#125;var light = new Light()light.init()// å¦‚æœæœ‰ä¿®æ”¹ åªéœ€å‘€åœ¨çŠ¶æ€æœºä¸­ä¿®æ”¹å³å¯,ä¸ç”¨æ”¹åŠ¨åŸå§‹çš„ä»£ç ]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[12è£…é¥°è€…æ¨¡å¼]]></title>
    <url>%2F2019%2F06%2F25%2F12%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183/* è£…é¥°è€…æ¨¡å¼ï¼Œé€šå¸¸ä½¿ç”¨ä¸€è¿ä¸²çš„å¯¹è±¡æ¥ä¸ºå…¶å¢å¼ºåŠŸèƒ½ï¼Œ å…¶ä¼˜ç‚¹ å°±æ˜¯ åœ¨ä¸æ”¹åŠ¨æºç çš„æƒ…å†µä¸‹è¿›è¡Œå¢åŠ  å¯¼å¼¹å‘å°„çš„ä¾‹å­ */var plane = &#123; fire: function () &#123; console.log('å‘å°„å­å¼¹ biu~') &#125;&#125;plane.fire()var missileDecorator = function () &#123; console.log('å‘å°„å¯¼å¼¹')&#125;var fire1 = plane.fireplane.fire = function () &#123; fire1() missileDecorator()&#125;plane.fire()var atomDecorator = function () &#123; console.log('å‘å°„åŸå­å¼¹')&#125;var fire2 = plane.fireplane.fire = function () &#123; fire2() atomDecorator()&#125;plane.fire()/* è£…é¥°å‡½æ•° åœ¨ä¸æ”¹å˜åŸæœ‰å‡½æ•°çš„å‰æä¸‹ï¼Œè¿›è¡Œå¯¹å‡½æ•°åŠŸèƒ½çš„æ‰©å……ï¼Œæ³¨æ„åŸthisæŒ‡å‘çš„é—®é¢˜ï¼Œæ‰€ä»¥è¦ä½¿ç”¨applyçš„æ–¹å¼ */// æ™®é€šæ¨¡å¼ ä¸è€ƒè™‘thisçš„é—®é¢˜var a = function () &#123; console.log('1')&#125;var _a = aa = function () &#123; _a() console.log('2')&#125;a()// è€ƒè™‘thisæŒ‡å‘çš„ å¦‚ document.getElementById// ä½¿ç”¨AOPè¿›è¡Œè£…é¥°Function.prototype.before = function (beforefn) &#123; var __self = this return function () &#123; beforefn.apply(this, arguments) return __self.apply(this, arguments) &#125;&#125;Function.prototype.after = function (afterfn) &#123; var __self = this return function () &#123; var ret = __self.apply(this, arguments) afterfn.apply(this, arguments) return ret &#125;&#125;console.log('===========================')window.onload = (window.onload || function () &#123; &#125;).after(function () &#123; console.log('2')&#125;).after(function () &#123; console.log('3')&#125;).after(function () &#123; console.log('4')&#125;)window.onload = (window.onload || function () &#123; &#125;).before(function () &#123; console.log('1')&#125;)// è¿˜å¯ä»¥ä½¿ç”¨æ­¤ç‰¹æ€§æ”¹å˜å‚æ•°var func = function (param) &#123; console.log(param) // &#123; a: "a", b: "b" &#125;&#125;func = func.before(function (param) &#123; param.b = 'b'&#125;)func(&#123; a: 'a' &#125;)/* ç»“åˆAOPåšè¯·æ±‚åŠ token */var ajax = function (type, url, param) &#123; console.log(param) // todo.....çœç•¥è¿™é‡Œ&#125;ajax('GET', 'api.com/userinfo', &#123; name: 'zhn' &#125;)// é…ç½®ä¸€ä¸ªè·å–tokençš„æ–¹æ³• ç”¨æ¥æ ¡éªŒapivar getToken = function () &#123; return 'Token'&#125;// æœ€åŸºæœ¬çš„æ€æƒ³å°±æ˜¯ ç¡¬ç¼–ç åˆ°å†…éƒ¨ï¼Œ ä¸åˆ©äºæ‹“å±•ï¼Œ ä¸åˆ©äºåç»­çš„ç»´æŠ¤var ajax = function (type, url, param) &#123; param = param || &#123;&#125; param.token = getToken() console.log(param) // todo.....çœç•¥è¿™é‡Œ&#125;ajax('GET', 'api.com/userinfo', &#123; name: 'zhn' &#125;)// è¿™é‡Œä½¿ç”¨AOPçš„æ€æƒ³ åŠ å…¥è£…é¥°æ¨¡å¼ Function.prototype.befor = function (beforefn) &#123; var __self = this return function () &#123; beforefn.apply(this, arguments) return __self.apply(this, arguments) &#125;&#125;ajax = ajax.before(function (type, url, param) &#123; param.token = getToken()&#125;)ajax('GET', 'api.com/userinfo', &#123; name: 'zhn' &#125;)/* è¡¨å•éªŒè¯æ–¹å¼ åŸºäºAOPæ€æƒ³,åŠæ—¶è¿ç§»äº†é¡¹ç›®ï¼Œæˆ–æ˜¯æ”¹å˜ç¯å¢ƒï¼Œå¯ä»¥éšæ—¶å–æ¶ˆéªŒè¯ï¼Œå–æ¶ˆbefore(validate) å³å¯ï¼Œé‡æ–°ç»‘å®šä¸€ä¸ªç©ºå‡½æ•° é€šå¸¸è¡¨å•æäº¤ä¼šå°† æ ¡éªŒæ–¹æ³• å’Œ æäº¤ajaxæ–¹æ³•é…åˆ°ä¸€èµ·ï¼Œä½†æ˜¯è¿™æ ·ä¼šæ˜¾å¾—å¾ˆè‡ƒè‚¿ï¼Œè¡¨å•æäº¤åªåº”è¯¥åŒ…å«ä¸€ä¸ªæäº¤ å¯¹äºè¡¨å•çš„æ ¡éªŒåŠŸèƒ½ï¼Œåº”è¯¥ä½œä¸ºä¸€ä¸ªè£…é¥°è€…ï¼Œæ¥åˆ‡å…¥åˆ°æäº¤ä¹‹å‰ */// ä¹‹å‰çš„æ¨¡å¼/* validata = function () &#123; // xxxxxx ä¸€å¤§å †éªŒè¯é€»è¾‘ &#125; ajax('GET', 'api.com/userinfo', &#123; name: 'zhn' &#125;)*/// ä½¿ç”¨AOPè¿›è¡Œä¼˜åŒ– å¦‚æœéªŒè¯çš„æ–¹å¼ ä¸º false åˆ™é˜»æ­¢æäº¤Function.prototype.before = function (beforefn) &#123; var __self = this return function () &#123; if (beforefn.apply(this, arguments) === false) &#123; // å…ˆå‰çº¦å®šçš„é€»è¾‘ è¿”å›falseç›´æ¥é˜»æ­¢æäº¤ï¼Œä¸æ‰§è¡Œåé¢çš„å‡½æ•° return &#125; return __self.apply(this, arguments) &#125;&#125;var username = document.getElementById('username')var password = document.getElementById('password')var validata = function () &#123; if (username.value === '') &#123; console.log('ç”¨æˆ·åä¸èƒ½ä¸ºç©º') return false &#125; if (password.value === '') &#123; console.log('å¯†ç ä¸èƒ½ä¸ºç©º') return false &#125; &#125;var submit = function () &#123; var param = &#123; username: username.value, password: password.value &#125; ajax('GET', 'api.com/userinfo', &#123; name: 'zhn' &#125;)&#125;submit = submit.before(validata) // æå‰æŠŠæ£€éªŒå‡½æ•° ä»¥AOPçš„å½¢å¼æ”¾è¿›å»// submit()]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[11ä¸­ä»‹è€…æ¨¡å¼]]></title>
    <url>%2F2019%2F06%2F25%2F11%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158/* ä¸­ä»‹è€…æ¨¡å¼ï¼Œ æ‰€æœ‰ç±»ä¹‹é—´çš„å…³ç³»éƒ½æœ‰ ä¸€ä¸ªä¸­ä»‹è€…ç»Ÿä¸€ç»´æŠ¤ï¼Œ å‡å°‘äº†ç±»ä¸ç±»ä¹‹é—´çš„å…³è”ï¼Œ è¿™ç§å…³ç³»è¦æŠ˜ä¸­çš„è€ƒè™‘ï¼Œå¦‚æœç±»ä¹‹é—´çš„å…³ç³»éƒ½å–æ¶ˆï¼Œç­‰åˆ°ç±»å¤šäº†åŸºæœ¬çš„å…³è”å¯èƒ½éƒ½ä¼šä¸¢å¤±ï¼Œä¸­ä»‹è€…ä¼šè¶Šæ¥è¶Šå¤æ‚ ä¾‹å­ï¼Œç»Ÿä¸€ä¸€å¤„çš„ä¿®æ”¹ï¼Œæ”¹å˜æ‰€æœ‰çš„ä½ç½® å¹¶ä¸”è¦ é€‰æ‹©é¢œè‰²ï¼Œ é€‰æ‹©æ•°é‡ï¼Œ åœ¨æœ€åçš„æŒ‰é’®ä¸Šåšæç¤ºä¿¡æ¯ */var colortSelect = document.getElementById('colorSelect')var numberInput = document.getElementById('numberInput')var colorInfo = document.getElementById('colorInfo')var numberInfo = document.getElementById('numberInfo')var nextBtn = document.getElementById('nextBtn')// ä¼ ç»Ÿæ–¹å¼ è¦å¯¹colorSelect numberInput ä¾æ¬¡ç»‘å®šäº‹ä»¶,å…¶æ ¸å¿ƒä¸šåŠ¡ä»£ç å¯èƒ½æ˜¯ç›¸åŒçš„var goods = &#123; "red": 3, "blue": 6&#125;/* é¢œè‰²æ¡†çš„é€»è¾‘ *//*colortSelect.onchange = function () &#123; var color = this.value, number = numberInput.value, stock = goods[color] colorInfo.innerHTML = color if (!color) &#123; nextBtn.disabled = true nextBtn.innerHTML = "è¯·é€‰æ‹©æ‰‹æœºé¢œè‰²" return &#125; if (!/^[1-9]\d*$/.test(number)) &#123; // åˆ¤æ–­éæ­£æ•´æ•° nextBtn.disabled = true nextBtn.innerHTML = "è¯·è¾“å…¥æ­£ç¡®çš„è´­ä¹°æ•°é‡" return &#125; if (number &gt; stock) &#123; nextBtn.disabled = true nextBtn.innerHTML = "åº“å­˜ä¸è¶³" return &#125; nextBtn.disabled = false nextBtn.innerHTML = "åŠ å…¥è´­ç‰©è½¦"&#125;*//* è¾“å…¥æ¡†çš„é€»è¾‘ *//*numberInput.oninput = function () &#123; var number = this.value, color = colortSelect.value, stock = goods[color] colorInfo.innerHTML = color numberInfo.innerHTML = number if (!color) &#123; nextBtn.disabled = true nextBtn.innerHTML = "è¯·é€‰æ‹©æ‰‹æœºé¢œè‰²" return &#125; if (!/^[1-9]\d*$/.test(number)) &#123; // åˆ¤æ–­éæ­£æ•´æ•° nextBtn.disabled = true nextBtn.innerHTML = "è¯·è¾“å…¥æ­£ç¡®çš„è´­ä¹°æ•°é‡" return &#125; if (number &gt; stock) &#123; nextBtn.disabled = true nextBtn.innerHTML = "åº“å­˜ä¸è¶³" return &#125; nextBtn.disabled = false nextBtn.innerHTML = "åŠ å…¥è´­ç‰©è½¦"&#125;*//* è™½ç„¶å¯ä»¥æŠŠç›¸åŒçš„ä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œå¯æ˜¯å¦‚æœè¦æ‹“å±•ï¼Œæˆ–è€…æ˜¯åŠ å…¥å…¶å®ƒçš„ç§æœ‰é€»è¾‘ è¦æ±‚ä¿®æ”¹ä»£ç ï¼Œä¸ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œ æ‰€ä»¥ä½¿ç”¨ä¸€ä¸ªä¸­ä»‹è€…ç®¡ç†ä»–ä»¬ *//* ä¸­ä»‹è€… */var mediator = (function () &#123; var colortSelect = document.getElementById('colorSelect'), numberInput = document.getElementById('numberInput'), colorInfo = document.getElementById('colorInfo'), numberInfo = document.getElementById('numberInfo'), nextBtn = document.getElementById('nextBtn') return &#123; changed: function (obj) &#123; // objæ˜¯å“ªä¸€ä¸ªå¯¹è±¡æ”¹å˜äº† var color = colortSelect.value, number = numberInput.value, stock = goods[color] if (obj === colortSelect) &#123; // colorSelect å‘ç”Ÿæ”¹å˜ colorInfo.innerHTML = color &#125; else if (obj === numberInput) &#123; numberInfo.innerHTML = number &#125; if (!color) &#123; nextBtn.disabled = true nextBtn.innerHTML = "è¯·é€‰æ‹©æ‰‹æœºé¢œè‰²" return &#125; if (!/^[1-9]\d*$/.test(number)) &#123; // åˆ¤æ–­éæ­£æ•´æ•° nextBtn.disabled = true nextBtn.innerHTML = "è¯·è¾“å…¥æ­£ç¡®çš„è´­ä¹°æ•°é‡" return &#125; if (number &gt; stock) &#123; nextBtn.disabled = true nextBtn.innerHTML = "åº“å­˜ä¸è¶³" return &#125; nextBtn.disabled = false nextBtn.innerHTML = 'æ”¾å…¥è´­ç‰©è½¦' &#125; &#125;&#125;)()// äº‹ä»¶å‡½æ•°colortSelect.onchange = function () &#123; mediator.changed(this)&#125;numberInput.oninput = function () &#123; mediator.changed(this)&#125;/* é¢œè‰²æ¡†å’Œè¾“å…¥æ¡† å®Œå…¨ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ï¼Œ ç”±äºé€»è¾‘éƒ½æ˜¯æ”¾åœ¨ä¸­ä»‹è€…å½“ä¸­çš„ï¼Œ æ‰€ä»¥å»æ‰å…¶ä»–ç±»å¯¹æ•´ä½“æ²¡ä»€ä¹ˆå½±å“ è™½ç„¶åŠŸèƒ½ä¹‹é—´çš„è€¦åˆå‡å°‘äº†ï¼Œ ä½†ç”±äºæŠŠé€»è¾‘å†…èšåˆ°ä¸­ä»‹è€…ï¼Œä¸šåŠ¡ä¸Šæ²¡æœ‰ä½“ç°å‡ºæ¥ é¢œè‰² å’Œ æ•°é‡ ä¹‹é—´çš„å…³ç³» æ‹“å±•æ€§ï¼Œ åªéœ€è¦åœ¨ä¸­ä»‹è€…å¢åŠ æ‹“å±•çš„ä»£ç ï¼Œ å³å¯ *//*var mediator = (function ()&#123; var memorySelect = document.getElementById('memorySelect') return &#123; changed: function (obj) &#123; var memory = memorySelect.value // .... ç›¸å…³é€»è¾‘ if (obj === memorySelect) &#123; memoryInfo.innerHTML = memory &#125; &#125; &#125;&#125;)()*/]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[10èŒè´£é“¾æ¨¡å¼]]></title>
    <url>%2F2019%2F06%2F25%2F10%E8%81%8C%E8%B4%A3%E9%93%BE%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191/* èŒè´£é“¾æ¨¡å¼ï¼Œç”¨äºä¼ é€’å¯¹è±¡ï¼Œä¾æ¬¡æ‹†åˆ†ï¼Œæ˜¯è‡ªå·±è§£å†³çš„ç±»å‹å°±è§£å†³ï¼Œå¦åˆ™å°±ä¼ é€’ä¸‹å»ï¼Œäº¤ç»™åˆ«äººè§£å†³ ä¸»è¦æ˜¯é¿å…äº†ç¹ççš„ if else ç»“æ„ï¼Œ æ•´ä¸ªä»£ç çœ‹èµ·æ¥ç»“æ„æ¯”è¾ƒæ¸…æ™°ï¼Œç»„ç»‡æ¯”è¾ƒæ˜ç¡®ã€‚ ä¾‹å­ï¼Œä½¿ç”¨ä¼˜æƒ åˆ¸ äº¤äº†500å®šé‡‘ï¼Œ 100 ä¼˜æƒ åˆ¸ äº¤äº†200å®šé‡‘ 50 ä¼˜æƒ åˆ¸ æ²¡äº¤å®šé‡‘/å®šé‡‘æ²¡æœ‰ä»˜æ¬¾ æ²¡æœ‰ä¼˜æƒ åˆ¸ */// ä¹‹å‰ä½¿ç”¨if elsevar order = function ( orderType, pay, stock ) &#123; if (orderType === 1) &#123; // 100ä¼˜æƒ åˆ¸ if ( pay === true) &#123; // ä»˜å®šé‡‘ console.log('å¾—åˆ°100ä¼˜æƒ åˆ¸') &#125;else&#123; if (stock &gt; 0) &#123; console.log('æ™®é€šè´­ä¹°') &#125; else &#123; console.log('æ‰‹æœºæ²¡æœ‰åº“å­˜') &#125; &#125; &#125; else if (orderType === 2) &#123; // 50ä¼˜æƒ åˆ¸ if ( pay === true) &#123; // ä»˜å®šé‡‘ console.log('å¾—åˆ°50ä¼˜æƒ åˆ¸') &#125;else&#123; if (stock &gt; 0) &#123; console.log('æ™®é€šè´­ä¹°') &#125; else &#123; console.log('æ‰‹æœºæ²¡æœ‰åº“å­˜') &#125; &#125; &#125; else &#123; // æ²¡æœ‰ä¼˜æƒ åˆ¸ if (stock &gt; 0) &#123; console.log('æ™®é€šè´­ä¹°') &#125; else &#123; console.log('æ‰‹æœºæ²¡æœ‰åº“å­˜') &#125; &#125;&#125;order(1, true, 10)order(1, false, 10)// èŒè´£é“¾è¿‡æ¸¡ä»£ç var order500 = function ( orderType, pay, stock ) &#123; if (orderType === 1 &amp;&amp; pay === true) &#123; console.log('500å…ƒå®šé‡‘é¢„è´­ï¼Œå¾—åˆ°100ä¼˜æƒ åˆ¸') &#125; else &#123; // å¤„ç†ä¸äº†å…¨ä¸¢ç»™ä¸‹ä¸€ä¸ª order200( orderType, pay, stock ) &#125;&#125;var order200 = function ( orderType, pay, stock ) &#123; if (orderType === 2 &amp;&amp; pay === true) &#123; console.log('200å…ƒå®šé‡‘é¢„è´­ï¼Œå¾—åˆ°50ä¼˜æƒ åˆ¸') &#125; else &#123; // å¤„ç†ä¸äº†å…¨ä¸¢ç»™ä¸‹ä¸€ä¸ª orderNormal( orderType, pay, stock ) &#125;&#125;var orderNormal = function ( orderType, pay, stock ) &#123; if (stock &gt; 0) &#123; console.log('æ­£å¸¸è´­ä¹°') &#125; else &#123; // å¤„ç†ä¸äº†å…¨ä¸¢ç»™ä¸‹ä¸€ä¸ª console.log('åº“å­˜ä¸è¶³') &#125;&#125;order500(1, true, 10)order500(1, false, 10)// ä»¥ä¸Šä»£ç å­˜åœ¨è€¦åˆæ€§æ¯”è¾ƒå¤§, è§£è€¦var Chain = function ( fn ) &#123; this.fn = fn this.successor = null&#125;Chain.prototype.setNextSuccessor = function (successor) &#123; return this.successor = successor&#125;Chain.prototype.passRequest = function () &#123; var ret = this.fn.apply(this, arguments) if (ret === 'nextSuccessor') &#123; return this.successor &amp;&amp; this.successor.passRequest.apply(this.successor, arguments) &#125; return ret&#125;var order500 = function ( orderType, pay, stock ) &#123; if (orderType === 1 &amp;&amp; pay === true) &#123; console.log('500å…ƒå®šé‡‘é¢„è´­ï¼Œå¾—åˆ°100ä¼˜æƒ åˆ¸') &#125; else &#123; // å¤„ç†ä¸äº†å…¨ä¸¢ç»™ä¸‹ä¸€ä¸ª return 'nextSuccessor' &#125;&#125;var order200 = function ( orderType, pay, stock ) &#123; if (orderType === 2 &amp;&amp; pay === true) &#123; console.log('200å…ƒå®šé‡‘é¢„è´­ï¼Œå¾—åˆ°50ä¼˜æƒ åˆ¸') &#125; else &#123; // å¤„ç†ä¸äº†å…¨ä¸¢ç»™ä¸‹ä¸€ä¸ª return 'nextSuccessor' &#125;&#125;var orderNormal = function ( orderType, pay, stock ) &#123; if (stock &gt; 0) &#123; console.log('æ­£å¸¸è´­ä¹°') &#125; else &#123; // å¤„ç†ä¸äº†å…¨ä¸¢ç»™ä¸‹ä¸€ä¸ª console.log('åº“å­˜ä¸è¶³') &#125;&#125;var chainOrder500 = new Chain(order500)var chainOrder200 = new Chain(order200)var chainOrderNormal = new Chain(orderNormal)chainOrder500.setNextSuccessor(chainOrder200)chainOrder200.setNextSuccessor(chainOrderNormal)chainOrder500.passRequest(1, true, 10)chainOrder500.passRequest(1, false, 10)// js AOPçš„æ€æƒ³å†™æ³• ç±»ä¼¼æ°¸è¿œå…ˆæ‰§è¡Œä»–è‡ªå·±ï¼Œå¦‚æœè¿”å›æ˜¯retSuccessorå°±å†è°ƒç”¨ä»–åé¢çš„å‡½æ•°Function.prototype.after = function (fn) &#123; var self = this return function () &#123; var ret = self.apply(this, arguments) if (ret === 'nextSuccessor') &#123; return fn.apply(this, arguments) &#125; &#125;&#125;var order500 = function ( orderType, pay, stock ) &#123; if (orderType === 1 &amp;&amp; pay === true) &#123; console.log('500å…ƒå®šé‡‘é¢„è´­ï¼Œå¾—åˆ°100ä¼˜æƒ åˆ¸') &#125; else &#123; // å¤„ç†ä¸äº†å…¨ä¸¢ç»™ä¸‹ä¸€ä¸ª return 'nextSuccessor' &#125;&#125;var order200 = function ( orderType, pay, stock ) &#123; if (orderType === 2 &amp;&amp; pay === true) &#123; console.log('200å…ƒå®šé‡‘é¢„è´­ï¼Œå¾—åˆ°50ä¼˜æƒ åˆ¸') &#125; else &#123; // å¤„ç†ä¸äº†å…¨ä¸¢ç»™ä¸‹ä¸€ä¸ª return 'nextSuccessor' &#125;&#125;var orderNormal = function ( orderType, pay, stock ) &#123; if (stock &gt; 0) &#123; console.log('æ­£å¸¸è´­ä¹°') &#125; else &#123; // å¤„ç†ä¸äº†å…¨ä¸¢ç»™ä¸‹ä¸€ä¸ª console.log('åº“å­˜ä¸è¶³') &#125;&#125;var order = order500.after(order200).after(orderNormal)order(1, true, 10)order(1, false, 10)/* æ–‡ä»¶ä¸Šä¼ æ¡ˆä¾‹ é‡æ„ä¹‹å‰è¿­ä»£å™¨æ¨¡å¼ï¼Œè¿™é‡Œä½¿ç”¨èŒè´£é“¾æ¨¡å¼æ›´å¥½ä¸€äº› ä¸€èˆ¬èŒè´£é“¾æœ€åè¦æœ‰ä¸€ä¸ªæ¥é”…ä¾  */var getActiveObj = function () &#123; try&#123; return new ActiveXObject('TXFTNActiveX.FTNUpload') &#125;catch(e)&#123; return 'nextSuccessor' &#125;&#125;var getFlashUplaodObj = function () &#123;// if ( supportFlash() ) &#123; // æ¨¡æ‹Ÿæ”¯æŒæ’ä»¶// var str = '&lt;object type="application/x-shockwave-flash"&gt;&lt;/object&gt;'// return $(str).appendTo( $('body') )// &#125; return 'nextSuccessor'&#125;var getFormUploadObj = function () &#123; return str = '&lt;input name="File" type="File"&gt;&lt;/input&gt;'&#125;Function.prototype.after = function (fn) &#123; // ä¸ä¹‹å‰ä¸€æ · var self = this return function () &#123; var ret = self.apply(this, arguments) if (ret === 'nextSuccessor') &#123; return fn.apply(this, arguments) &#125; &#125;&#125;var getUploadObj = getActiveObj.after(getFlashUplaodObj).after(getFormUploadObj)console.log(getUploadObj())]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[09äº«å…ƒæ¨¡å¼]]></title>
    <url>%2F2019%2F06%2F25%2F09%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196/* äº«å…ƒæ¨¡å¼ flyweight,å°†ç›¸ä¼¼çš„éƒ¨åˆ†æŠ½å–å‡ºæ¥å¤ç”¨ï¼Œä½†æ˜¯ä¼šç‰ºç‰²æ—¶é—´ä¸ºä»£ä»·ï¼ˆæ›¿æ¢å±æ€§æ‰€èŠ±è´¹çš„ä¸€äº›æ—¶é—´ï¼‰ ç§»åŠ¨ç«¯æµè§ˆå™¨ é€šå¸¸åˆ†é…çš„å†…å­˜ä¸å¤Ÿå¤šï¼Œå¦‚æœåˆ›å»ºäº†å¤§é‡çš„å¯¹è±¡ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šå´©æºƒ æœ€ä¸»è¦çš„å°±æ˜¯ æ‰¾åˆ°å†…éƒ¨çŠ¶æ€ å’Œ å¤–éƒ¨çŠ¶æ€ å†…éƒ¨çŠ¶æ€ï¼š æ¯ä¸€ä¸ªå…ƒçš„æœ¬è´¨åŒºåˆ« å¤–éƒ¨çŠ¶æ€ï¼š å¯ä»¥å°†ä¸åŒçš„å±æ€§ç»™è¿™ä¸ªå…ƒï¼Œæ´¾ç”Ÿå‡ºå¤šä¸ªå¯¹è±¡ï¼Œ ä¸€å¼ å·å­ï¼Œå…¶é¢˜ç›®å°±æ˜¯å†…éƒ¨çŠ¶æ€ï¼Œæ¯ä¸ªäººçš„è€ƒç”Ÿä¿¡æ¯ä¸ç­”æ¡ˆå°±åƒå¤–éƒ¨çŠ¶æ€ï¼Œç”¨è¿™ä¸ªå¤–éƒ¨çŠ¶æ€å¯ä»¥ç”Ÿæˆå…¨ç­æ‰€æœ‰äººçš„è€ƒå· ï¼Œè€Œå·å­å§‹ç»ˆéƒ½æ˜¯ä¸€å¼ ï¼ˆè¿™é‡Œå‡è®¾å·å­æ˜¯ç­çº§å…±ç”¨ä¸€å¼ ï¼Œå¤§å®¶å†™åœ¨å„è‡ªç­”é¢˜å¡ä¸Šï¼ˆå¤–éƒ¨çŠ¶æ€ä¸Šï¼‰ï¼‰ æ¨¡ç‰¹æ‹ç…§çš„ä¾‹å­ ç°åœ¨æœ‰50ä»¶ç”·è£…ï¼Œ50ä»¶å¥³è£… ä¾æ¬¡æ¨¡ç‰¹å±•ç¤ºæ‹ç…§ */// ä¸ä½¿ç”¨äº«å…ƒæ¨¡å¼ï¼Œ å¯¹è±¡çˆ†ç‚¸, è¿™é‡Œ50ä¸ªç”·æ¨¡ç‰¹ï¼Œ50ä¸ªå¥³æ¨¡ç‰¹æ˜¯ä¸€ç§æµªè´¹var Model = function (sex, underwear) &#123; this.sex = sex this.underwear = underwear&#125;Model.prototype.takePhoto = function () &#123; console.log('sex: ' + this.sex + ' underwear: ' + this.underwear)&#125;// ç”·æ¨¡ç‰¹æ‹ç…§for (var i = 0; i &lt; 50; i++) &#123; var maleModel = new Model('male', 'underwear' + i) maleModel.takePhoto()&#125;// å¥³æ¨¡ç‰¹æ‹ç…§for (var i = 0; i &lt; 50; i++) &#123; var femaleModel = new Model('female', 'underwear' + i) femaleModel.takePhoto()&#125;// ä½¿ç”¨äº«å…ƒæ¨¡å¼ï¼Œä¸åœä¿®æ”¹æ¨¡ç‰¹çš„å±æ€§å³å¯,åªéœ€è¦æ ¹æ®æ€§åˆ« åˆ›å»ºä¸¤ä¸ªæ¨¡ç‰¹å³å¯var Model = function (sex) &#123; this.sex = sex&#125;Model.prototype.takePhoto = function () &#123; console.log('sex: ' + this.sex + ' underwear: ' + this.underwear)&#125;var maleModel = new Model('male'), femaleModel = new Model('female') // ç”·æ¨¡ç‰¹æ‹ç…§for (var i = 0; i &lt; 50; i++) &#123; maleModel.underwear = 'underwear' + i maleModel.takePhoto()&#125;// å¥³æ¨¡ç‰¹æ‹ç…§for (var i = 0; i &lt; 50; i++) &#123; femaleModel.underwear = 'underwear' + i femaleModel.takePhoto()&#125;/* æ–‡ä»¶ä¸Šä¼ çš„ä¾‹å­ï¼Œ æ ¹æ®ä¸Šä¼ æ§ä»¶çš„ä¸åŒï¼Œä½¿ç”¨ä¸åŒçš„åˆ›å»ºæ–¹å¼ */// å·¥å‚å¯¹è±¡å®ä¾‹åŒ–,åˆ›å»º å…ƒ çš„åœ°æ–¹, å¾ˆåƒå•ä¾‹æ¨¡å¼var Upload = function (uploadType) &#123; this.uploadType = uploadType&#125;var UploadFactory = (function ()&#123; var createdFlyWeightObjs = &#123;&#125; return &#123; create: function (uploadType) &#123; // å†…éƒ¨çŠ¶æ€æ˜¯æ§ä»¶ç±»å‹ ï¼ˆhtml5ä¸Šä¼ ï¼Œè¿˜æ˜¯falshä¸Šä¼ ï¼‰ if (createdFlyWeightObjs[uploadType]) &#123; return createdFlyWeightObjs[uploadType] &#125; return createdFlyWeightObjs[uploadType] = new Upload(uploadType) &#125; &#125;&#125;)()// å¤–éƒ¨çŠ¶æ€ç®¡ç†å™¨,ä¿å­˜æ‰€æœ‰çš„å¤–éƒ¨çŠ¶æ€var uploadManager = (function () &#123; var uploadDatabase = &#123;&#125; return &#123; add: function (id, uploadType, fileName, fileSize) &#123; // å¢åŠ ä¸€ä¸ªå¤–éƒ¨çŠ¶æ€ var flyweightObj = UploadFactory.create(uploadType) // ... ç›¸å…³æ“ä½œ uploadDatabase[id] = &#123; fileName, fileSize &#125; return flyweightObj &#125;, setExternalState: function (id, flyweightObj) &#123; // è®¾ç½®å½“å‰çš„å…ƒçš„å¤–éƒ¨çŠ¶æ€ var uploadData = uploadDatabase[id] for (var key in uploadData) &#123; flyweightObj[key] = uploadData[key] &#125; &#125; &#125;&#125;)()var startUpload = function (uploadType, files) &#123; for (var i = 0, file; file = files[i++]; ) &#123; var uploadObj = uploadManager.add(file.id, uploadType, file.fileName, file.fileSize) &#125; // è®©uploadDatabaseä¸­æ‰¹é‡ä¸Šä¼  marcoUpload&#125;// ä¸Šä¼ æ–‡ä»¶startUpload('plugin', [ &#123; id: 1, fileName: '1.txt', fileSize: 1000 &#125;, &#123; id: 2, fileName: '2.txt', fileSize: 2000 &#125;])startUpload('flash', [ &#123; id: 4, fileName: '4.txt', fileSize: 4000 &#125;, &#123; id: 5, fileName: '5.txt', fileSize: 5000 &#125;])// å½“ç„¶å¦‚æœè¦ä¿®æ”¹çŠ¶æ€ï¼Œæ¯”å¦‚æ·»åŠ æ¯ä¸ªæ–‡ä»¶åè¿˜è¦è¿›è¡Œä¸€äº›å…¶ä»–æ“ä½œvar add = function (id, uploadType, fileName, fileSize) &#123; // å¢åŠ ä¸€ä¸ªå¤–éƒ¨çŠ¶æ€ var flyweightObj = UploadFactory.create(uploadType) // ... ç›¸å…³æ“ä½œ uploadDatabase[id] = &#123; fileName, fileSize &#125; // è·å–è¿™ä¸ªæ–‡ä»¶çš„å®Œå…¨å¯¹è±¡ var dom = &#123;&#125; dom.onclick = function () &#123; flyweightObj.todo(id) // todoè¿™ä¸ªæ–¹æ³•æ˜¯å®šä¹‰åˆ°Upload å³åŸæ¥çš„ å…ƒ å¯¹è±¡ä¸Š, è¿™é‡Œçš„æ–¹æ³•åº”è¯¥æ˜¯ä¸ªäº‹ä»¶ &#125; return flyweightObj&#125;Upload.prototype.todo = function (id) &#123; uploadManager.setExternalState(id, this) // æ­¤æ—¶çš„thiså°±æ˜¯å ç”¨å…ƒå¯¹è±¡çš„æ‰€æœ‰å±æ€§ï¼Œ æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸Šä¼ å¯¹è±¡ // this.xxxxxx&#125;/* äº«å…ƒæ¨¡å¼å¯¹è±¡æ± çš„åº”ç”¨ è·å– å’Œ å½’è¿˜éƒ½æ˜¯å»å¯¹è±¡æ± ä¸­ */var objectPoolFactory = function (createObjFn) &#123; var objectPool = [] return &#123; create: function () &#123; // å–å‡ºä¸€ä¸ª // å¦‚æœå¯¹è±¡æ± ä¸­æœ‰ å°±æ‹¿å‡ºå»ä¸€ä¸ªï¼Œ å¦åˆ™å°±åˆ›å»ºä¸€ä¸ª var obj = objectPool.length === 0 ? createObjFn.apply(this, arguments) : objectPool.shift() return obj &#125;, recover: function (obj) &#123; // å½’è¿˜ä¸€ä¸ª objectPool.push(obj) &#125; &#125;&#125;// ç°åœ¨åˆ›å»ºä¸€ä¸ªiframçš„å¯¹è±¡æ± var iframeFactory = objectPoolFactory(function () &#123; var iframe = document.createElement('iframe') document.body.appendChild(iframe) iframe.onload = function () &#123; iframe.onload = null // é˜²æ­¢iframeé‡å¤åŠ è½½ iframeFactory.recover(iframe) &#125; return iframe&#125;)var iframe1 = iframeFactory.create()iframe1.src = 'https://www.baidu.com'var iframe2 = iframeFactory.create()iframe2.src = 'https://www.aliyun.com'var timer = setTimeout(function ()&#123; var iframe3 = iframeFactory.create() iframe3.src = 'https://im.qq.com'&#125;, 10000)// å¦‚æœ10såä¹‹å‰çš„ç½‘ç«™æœ‰åŠ è½½å®Œæ¯•çš„ï¼Œå°±æ”¹å˜åŸæœ‰çš„ï¼Œå¦åˆ™å°±åˆ›å»ºä¸€ä¸ªiframe]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[08æ¨¡æ¿æ–¹æ³•æ¨¡å¼]]></title>
    <url>%2F2019%2F06%2F25%2F08%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104/* æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ å°†ç®—æ³•çš„æ¡†æ¶ä¸é¡ºåºä»¥åŠä¸€äº›ä¸å˜çš„è¿‡ç¨‹æ‘†æ”¾åœ¨ä¸€èµ·ï¼Œå…¶å­ç±»åªéœ€è¦å®ç°å…¶ç»†èŠ‚å³å¯ Coffee or Tea ä¾‹å­ å†²å’–å•¡ï¼š æŠŠæ°´ç…®æ²¸ ç”¨æ²¸æ°´å†²æ³¡å’–å•¡ æŠŠå’–å•¡å€’è¿›å±‹å­ åŠ ç³–å’Œç‰›å¥¶ æ³¡èŒ¶ï¼š æŠŠæ°´ç…®æ²¸ ç”¨æ²¸æ°´æµ¸æ³¡èŒ¶å¶ æŠŠèŒ¶æ°´å€’è¿›æ¯å­ åŠ æŸ æª¬ */// æŠ½è±¡å‡ºä¸€ä¸ªé¥®æ–™çš„æ¦‚å¿µvar Beverage = function () &#123;&#125;Beverage.prototype.boilWate = function () &#123; console.log('æŠŠæ°´ç…®æ²¸')&#125;Beverage.prototype.brew = function () &#123;&#125;Beverage.prototype.pourInCup = function () &#123;&#125;Beverage.prototype.addCondiments = function () &#123;&#125;Beverage.prototype.init = function () &#123; this.boilWate() this.brew() this.pourInCup() this.addCondiments()&#125;// å’–å•¡var Coffee = function () &#123;&#125;Coffee.prototype = new Beverage()Coffee.prototype.brew = function () &#123; console.log('æ²¸æ°´å†²æ³¡å’–å•¡')&#125;Coffee.prototype.pourInCup = function () &#123; console.log('æŠŠå’–å•¡å€’è¿›æ¯å­')&#125;Coffee.prototype.addCondiments = function () &#123; console.log('åŠ ç³–å’Œç‰›å¥¶')&#125;var coffee = new Coffee()coffee.init()/* ä¹Ÿå¯ä»¥ä½¿ç”¨ä¼ é€’å¯¹è±¡çš„æ–¹å¼ ç„¶è€Œè¿™ç§æ–¹å¼æ˜¯ä½¿ç”¨é—­åŒ…çš„æ–¹å¼ï¼Œåˆ›å»ºåæ— æ³•ä¿®æ”¹ï¼Œå› ä¸ºæ‰¾ä¸åˆ°ç›¸åº”çš„æ–¹æ³•ï¼Œéƒ½æ˜¯å°è£…åœ¨å‡½æ•°é‡Œ */var Beverage = function (param) &#123; var boilWate = function () &#123; console.log('æŠŠæ°´ç…®æ²¸') &#125; var brew = param.brew || function () &#123; throw new Error('å¿…é¡»ä¼ é€’ brew æ–¹æ³•') &#125; var pourInCup = param.pourInCup || function () &#123; throw new Error('å¿…é¡»ä¼ é€’ pourInCup æ–¹æ³•') &#125; var addCondiments = param.addCondiments || function () &#123; throw new Error('å¿…é¡»ä¼ é€’ addCondiments æ–¹æ³•') &#125; var F = function () &#123;&#125; F.prototype.init = function () &#123; boilWate() brew() pourInCup() addCondiments() &#125; return F&#125;var Coffee = Beverage(&#123; brew: function () &#123; console.log('ç”¨æ°´å†²æ³¡å’–å•¡') &#125;, pourInCup: function () &#123; console.log('æŠŠå’–å•¡å€’è¿›æ¯å­') &#125;, addCondiments: function () &#123; console.log('åŠ ç³–å’Œç‰›å¥¶') &#125;&#125;)var coffee = new Coffee()coffee.init()/* æ‹“å±• è¿™ç§å›è°ƒçš„æ–¹å¼ï¼Œç§°ä¸º å¥½è±åæ–¹å¼ï¼Œä½ åªéœ€è¦æŠŠå‡½æ•°ç»™æˆ‘ï¼Œ ä»€ä¹ˆæ—¶å€™æ‰§è¡Œæˆ‘è¯´äº†ç®—ï¼Œå•¥æ—¶å€™è°ƒä¹Ÿæ˜¯æˆ‘è¯´äº†ç®— å¯ä»¥æ·»åŠ ä¸€äº›é’©å­å‡½æ•°ï¼Œç”¨æ¥æ§åˆ¶æ¨¡æ¿ä¸­çš„æ–¹æ³•æ˜¯å¦éœ€è¦æ‰§è¡Œ */Coffee.prototype.pourInCup = function () &#123; if (this.customerWantsCondiments()) &#123; this.addCondiments() &#125;&#125;Coffee.prototype.customerWantsCondiments = function () &#123; return window.confirm('æ˜¯å¦éœ€è¦æ·»åŠ è°ƒæ–™')&#125;]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[07ç»„åˆæ¨¡å¼]]></title>
    <url>%2F2019%2F06%2F25%2F07%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172/* ç»„åˆæ¨¡å¼ æ›´åŠ å¼ºå¤§çš„ å®å‘½ä»¤,å…¶ä¼˜ç‚¹æ˜¯å¯ä»¥ä¸€æ¬¡æ€§çš„æ‰§è¡Œæ–¹æ³•ä¸éœ€è¦if else åˆ¤æ–­å“ªäº›è¦æ‰§è¡Œï¼Œå“ªäº›è¦éå† æ‰“å¼€ç©ºè°ƒ æ‰“å¼€ç”µè§†æœºå’ŒéŸ³å“ å…³é—¨ï¼Œå¼€ç”µè„‘ï¼Œç™»å½•QQ */var MacroCommand = function () &#123; // å®å‘½ä»¤ ä¹Ÿå³ç»„åˆæ¨¡å¼çš„æ ¹èŠ‚ç‚¹ return &#123; commandList: [], add: function (command) &#123; this.commandList.push(command) &#125;, execute: function () &#123; for (var i = 0, command; command = this.commandList[i++]; ) &#123; command.execute() &#125; &#125; &#125;&#125;/* æ‰“å¼€ç©ºè°ƒæŒ‡ä»¤ */var openAcCommand = &#123; execute: function () &#123; console.log('æ‰“å¼€ç©ºè°ƒ') &#125;&#125;/* æ‰“å¼€ç”µè§†æœºå’ŒéŸ³å“æŒ‡ä»¤ */var openTVCommand = &#123; execute: function () &#123; console.log('æ‰“å¼€ç”µè§†æœº') &#125;&#125;var openSoundCommand = &#123; execute: function () &#123; console.log('æ‰“å¼€éŸ³å“') &#125;&#125;// ç»„åˆå‘½ä»¤var macroCommand1 = MacroCommand()macroCommand1.add(openTVCommand)macroCommand1.add(openSoundCommand)/* å…³é—¨ï¼Œå¼€ç”µè„‘ï¼Œç™»å½•QQæŒ‡ä»¤ */var closeDoorCommand = &#123; execute: function () &#123; console.log('å…³é—¨') &#125;&#125;var openPCCommand = &#123; execute: function () &#123; console.log('æ‰“å¼€ç”µè„‘') &#125;&#125;var openQQCommand = &#123; execute: function () &#123; console.log('æ‰“å¼€QQ') &#125;&#125;// ç»„åˆå‘½ä»¤var macroCommand2 = MacroCommand()macroCommand2.add(closeDoorCommand)macroCommand2.add(openPCCommand)macroCommand2.add(openQQCommand)/* ç»„åˆä¸‰ä¸ªäº‹ä»¶ */var macroCommand = MacroCommand()macroCommand.add(openAcCommand)macroCommand.add(macroCommand1)macroCommand.add(macroCommand2)// æ‰§è¡Œå‘½ä»¤macroCommand.execute()/* ç”±äºå…¶æ‰§è¡Œçš„é€æ˜æ€§çš„åŸå›  å¾ˆæœ‰å¯èƒ½ä¼šè¯¯å¯¹å¶å­èŠ‚ç‚¹ è°ƒç”¨add,æ­¤æ—¶å¯ä»¥æŠ›å‡ºç›¸åº”çš„å¼‚å¸¸æ¥è§£å†³ */var openAcCommand = &#123; execute: function () &#123; console.log('æ‰“å¼€ç©ºè°ƒ') &#125;, add: function () &#123; throw new Error('å¶å­å¯¹è±¡ä¸èƒ½å†æ·»åŠ å­èŠ‚ç‚¹') &#125;&#125;/* ä½¿ç”¨å‘½ä»¤æ¨¡å¼æ¨¡æ‹Ÿä¸€ä¸ª æ‰«ææ–‡ä»¶å¤¹çš„å®ä¾‹ */var Folder = function (name) &#123; this.name = name this.files = []&#125;Folder.prototype.add = function (file) &#123; this.files.push(file) &#125;Folder.prototype.scan = function () &#123; console.log('å¼€å§‹æ‰«ææ–‡ä»¶å¤¹: ' + this.name) for (var i = 0, file; file = this.files[i++]; ) &#123; file.scan() &#125;&#125;var File = function (name) &#123; this.name = name&#125;File.prototype.add = function () &#123; throw new Error('æ–‡ä»¶ä¸‹é¢ä¸èƒ½å†æ·»åŠ æ–‡ä»¶')&#125;File.prototype.scan = function () &#123; console.log('å¼€å§‹æ‰«ææ–‡ä»¶: ' + this.name)&#125;var folder = new Folder('å­¦ä¹ èµ„æ–™')var folder1 = new Folder('JavaScript')var folder2 = new Folder('jQuery')var file1 = new File('JavaSccriptè®¾è®¡æ¨¡å¼')var file2 = new File('ç²¾é€šjQuery')var file3 = new File('é‡æ„ä¸æ¨¡å¼')folder1.add(file1)folder2.add(file2)folder.add(folder1)folder.add(folder2)folder.add(file3)folder.scan()/* å¢åŠ çˆ¶èŠ‚ç‚¹ï¼Œå°±å¯ä»¥åšåˆ°ç»„åˆæ¨¡å¼çš„åˆ é™¤ */var Folder = function (name) &#123; this.name = name this.parent = null this.files = []&#125;Folder.prototype.add = function (file) &#123; file.parent = this this.files.push(file)&#125;var File = function (name) &#123; this.name = name this.parent = null&#125;// å½“åšåˆ é™¤çš„æ—¶å€™File.prototype.remove = Folder.prototype.remove = function () &#123; if (!this.parent) &#123; return &#125; for (var files = this.parent.files, l = files.length; l &gt;= 0; l--) &#123; var file = files[i] if (file = this) &#123; files.splice(l, 1) &#125; &#125;&#125;]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[06å‘½ä»¤æ¨¡å¼]]></title>
    <url>%2F2019%2F06%2F25%2F06%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899/* å‘½ä»¤æ¨¡å¼ æ¨¡æ‹Ÿç»™æŒ‰é’®ç»‘å®šä¸€ä¸ªåˆ·æ–°äº‹ä»¶ */// çœŸå®åˆ·æ–°é€»è¾‘ var MenuBar = &#123; refresh: function () &#123; console.log('åˆ·æ–°äº†é¡µé¢') &#125;&#125;// åˆ·æ–°å‘½ä»¤ (ä¸­é—´å•†å‘½ä»¤è€…)var RefreshMenuBarCommand = function ( recevier ) &#123; return &#123; execute: function () &#123; recevier.refresh() &#125; &#125;&#125;// è®¾ç½®å‘½ä»¤var setCommand = function ( button, command) &#123; button.onclick = function () &#123; command.execute() &#125;&#125;var button1 = &#123;&#125; // è¿™é‡Œæ¨¡æ‹Ÿbutton1æŒ‰é’®var refreshMenuBarCommand = RefreshMenuBarCommand ( MenuBar ) // è·å–å‘½ä»¤setCommand( button1, refreshMenuBarCommand)/* å®å‘½ä»¤ï¼Œå¯ä»¥æ‰§è¡Œä¸€æ‰¹å‘½ä»¤ï¼Œå°±æ˜¯æŠŠå‘½ä»¤æ”¾å…¥æ•°ç»„ä¸­ï¼Œä¸€æ‰¹æ‰§è¡Œ å…³é—¨ -&gt; æ‰“å¼€ç”µè„‘ -&gt; ç™»å½•QQ */var closeDoorCommand = &#123; execute: function () &#123; console.log('å…³é—¨') &#125;&#125;var openPCCommand = &#123; execute: function () &#123; console.log('æ‰“å¼€ç”µè„‘') &#125;&#125;var openQQCommand = &#123; execute: function () &#123; console.log('æ‰“å¼€QQ') &#125;&#125;var MacroCommand = function () &#123; return &#123; commandList: [], add: function ( command ) &#123; this.commandList.push(command) &#125;, execute: function () &#123; for (var i = 0, command; command = this.commandList[i++]; ) &#123; command.execute() &#125; &#125; &#125;&#125;var marcroCommand = MacroCommand()marcroCommand.add (closeDoorCommand )marcroCommand.add (openPCCommand )marcroCommand.add (openQQCommand )marcroCommand.execute()/* åŸºäºå‘½ä»¤æ¨¡å¼çš„æ’¤é”€/é‡åšï¼ˆå¯é‡åšçš„å‘½ä»¤ï¼‰ æŠŠå†å²å‘½ä»¤å…¨éƒ¨ä¿å­˜èµ·æ¥ï¼Œä¹‹åå…¨éƒ¨å‘½ä»¤é‡åšï¼Œç›´åˆ°æ‰€éœ€è¦çš„å‰ä¸€æ­¥ */var commandStack = [] // å†å²å‘½ä»¤é˜Ÿåˆ—command() // æ‰§è¡Œå‘½ä»¤commandStack.push(command) // æ”¾å…¥å†å²å‘½ä»¤// é‡åšä»»åŠ¡ replay æŠŠä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡é‡æ–°åšä¸€évar replay = function () &#123; var command while (command = commandStack.shift()) &#123; command() &#125;&#125;// æ’¤é”€å‘½ä»¤ä¸€èˆ¬ä¸º undovar undo = function () &#123; // commandStack.pop() // ä¹‹åæ ¹æ®é€»è¾‘è¿›è¡Œæ“ä½œ // æˆ–è€…é‡åšåˆ°ä¸Šä¸€æ­¥ commandStack.pop() // å¼¹å‡ºä¸Šä¸€æ­¥ replay() // é‡åšæ‰€æœ‰&#125;]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[05è®¢é˜…è€…æ¨¡å¼]]></title>
    <url>%2F2019%2F06%2F25%2F05%E8%AE%A2%E9%98%85%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167/* è®¢é˜…ï¼Œå‘å¸ƒè€… æ¨¡æ‹Ÿå”®æ¥¼éƒ¨çš„æƒ…å†µ */var salesOffices = &#123; // å”®æ¥¼éƒ¨ clientList: &#123;&#125;, // è®¢é˜…çš„åˆ—è¡¨ listen: function ( key, fn ) &#123; // è®¢é˜…è€…ï¼šè®¢é˜…äº‹ä»¶ if ( !this.clientList[ key ] ) &#123; // å¦‚æœè¿˜æ²¡æœ‰è®¢é˜…è¿‡ï¼Œå…ˆåˆå§‹åŒ–ä¸€ä¸‹ this.clientList[ key ] = [] &#125; this.clientList[ key ].push( fn ) // è®¢é˜…æ¶ˆæ¯æ·»åŠ è¿›ç¼“å­˜åˆ—è¡¨ &#125;, trigger: function () &#123; // å‘å¸ƒè€…: å‘å¸ƒæ¶ˆæ¯ var key = Array.prototype.shift.call( arguments ), // æ¶ˆæ¯ç±»å‹ fns = this.clientList[ key ] // è®¢é˜…è¯¥æ¶ˆæ¯çš„æ‰€æœ‰æ–¹æ³• if ( !fns || fns.length === 0) &#123; // æ²¡æœ‰äººè®¢é˜… return false &#125; for ( var i = 0, fn; fn = fns[ i++ ]; ) &#123; // æ‰§è¡Œè®¢é˜… fn.apply(this, arguments) &#125; &#125; &#125; salesOffices.listen( 'squareMeter88', function ( price ) &#123; // è®¢é˜…squareMeter88äº‹ä»¶ console.log( 'squareMeter88 -&gt; ä»·æ ¼ä¸º' + price )&#125;)salesOffices.listen( 'squareMeter100', function ( price ) &#123; // è®¢é˜…squareMeter100äº‹ä»¶ console.log( 'squareMeter100 -&gt; ä»·æ ¼ä¸º' + price )&#125;)salesOffices.trigger( 'squareMeter88', 2000000) // å‘å¸ƒsquareMeter88äº‹ä»¶salesOffices.trigger( 'squareMeter100', 3000000) // å‘å¸ƒsquareMeter100äº‹ä»¶/* é€šç”¨çš„è®¢é˜…è€…äº‹ä»¶ï¼ˆå¢åŠ removeï¼‰ */var event = &#123; clientList: &#123;&#125;, listen: function ( key, fn ) &#123; // è®¢é˜…åŠŸèƒ½ if ( !this.clientList[ key ]) &#123; this.clientList[ key ] = [] &#125; this.clientList[ key ].push( fn ) &#125;, remove: function( key, fn ) &#123; // å–æ¶ˆäº‹ä»¶çš„è®¢é˜… var fns = this.clientList[ key ] if ( !fns ) &#123; return false &#125; if ( !fn ) &#123; // æ²¡æœ‰æŒ‡å®š é»˜è®¤å»é™¤æ‰€æœ‰ fns &amp;&amp; ( fns.length = 0 ) &#125; else &#123; for ( var l = fns.length - 1; l &gt;= 0; l--) &#123; var _fn = fns[ l ] if ( _fn === fn ) &#123; fns.splice( l, 1) &#125; &#125; &#125; &#125;, trigger: function () &#123; // å‘å¸ƒåŠŸèƒ½ var key = Array.prototype.shift.call( arguments ), fns = this.clientList[ key ] if ( !fns || fns.length === 0 ) &#123; return false &#125; for ( var i = 0, fn; fn = fns[ i++ ]; ) &#123; fn.apply( this, arguments ) &#125; &#125;&#125;var installEvent = function ( obj ) &#123; // å®‰è£…äº‹ä»¶ for ( var key in event) &#123; obj[ key ] = event[ key ] &#125;&#125;var salesOffices = &#123;&#125;installEvent(salesOffices) // å®‰è£…å‘å¸ƒè€…æ¨¡å—var handleSquareMeter88Fn1 = function ( price ) &#123; console.log( 'fn1å¾—çŸ¥ squareMeter88 -&gt; ä»·æ ¼ä¸º' + price )&#125;var handleSquareMeter88Fn2 = function ( price ) &#123; console.log( 'fn2å¾—çŸ¥ squareMeter88 -&gt; ä»·æ ¼ä¸º' + price )&#125;salesOffices.listen( 'squareMeter88', handleSquareMeter88Fn1 ) // fn1è®¢é˜…squareMeter88äº‹ä»¶salesOffices.listen( 'squareMeter88', handleSquareMeter88Fn2 ) // fn2è®¢é˜…squareMeter88äº‹ä»¶salesOffices.trigger( 'squareMeter88', 2000000 )console.log('===========================')salesOffices.remove( 'squareMeter88', handleSquareMeter88Fn1 ) // å–æ¶ˆfn1å¯¹squareMeter88äº‹ä»¶çš„è®¢é˜…salesOffices.trigger( 'squareMeter88', 2000000 )/* ç„¶è€Œç°å®ä¸­ä¸éœ€è¦ä¸ºç‰¹å®šçš„å¯¹è±¡ä¸“é—¨æ³¨å†Œè¿™ä¸€ä¸ªå‘å¸ƒè®¢é˜…ï¼Œ å…±ç”¨ä¸€ä¸ªå³å¯ */var Event = (function () &#123; var clientList = &#123;&#125;, listen, trigger, remove listen = function ( key, fn ) &#123; if ( !clientList[ key ]) &#123; clientList[ key ] = [] &#125; clientList[ key ].push( fn ) &#125; remove = function ( key, fn ) &#123; var fns = clientList[ key ] if ( !fns ) &#123; return false &#125; if ( !fn ) &#123; fns &amp;&amp; (fns.length = 0) &#125; else &#123; for ( var l = fns.length - 1; l &gt;= 0; l--) &#123; var _fn = fns[ l ] if ( _fn === fn ) &#123; fns.splice( l, 1 ) &#125; &#125; &#125; &#125; trigger = function () &#123; var key = Array.prototype.shift.call( arguments ), fns = clientList[ key ] if ( !fns || fns.length === 0 ) &#123; return false &#125; for ( var i = 0, fn; fn = fns[ i++ ]; ) &#123; fn.apply( this, arguments ) &#125; &#125; &#125;)()// ç®€å•å®ç°åˆ°è¿™é‡Œï¼Œ å®Œæ•´çš„å‘å¸ƒè€… è®¢é˜…è€…æ¨¡å¼è¿˜éœ€è¦æä¾›å¦‚ä¸‹ä¸¤ä¸ªæ–¹é¢çš„èƒ½åŠ›/* 1.å…¨å±€äº‹ä»¶å‘½åå†²çª æ¯”å¦‚éƒ½å‘å¸ƒäº†ä¸€ä¸ª squareMeter88 æ— æ³•ç¡®å®šå…·ä½“æ˜¯é‚£ä¸€ä¸ª äº‹ä»¶å‘å¸ƒå‡ºæ¥çš„ï¼Œå¯èƒ½äº‹ä»¶é‡åï¼Œä¸ä¾¿äºç®¡ç† è¿™é‡Œå¯ä»¥å¼•å…¥ namespace åœ¨æ¯ä¸€ä¸ªå‘½åç©ºé—´å†…è¿›è¡Œäº‹ä»¶çš„è®¢é˜… å¯ä»¥æ˜¾ç¤ºåˆ›å»ºå‘½åç©ºé—´ååœ¨å†…éƒ¨è°ƒç”¨ é»˜è®¤æƒ…å†µä¸‹ä¸ç”³æ˜ï¼Œå°±åœ¨è‡ªå·±ç”³æ˜çš„'_default'ç¯å¢ƒä¸­ 2.ç¦»çº¿æ—¶é—´çš„å‘å¸ƒ æœ‰çš„äº‹ä»¶å‘å¸ƒå‡ºæ¥ï¼Œå¯èƒ½è®¢é˜…è€…è¿˜æ²¡æ¥å¾—åŠè®¢é˜…ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªç¦»çº¿çš„cache,ç­‰å¾…ä½•æ—¶çš„æ—¶æœºå‘å¸ƒå‡ºå» ç¦»çº¿äº‹ä»¶åªèƒ½å‘å¸ƒä¸€æ¬¡ï¼Œä¸èƒ½é‡å¤å‘å¸ƒï¼Œä¸ç„¶å°±æ²¡æœ‰äº†å‘å¸ƒçš„æ„ä¹‰ï¼ˆå®ƒåªæ˜¯å½“æ—¶æ²¡å‘å¸ƒï¼Œç­‰åˆ°äº‹å®œçš„æ—¶æœºå†å°†äº‹ä»¶å‘å¸ƒå‡ºå»ï¼‰ åœ¨è§¦å‘çš„æ—¶å€™ï¼Œåˆ¤å®šæœ‰ç¦»çº¿äº‹ä»¶é˜Ÿåˆ—ï¼Œå°±å…ˆåˆ«çœŸè§¦å‘ï¼Œå…ˆæ”¾å…¥ç¦»çº¿äº‹ä»¶é˜Ÿåˆ—ä¸­ å½“è§¦å‘ç›‘å¬listenæ—¶ å¦‚æœæœ‰ç¦»çº¿äº‹ä»¶é˜Ÿåˆ—ï¼Œå°±æŠŠç¦»çº¿äº‹ä»¶é˜Ÿåˆ—è°ƒå‡ºæ¥è¿è¡Œä¸€æ¬¡ */]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[04è¿­ä»£å™¨æ¨¡å¼]]></title>
    <url>%2F2019%2F06%2F25%2F04%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130/* è¿­ä»£å™¨æ¨¡å¼ å°†è¿­ä»£çš„è¿‡ç¨‹æŠ½ç¦»å¼€ï¼Œæ ¹æ®ä¸šåŠ¡çš„éœ€æ±‚å®šåˆ¶ æ˜¯å…³å¿ƒç»“æœï¼Œè¿˜æ˜¯å…³å¿ƒè¿­ä»£çš„è¿‡ç¨‹ */// æ¨¡æ‹ŸforEachå†…éƒ¨è¿­ä»£å™¨var each = function ( ary, callback ) &#123; for (var i = 0, l = ary.length; i &lt; l; i++) &#123; callback.call( ary[i], ary[i], i) &#125;&#125;each( [1, 2, 3], function (item, index) &#123; console.log(`arr[$&#123;index&#125;] -&gt; $&#123;item&#125;`)&#125;)/* é€šè¿‡ç¼–å†™ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ï¼Œ åˆ†åˆ«ä½¿ç”¨å†…éƒ¨è¿­ä»£å™¨ï¼Œå’Œå¤–éƒ¨è¿­ä»£å™¨ */// å†…éƒ¨è¿­ä»£å™¨ ç»“åˆä¹‹å‰ç¼–å†™çš„ eachvar compare = function ( arr1, arr2 ) &#123; if (arr1.length !== arr2.length) &#123; throw new Error( 'arr1 ä¸ arr2 ä¸ç›¸ç­‰' ) &#125; each( arr1, function (item, index) &#123; if (item !== arr2[ index ]) &#123; throw new Error( 'arr1 ä¸ arr2 ä¸ç›¸ç­‰' ) &#125; &#125;) console.log( 'arr1 ä¸ arr2 ç›¸ç­‰' )&#125;// compare( [1,2,3], [1,2,4]) // Error: arr1 ä¸ arr2 ä¸ç›¸ç­‰// å¤–éƒ¨è¿­ä»£å™¨ åªè¦ä¿è¯å¯¹è±¡æœ‰length å¹¶ä¸”å…¶keyæ˜¯æ•°å­— &#123;"0": '0index', '1': '1index'&#125;var Iterator = function ( obj ) &#123; var current = 0 var next = function () &#123; current += 1 &#125; var isDone = function () &#123; return current &gt;= obj.length &#125; var getCurrItem = function () &#123; return obj[ current ] &#125; return &#123; next, isDone, getCurrItem &#125;&#125;var compare = function ( iterator1, iterator2 ) &#123; // å¦‚æœé•¿åº¦ä¸ç›¸åŒ æ˜¯ä¸ªbug while ( !iterator1.isDone() &amp;&amp; !iterator2.isDone()) &#123; if ( iterator1.getCurrItem() !== iterator2.getCurrItem() ) &#123; throw new Error( 'iterator1 å’Œ iterator ä¸ç›¸ç­‰' ) &#125; iterator1.next() iterator2.next() &#125; console.log( 'iterator1 å’Œ iterator ç›¸ç­‰' )&#125;var iterator1 = Iterator([1,2,3])var iterator2 = Iterator([1,2,3])// compare(iterator1, iterator2) // iterator1 å’Œ iterator ç›¸ç­‰/* åº”ç”¨å†…éƒ¨è¿­ä»£å™¨ æ¥æ ¹æ®æ”¯æŒçš„ç±»å‹ æ’å…¥ä¸åŒçš„ä¸Šä¼ æ§ä»¶ */// ä¸ç¬¦åˆå¼€é—­åŸåˆ™çš„å†™æ³•var getUploadObj = function () &#123; try&#123; return new ActiveXObject("TXFTNActiveX.FTNUpload") // IE ä¸Šä¼ æ§ä»¶ &#125;catch(e)&#123; if ( suportFlash() ) &#123; // æ”¯æŒfalsh æ§ä»¶ æ¨¡æ‹Ÿ var str = '&lt;object type="application/x-shockwave-flash"&gt;&lt;/object&gt;' return $(str).appendTo( $('body') ) &#125; else &#123; var str = '&lt;input name="File" type="File"&gt;&lt;/input&gt;' return $(str).appendTo( $('body') ) &#125; &#125;&#125; // å¦‚æœæœ‰å¦ä¸€ç§ä¸Šä¼ æ–¹å¼å°±éœ€è¦ ä¿®æ”¹ä»£ç  ä¸ç¬¦åˆå¼€é—­åŸåˆ™ // ç¬¦åˆå¼€é—­åŸåˆ™çš„å†™æ³• + å†…éƒ¨è¿­ä»£å™¨var getActiveUploadObj = function () &#123; // IE ä¸Šä¼ æ§ä»¶ try&#123; return new ActiveXObject("TXFTNActiveX.FTNUpload") &#125;catch(e)&#123; return false &#125;&#125;var getFlashUploadObj = function () &#123; if ( suportFlash() ) &#123; // æ”¯æŒfalsh æ§ä»¶ æ¨¡æ‹Ÿ var str = '&lt;object type="application/x-shockwave-flash"&gt;&lt;/object&gt;' return $(str).appendTo( $('body') ) &#125; return false&#125;var getFormUploadObj = function () &#123; var str = '&lt;input name="File" type="File"&gt;&lt;/input&gt;' return $(str).appendTo( $('body') )&#125;var iteratorUploadObj = function () &#123; // å¦‚æœè¿”å›æ˜¯ä¸æ˜¯false åˆ™è¿”å›è¯¥å¯¹è±¡ å¾ªç¯ç»“æŸ for (var i =0, fn; fn = arguments[ i++]; )&#123; var uploadObj = fn() if (uploadObj !== false) &#123; return uploadObj &#125; &#125;&#125;var uploadObj = iteratorUploadObj( getActiveUploadObj, getFlashUploadObj, getFormUploadObj )// å¦‚æœéœ€æ±‚é…ç½®æ–°çš„ä¸Šä¼ å¯¹è±¡ åªéœ€è¦å†æ·»åŠ æ–°çš„æ–¹æ³•å³å¯var getHtml5UplaodObj = function () &#123; // ........ å…·ä½“ä»£ç ç•¥ å¦‚æœä¸æˆåŠŸå¯ä»¥è¿”å›false&#125;var getWebkitUploadObj = function () &#123; // ........ å…·ä½“ä»£ç ç•¥ å¦‚æœä¸æˆåŠŸå¯ä»¥è¿”å›false&#125;// æ­¤æ—¶æ»¡è¶³äº†å¼€é—­åŸåˆ™var uploadObj = iteratorUploadObj( getActiveUploadObj, getFlashUploadObj, getHtml5UplaodObj, getWebkitUploadObj, getFormUploadObj )]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[03ä»£ç†æ¨¡å¼]]></title>
    <url>%2F2019%2F06%2F25%2F03%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126/* ä»£ç†æ¨¡å¼ï¼Œé€šè¿‡ä¸€ä¸ªä»£ç†å¯¹è±¡è®¿é—®æœ¬ä½“ æ¨¡æ‹Ÿå°æ˜å°†èŠ±é€ç»™A å¯ä»¥é€šè¿‡Bè½¬é€ç»™A */var Flower = function () &#123;&#125;/* é»˜è®¤ */var xiaoming = &#123; sendFlower: function ( target ) &#123; var flower = new Flower() target.receiveFlower( flower ) &#125; &#125;var A = &#123; receiveFlower: function ( flower ) &#123; console.log( 'æ”¶åˆ°äº†èŠ±' + flower) &#125;, listenGoodMood: function (fn) &#123; setTimeout(function () &#123; console.log('å¿ƒæƒ…ä¸é”™ï¼Œæˆ‘ç­”åº”å•¦') fn() &#125;, 5000) // å‡è®¾A 5såå¿ƒæƒ…å˜å¥½ &#125;&#125;// xiaoming.sendFlower( A ) è¿™é‡ŒAåªæœ‰åœ¨å¿ƒæƒ…å¥½çš„æ—¶å€™ æ‰æ”¶èŠ±,æ‰€ä»¥è¿™é‡Œä¸è¡Œ, éœ€è¦ä¸€ä¸ªä»£ç†Bvar B = &#123; receiveFlower: function ( flower ) &#123; A.listenGoodMood(function () &#123; A.receiveFlower( flower ) &#125;) &#125;&#125;// xiaoming.sendFlower( B ) //é€šè¿‡ä¸€ä¸ªä»£ç†B å®Œæˆäº†ä»»åŠ¡/* è™šæ‹Ÿä»£ç†å‘é€æ•´åˆhttpè¯·æ±‚å‘é€ å¯¹äºå®æ—¶æ€§ä¸å¤ªé«˜çš„ç³»ç»Ÿå¯ä»¥é‡‡ç”¨ï¼Œå‡å°‘é¢‘ç¹çš„httpæ¬¡æ•°ä¿è¯é«˜æ•ˆ */var synchronousFile = function ( id ) &#123; console.log( 'å¼€å§‹åŒæ­¥æ–‡ä»¶ï¼Œ HTTP....' + id )&#125;var checkbox = document.getElementsByTagName('input')for (var i = 0, c; c = checkbox[i++]; ) &#123; c.onclick = function () &#123; if ( this.checked === true ) &#123; synchronousFile ( this.id ) &#125; &#125;&#125;/* é¢‘ç¹çš„å‘é€æµªè´¹ç½‘ç»œè¯·æ±‚ï¼Œ å¯ä»¥æ•´åˆæˆä¸€æ‰¹ è¿›è¡Œå‘é€ å…¶åŸç†ç±»ä¼¼å…¬äº¤è½¦å‘è½¦ï¼Œ åªè¦æœ‰ä¸€ä¸ªè¯·æ±‚è¿‡æ¥å°±æ”¾ä¸€ä¸ªå…¬äº¤è½¦ï¼Œ ç­‰å¾…2såï¼Œä¸€èµ·å‘è½¦ï¼Œåç»­çš„è¯·æ±‚ç›´æ¥ä¸Šè½¦å³å¯*/var proxySynchronousFile = (function () &#123; var cache = [], // ä¿å­˜å‘é€é˜Ÿåˆ— timer // å®šæ—¶å™¨ return function ( id ) &#123; // ä»£ç†å¯¹è±¡è¦ä¸æœ¬ä½“è®¾è®¡ä¸€è‡´ æ–¹ä¾¿è°ƒæ¢å’Œæ›´æ”¹ cache.push(id) // æ”¾å…¥å‘é€é˜Ÿåˆ— if ( timer ) &#123; // å½“å‰å·²ç»æœ‰ä¸€æ‰¹å‡†å¤‡å¥½ï¼Œå‘é€ä¸­ return &#125; timer = setTimeout(function () &#123; synchronousFile ( cache.join( ',' ) ) clearTimeout( timer ) timer = null cache.length = 0 // æ¸…ç©ºé›†åˆ &#125;, 2000) &#125;&#125;)()var checkbox = document.getElementsByTagName( 'input' )for (var i = 0, c; c = checkbox[i++]; ) &#123; c.onclick = function () &#123; if (this.checked === true) &#123; proxySynchronousFile( this.id ) &#125; &#125;&#125;/* ç¼“å­˜ä»£ç†ï¼Œå°±æ˜¯å°†ä¸€äº›ç»“æœæå‰ç¼“å­˜èµ·æ¥ï¼Œç„¶ååç»­ä¾¿äºç›´æ¥æŸ¥æ‰¾ å¦‚ è¿™é‡Œåšä¸€äº›å¤§è®¡ç®—ï¼ˆè®¤ä¸ºæ­¤å¤„ä¸ºå¤æ‚è®¡ç®—ï¼‰ */var mult = function () &#123; var a = 1 for (var i = 0, l = arguments.length; i &lt; l; i++) &#123; a = a * arguments[i] &#125; return a&#125;var add = function () &#123; var a = 0 for (var i = 0, l = arguments.length; i &lt; l; i++) &#123; a = a + arguments[i] &#125; return a&#125;// åˆ›å»ºç¼“å­˜ä»£ç†çš„å·¥å‚var createProxyFactory = function ( fn ) &#123; var cache = &#123;&#125; return function () &#123; var args = Array.prototype.join.call( arguments, ',' ) if (args in cache) &#123; return cache[ args ] &#125; return cache[ args ] = fn.apply( this, arguments) &#125;&#125;var proxyMult = createProxyFactory( mult )var proxyAdd = createProxyFactory( add )proxyMult(1, 2, 3) // è¿›è¡Œè®¡ç®—ï¼Œå¹¶ä¸”æŠŠç»“æœæ”¾å…¥ç¼“å­˜ä¸­proxyMult(1, 2, 3) // ä»ç¼“å­˜ä¸­ç›´æ¥è¯»å–]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[02ç­–ç•¥æ¨¡å¼]]></title>
    <url>%2F2019%2F06%2F25%2F02%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133// å®šä¹‰ç­–ç•¥var strategies = &#123; "S": function (salary) &#123; return salary * 4 &#125;, "A": function (salary) &#123; return salary * 3 &#125;, "B": function (salary) &#123; return salary * 2 &#125;&#125;// ä½¿ç”¨ç­–ç•¥var calculateBonus = function ( level, salary) &#123; return strategies[ level ]( salary )&#125;// è°ƒç”¨console.log( calculateBonus( 'S', 10000) )console.log( calculateBonus( 'B', 10000) )/* ä½¿ç”¨æ¡ˆä¾‹ï¼Œåšä¸€ä¸ªè¡¨å•éªŒé…ç½® validator *//* ç­–ç•¥å¯¹è±¡ */var strategies = &#123; isNonEmpty: function ( value, errorMsg ) &#123; if (value === '') &#123; return errorMsg &#125; &#125;, minLength: function (value, length, errorMsg) &#123; if (value.length &lt; length) &#123; return errorMsg &#125; &#125;, maxLength: function (value, length, errorMsg) &#123; if (value.length &gt; length) &#123; return errorMsg &#125; &#125;, isMobile: function (value, errorMsg) &#123; if (!/^1[3|5|8][0-9]&#123;9&#125;$/.test( value )) &#123; return errorMsg &#125; &#125;&#125;/* éªŒè¯å™¨ validator */class Validator &#123; constructor() &#123; this.cache = [] &#125; add (dom, rules) &#123; // æ·»åŠ ä¸€ä¸ªç­–ç•¥ for (var i = 0, rule; rule = rules[ i++ ]; ) &#123; var that = this ;(function (rule) &#123; // å¼‚æ­¥è°ƒç”¨ï¼Œ è¿™é‡Œè¦æ³¨æ„é—­åŒ…ï¼Œå¦åˆ™ä¸€ç›´æ£€éªŒæ­¤é¡¹æœ€åä¸€ä¸ªç­–ç•¥ var strategyAry = rule.strategy.split( ':' ) var errorMsg = rule.errorMsg that.cache.push(function () &#123; // cacheæ”¾å…¥é…ç½®å¥½çš„å¾…æ‰§è¡Œæ–¹æ³• var strategy = strategyAry.shift() // ['minLength', 6] strategyAry.unshift( dom.value ) // æŠŠå¾…æµ‹å€¼æ”¾å…¥ç¬¬ä¸€ä¸ªå‚æ•° ['value', 6] strategyAry.push(errorMsg) // æŠŠé”™è¯¯æç¤º æ”¾å…¥æœ€åä¸€ä¸ª ï¼ˆç¬¬äºŒä½æˆ–ç¬¬ä¸‰ä½ï¼‰ ['value', 6ï¼Œ 'ä¸èƒ½å°‘äº6ä½'] return strategies[ strategy ].apply(dom, strategyAry) &#125;) &#125;)(rule) &#125; &#125; validate () &#123; // éªŒè¯ç­–ç•¥ for (var i = 0, validatorFunc; validatorFunc = this.cache [ i++ ]; ) &#123; var errorMsg = validatorFunc() if ( errorMsg ) &#123; return errorMsg &#125; &#125; &#125;&#125;/* ================= å®¢æˆ·ç«¯è°ƒç”¨ ================= */var registerForm = document.getElementById('registerForm') // è·å–å…ƒç´ var validataFunc = function () &#123; // éªŒè¯é€»è¾‘ var validator = new Validator() validator.add(registerForm.username, [&#123; strategy: 'isNonEmpty', errorMsg: 'ç”¨æˆ·åä¸èƒ½ä¸ºç©º' &#125;, &#123; strategy: 'minLength:6', errorMsg: 'ç”¨æˆ·åä¸èƒ½å°‘äº6ä½' &#125;]) validator.add(registerForm.password, [&#123; strategy: 'minLength:6', errorMsg: 'å¯†ç ä¸èƒ½å°‘äº6ä½' &#125;]) validator.add(registerForm.phonenumber, [&#123; strategy: 'isMobile', errorMsg: 'æ‰‹æœºå·ä¸æ­£ç¡®' &#125;]) // è°ƒç”¨æ ¡éªŒ var errorMsg = validator.validate() return errorMsg&#125;registerForm.onsubmit = function () &#123; // ç»‘å®šéªŒè¯é€»è¾‘ var errorMsg = validataFunc() if ( errorMsg ) &#123; // æœ‰é”™è¯¯ï¼Œ é˜»æ­¢æäº¤ alert( errorMsg ) return false &#125;&#125;class Person&#123; constructor (name) &#123; this.name = name &#125; sayHi () &#123; console.log(this.name) console.log('hi') &#125;&#125;var p = new Person('zhn')// console.log(p)p.sayHi()]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[01å•ä¾‹æ¨¡å¼]]></title>
    <url>%2F2019%2F06%2F25%2F01%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748/* æ³¨æ„ï¼šå•ä¾‹ç®¡ç† å’Œ å¯¹è±¡åˆ›å»ºè¦åˆ†å¼€ *//*// è¿”å›åˆ›å»ºå•ä¾‹çš„æ–¹æ³•var getSingle = function ( fn ) &#123; var result return function () &#123; return result || (result = fn.apply(this, arguments)) &#125;&#125;// åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•var createSigleIframe = getSingle(function () &#123; var iframe = document.createElement('iframe') document.body.appendChild(iframe) return iframe&#125;)// ä½¿ç”¨document.getElementById( 'loginBtn' ).onclick = function () &#123; var loginLayer = createSigleIframe() loginLayer.src = 'http://www.baidu.com'&#125;document.getElementById( 'loginBtn' ).onclick = function () &#123; // å¤šæ¬¡è°ƒç”¨ä¸ä¼šåˆ›å»ºå¤šä¸ªiframe var loginLayer = createSigleIframe() loginLayer.src = 'http://www.google.com'&#125;*//* æ¨¡æ‹Ÿå°ç¨‹åºä¸­äº‘å¼€å‘è·å–dbçš„ä¾‹å­ï¼Œä½¿ç”¨å•ä¾‹ */var getSingle = function (fn) &#123; var result return function () &#123; return result || (result = fn.apply(this, arguments)) &#125;&#125;var getDB = getSingle(function (wx) &#123; return wx.cloud.database()&#125;) // è¿™é‡Œä¿è¯å§‹ç»ˆå–å‡ºäº†ä¸€ä¸ªdb// var wx = &#123;name: 'wx'&#125;var db = getDB(wx)// ......var db = getDB()// ......var db = getDB()// ......]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsçš„ç›¸å…³é«˜é˜¶å‡½æ•°]]></title>
    <url>%2F2019%2F06%2F25%2Fjs%E7%9A%84%E7%9B%B8%E5%85%B3%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[æŸ¯é‡ŒåŒ– curryingå°±æ˜¯æŠŠä¸€äº›æ–¹æ³• åœ¨å†…éƒ¨åšäº†ï¼Œæˆ–è€…å¯ä»¥è¿ç»­è°ƒç”¨ å‡å°‘æ™®éæ€§ï¼Œ å¢åŠ é€‚ç”¨æ€§ï¼Œæå‰åš12345678910111213141516171819202122232425262728293031// åšä¸€ä¸ªèƒ½å¤Ÿç´¯åŠ çš„æ–¹æ³•var currying = function ( fn ) &#123; var args = [] return function () &#123; if (arguments.length === 0) &#123; return fn.apply( this, args) &#125;else&#123; [].push.apply( args, arguments ) return arguments.callee // è¿”å›è°ƒç”¨å‡½æ•° å¯ä»¥fn()()() &#125; &#125;&#125;var cost = (function () &#123; var money = 0 return function () &#123; for (var i = 0, l = arguments.length; i &lt; l; i++ ) &#123; money += arguments[i] &#125; return money &#125;&#125;)()// var result = cost(1, 2, 3) // ç«‹å³è®¡ç®—6// var cost = currying (cost) // æŸ¯é‡ŒåŒ–// cost(1)// cost(2)// cost(3)(4)// var result = cost() // è¿™é‡Œåœ¨è®¡ç®—10 éæŸ¯é‡ŒåŒ– uncurryingå°±æ˜¯æŠŠåŸæœ¬å†…éƒ¨çš„ä¸€äº›æ–¹æ³• æŠ½ç¦»å‡ºæ¥ï¼Œå¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œ å€Ÿç”¨æ–¹æ³•ï¼Œåªè¦æ˜¯thisæŒ‡å‘çš„é—®é¢˜ document.createElement() -&gt; æ­¤æ—¶çš„createElementçš„è°ƒç”¨è€…æ˜¯document createFn = document.createElement-&gt; createFn() -&gt; æ­¤æ—¶çš„createElementçš„è°ƒç”¨è€…æ˜¯window.æ‰€ä»¥ä¼šå‡ºç°å¼‚å¸¸ ä¸»è¦çš„è§£å†³æ–¹æ¡ˆ æ˜¯æŠŠthiså›ºå®šä¸‹æ¥ 1234567891011121314Function.prototype.uncurrying = function () &#123; var self = this // è¿™é‡Œæ˜¯æ–¹æ³•ä½“ return function () &#123; var obj = Array.prototype.shift.call( arguments ) return self.apply( obj, arguments) &#125;&#125;var push = Array.prototype.push.uncurrying()var obj = &#123; "0": 0, "length": 1&#125;push(obj, 1) // Object [ 0, 1 ] å‡½æ•°èŠ‚æµé¢‘ç¹è§¦å‘çš„äº‹ä»¶é€ æˆçš„ä¸å¿…è¦çš„äº‹ä»¶çš„æµªè´¹,è¿”å›é‚£äº›é¢‘ç¹çš„å‡½æ•° 12345678910111213141516171819202122232425262728293031var throttle = function (fn, interval) &#123; var _self = fn, // åŸå§‹å‡½æ•°çš„å¼•ç”¨ timer, // è®¡æ—¶å™¨ firstTime = true // ç¬¬ä¸€æ¬¡ return function () &#123; var args = arguments _me = this if (firstTime) &#123; // ç¬¬ä¸€æ¬¡è¿›å…¥ _self.apply(_me, args) return firstTime = false &#125; if (timer) &#123; // å½“å‰æ­£åœ¨å‡†å¤‡è¿è¡Œä¸­ return false &#125; timer = setTimeout(function () &#123; clearTimeout(timer) timer = null _self.apply(_me, args) &#125;, interval || 500) &#125;&#125;window.onresize = throttle(function () &#123; console.log('1')&#125;, 500) // ä¿è¯äº‹ä»¶è§¦å‘500ms/æ¬¡ åˆ†æ—¶å‡½æ•°æµè§ˆå™¨æ‰§è¡Œé€Ÿåº¦å¾ˆå¿«ï¼Œæœ‰å¯èƒ½ä½¿å…¶åƒä¸æ¶ˆï¼Œå‡æ­»ï¼Œå´©æºƒï¼Œå¯ä»¥é™ä½é€Ÿåº¦ï¼Œåˆ†æ‰¹æ‰§è¡Œç±»ä¼¼ä¸åå¤§å·´è½¦ï¼Œ ä¸€æ‰¹ä¸€æ‰¹çš„æ‹‰å®¢ 123456789101112131415161718192021222324252627282930313233var timeChunk = function (ary, fn, count) &#123; var obj, t var len = ary.length var start = function () &#123; for (var i = 0; i &lt; Math.min(count || 1, ary.length); i++) &#123; // è¿™é‡Œä¿è¯ä¸€æ¬¡è¿è¡Œæœ€å°æ¬¡æ•° var obj = ary.shift() fn(obj) &#125; &#125; return function () &#123; t = setInterval(function () &#123; if (ary.length === 0) &#123; return clearInterval(t) &#125; start() &#125;, 200) &#125;&#125;var ary = []for (var i = 0; i &lt; 1000; i++) &#123; ary.push(i)&#125;var render = timeChunk(ary, function (n)&#123; // TODO...... ä¸€æ¬¡æ‰§è¡Œ8ä¸ªä»»åŠ¡ ä¸€æ‰¹ä¸€æ‰¹æ‰§è¡Œ // console.log(n)&#125;, 8)render() æƒ°æ€§åŠ è½½åˆ¤æ–­æµè§ˆå™¨ç±»å‹ï¼Œè¿™ç§éœ€è¦å¹²ä¸€æ¬¡å­˜å‚¨èµ·æ¥å³å¯ 1234567891011121314151617181920212223242526272829var addEvent = (function () &#123; // æå‰ç¼“å­˜èµ·æ¥äº†ï¼Œ ä½†æ˜¯å¯èƒ½ä¸€æ¬¡æ²¡æ‰§è¡Œï¼Œä¼šæµªè´¹ if (window.addEventListener) &#123; return function (ele, type, handler) &#123; ele.addEventListener(typem, handler, false) &#125; &#125; if (window.attachEvent) &#123; return function (ele, type, handler) &#123; ele.attachEvent('on' + typem, handler) &#125; &#125;&#125;)()// addEvent(dom, 'click', () =&gt; &#123; console.log(1) &#125;)var addEvent = function (ele, type, handler) &#123; // å½“ç¬¬ä¸€æ¬¡ç”¨å®Œä¹‹åæ”¹å˜æŒ‡å‘ if (window.addEventListener) &#123; addEvent = function (ele, type, handler) &#123; ele.addEventListener(typem, handler, false) &#125; &#125; if (window.attachEvent) &#123; addEvent = function (ele, type, handler) &#123; ele.attachEvent('on' + typem, handler) &#125; &#125;&#125;// addEvent(dom, 'click', () =&gt; &#123; console.log(1) &#125;)]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsä¸­æ­£åˆ™ç›¸å…³çš„æ–¹é¢]]></title>
    <url>%2F2019%2F06%2F12%2Fjs%E4%B8%AD%E6%AD%A3%E5%88%99%E7%9B%B8%E5%85%B3%E7%9A%84%E6%96%B9%E9%9D%A2%2F</url>
    <content type="text"><![CDATA[æ¯”è¾ƒåŸºç¡€çš„ç”¨æ³•12345678910111213141516171819202122232425262728293031323334353637383940414243444546// æ­£åˆ™åmatchçš„ç»“æœæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸² gæ˜¯å…¨å±€æ›¿æ¢ å¦åˆ™ä»–åŒ¹é…åˆ°ç¬¬ä¸€ä¸ªå°±åœä¸‹æ¥äº†var str = 'abc666'var result = str.match(/^a.*6$/g) // ^è¡¨ç¤ºä¸¥æ ¼å¼€å¤´ $è¡¨ç¤ºä¸¥æ ¼ç»“å°¾ [ "abc666" ]var str = '6^1a'var result = str.match(/\^1a/g) // [ "^1a" ] å¯¹å…³é”®è¯è¿›è¡Œè½¬ä¹‰ var str = ' hello world 'var result = str.match(/(^\s+)|(\s+$)/) // åŒ¹é…å‰åçš„ç©ºæ ¼ [ " ", " "]var str = 'php'var result = str.match(/p.p/) // .è¡¨ç¤ºä»»æ„å­—ç¬¦ ä¸€ä¸ªç‚¹è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ [ "php" ]var str = 'phahsp'var result = str.match(/p.*p/) // .*è¡¨ç¤ºä»»æ„çš„å­—ç¬¦ä¸² [ "phahsp" ]var str = 'pha_hsp'var result = str.match(/p\w*p/g) // \wè¡¨ç¤º å­—æ¯ æ•°å­— ä¸‹åˆ’çº¿ [ "pha_hsp" ]var str = 'p*@ #*-+p'var result = str.match(/p\W*p/g) // \Wè¡¨ç¤º éå­—æ¯ éæ•°å­— éä¸‹åˆ’çº¿ [ "p*@ #*-+p" ]var str = 'hello123456666aas5474xc'var result = str.match(/\d/g) // \d è¡¨ç¤ºä¹Ÿç»™æ•°å­— [ "1", "2", "3", "4", "5", "6", "6", "6", "6", "5", â€¦ ]var result = str.match(/\d+/g) // è´ªå©ªæ¨¡å¼ï¼Œä¼šä¸€ç›´åŒ¹é…ä¸‹å» [ "123456666", "5474" ]var result = str.match(/\D+/g) // \D è¡¨ç¤ºéæ•°å­— [ "hello", "aas", "xc" ]var str = 'abcd nihao 666 zhn'var result = str.match(/\bn.*/g) // \b è¡¨ç¤ºåŒ¹é…è¾¹ç•Œ ä»¥å¼€å¤´ ä½¿ç”¨ç©ºæ ¼åšä¾æ® [ "nihao 666 zhn" ]var result = str.match(/\bn.*o/g) // [ "nihao" ]// å‰©ä¸‹æŸ¥é˜…é…ç½®æ‰‹å†Œå³å¯/* åˆ†ç»„çš„ä½¿ç”¨ */var str = '1111, 1212, 1331 1344'var result = str.match(/\d\d\d\d/g) // æŸ¥æ‰¾å››ä¸ªæ•°å­— [ "1111", "1212", "1331" ]var result = str.match(/(\d)(\d)\1\2/g) // åŒ¹é…ä½¿ç”¨ \1 [ "1111", "1212" ]var result = str.match(/(\d)(?:\d)(\d)\2/g) // åŒ¹é…ä½¿ç”¨ ç¦æ­¢ä½¿ç”¨æ­¤åˆ†ç»„ ?: [ "1111", "1344" ]/* æ–­è¨€/ç¯è§† */var str = 'java11 and es6'var result = str.match(/[A-z]+(?=\d)/g) // åé™åˆ¶,ä½†æ˜¯è‡ªå·±ä¸ä¼šè¢«è¾“å‡º [ "java", "es" ] var str = '12sda4716'var result = str.match(/(?!^\d+\$)^[0-9a-zA-Z]+$/g) // å‰è¡¨èŒƒå›´ ä¸èƒ½åªæ˜¯æ•°å­—çš„æƒ…å†µä¸‹ æ»¡è¶³[0-9a-zA-Z]+å³ï¼Œ [ "12sda4716" ]console.log(result) å‡½æ•°æ–¹æ³•ç›¸å…³123456789101112131415161718192021222324252627282930313233343536373839404142/*RegExp test æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³• */var res = /abc/g.test('abc') // true/*RegExp exec æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³• */var str = '1111 1122 3434 5678 8989'var r = /(\d)\d\1\d/g// ä¼šæœ‰è¿ç»­æ€§var i = r.lastIndex // å‰ä¸€æ¬¡åŒ¹é…çš„ä½ç½® 0var res = r.exec(str) // [ "1111", "1" ] '1111'æ˜¯åŒ¹é…çš„ç»“æœ '1'æ˜¯åˆ†ç»„çš„ä¿¡æ¯console.log(i, res) // 0 [ "1111", "1" ]var i = r.lastIndex // ä¸Šä¸€æ¬¡åŒ¹é…çš„ç»“æŸä½ç½® 4var res = r.exec(str) // [ "3434", "3" ]console.log(i, res) // 4 [ "3434", "3" ] /*String replaceçš„æ–¹æ³• */var str = 'helli world' var result = str.replace('l', 'L') // heLli world åªæ›¿æ¢ä¸€å¤„var result = str.replace(/l/, 'L') // heLli worldvar result = str.replace(/l/g, 'L') // heLLi worLd å…¨å±€æ›¿æ¢/g// å€ŸåŠ©å­è¡¨è¾¾å¼ 12345 - 12[12-3-45]45var str = '12345'var result = str.replace(/(3)/g, "[$`-$1-$']") // $` åŒ¹é…å·¦ä¾§çš„éƒ¨åˆ† $' åŒ¹é…å³ä¾§çš„éƒ¨åˆ†var str = '1234567'var result = str.replace(/(2).(4).(6)/g, "[$`-$2-$']") // 1[1-4-7]7 æ•´ä¸ªåˆ†ç»„å·¦å³// å»é™¤æ±‰å­—ç›¸åŒçš„éƒ¨åˆ†var str = "è¿™è¿™è¿™è¿™ä¸¸ä¸¸ä¸¸å­å¤šå¤šå¤šå¤šå¤šå¤šå°‘é’±ä¸€ä¸€ä¸€ä¸€æ–¤"var result = str.replace(/([\u4e00-\u9fa5])\1*/g, '$1') //æ€§èƒ½ç•¥å·®ï¼Œæ‰€æœ‰éƒ½è¦åŒ¹é… å­ï¼Œå°‘ï¼Œé’±ä¹Ÿæ›¿æ¢äº†ï¼ˆå­ -&gt; å­ï¼‰ è¿™ä¸¸å­å¤šå°‘é’±ä¸€æ–¤var result = str.replace(/([\u4e00-\u9fa5])\1+/g, '$1') //æ€§èƒ½ç•¥å¥½ï¼Œå­ï¼Œå°‘ï¼Œé’±æ ¹æœ¬å°±æ²¡åŒ¹é…åˆ°ï¼ˆä¸æ»¡è¶³\1+ï¼‰ è¿™ä¸¸å­å¤šå°‘é’±ä¸€æ–¤// å€ŸåŠ©æ›¿æ¢å‡½æ•° é¦–å­—æ¯å¤§å†™var str = 'aaa bbb ccc' // Aaa Bbb Cccvar result = str.replace(/[a-z]+/g, function (x) &#123; // xä¸ºåŒ¹é…åˆ°çš„çš„ç»„ return x.substr(0, 1).toUpperCase() + x.substr(1) // æœ€åè¦å°† x è¿”å›å‡ºå»&#125;) console.log(result)]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsä¸­æ­£åˆ™ç›¸å…³çš„æ–¹é¢]]></title>
    <url>%2F2019%2F06%2F12%2F%E6%AD%A3%E5%88%99%E7%9B%B8%E5%85%B3%2F</url>
    <content type="text"><![CDATA[æ¯”è¾ƒåŸºç¡€çš„ç”¨æ³•12345678910111213141516171819202122232425262728293031323334353637383940414243444546// æ­£åˆ™åmatchçš„ç»“æœæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸² gæ˜¯å…¨å±€æ›¿æ¢ å¦åˆ™ä»–åŒ¹é…åˆ°ç¬¬ä¸€ä¸ªå°±åœä¸‹æ¥äº†var str = 'abc666'var result = str.match(/^a.*6$/g) // ^è¡¨ç¤ºä¸¥æ ¼å¼€å¤´ $è¡¨ç¤ºä¸¥æ ¼ç»“å°¾ [ "abc666" ]var str = '6^1a'var result = str.match(/\^1a/g) // [ "^1a" ] å¯¹å…³é”®è¯è¿›è¡Œè½¬ä¹‰ var str = ' hello world 'var result = str.match(/(^\s+)|(\s+$)/) // åŒ¹é…å‰åçš„ç©ºæ ¼ [ " ", " "]var str = 'php'var result = str.match(/p.p/) // .è¡¨ç¤ºä»»æ„å­—ç¬¦ ä¸€ä¸ªç‚¹è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ [ "php" ]var str = 'phahsp'var result = str.match(/p.*p/) // .*è¡¨ç¤ºä»»æ„çš„å­—ç¬¦ä¸² [ "phahsp" ]var str = 'pha_hsp'var result = str.match(/p\w*p/g) // \wè¡¨ç¤º å­—æ¯ æ•°å­— ä¸‹åˆ’çº¿ [ "pha_hsp" ]var str = 'p*@ #*-+p'var result = str.match(/p\W*p/g) // \Wè¡¨ç¤º éå­—æ¯ éæ•°å­— éä¸‹åˆ’çº¿ [ "p*@ #*-+p" ]var str = 'hello123456666aas5474xc'var result = str.match(/\d/g) // \d è¡¨ç¤ºä¹Ÿç»™æ•°å­— [ "1", "2", "3", "4", "5", "6", "6", "6", "6", "5", â€¦ ]var result = str.match(/\d+/g) // è´ªå©ªæ¨¡å¼ï¼Œä¼šä¸€ç›´åŒ¹é…ä¸‹å» [ "123456666", "5474" ]var result = str.match(/\D+/g) // \D è¡¨ç¤ºéæ•°å­— [ "hello", "aas", "xc" ]var str = 'abcd nihao 666 zhn'var result = str.match(/\bn.*/g) // \b è¡¨ç¤ºåŒ¹é…è¾¹ç•Œ ä»¥å¼€å¤´ ä½¿ç”¨ç©ºæ ¼åšä¾æ® [ "nihao 666 zhn" ]var result = str.match(/\bn.*o/g) // [ "nihao" ]// å‰©ä¸‹æŸ¥é˜…é…ç½®æ‰‹å†Œå³å¯/* åˆ†ç»„çš„ä½¿ç”¨ */var str = '1111, 1212, 1331 1344'var result = str.match(/\d\d\d\d/g) // æŸ¥æ‰¾å››ä¸ªæ•°å­— [ "1111", "1212", "1331" ]var result = str.match(/(\d)(\d)\1\2/g) // åŒ¹é…ä½¿ç”¨ \1 [ "1111", "1212" ]var result = str.match(/(\d)(?:\d)(\d)\2/g) // åŒ¹é…ä½¿ç”¨ ç¦æ­¢ä½¿ç”¨æ­¤åˆ†ç»„ ?: [ "1111", "1344" ]/* æ–­è¨€/ç¯è§† */var str = 'java11 and es6'var result = str.match(/[A-z]+(?=\d)/g) // åé™åˆ¶,ä½†æ˜¯è‡ªå·±ä¸ä¼šè¢«è¾“å‡º [ "java", "es" ] var str = '12sda4716'var result = str.match(/(?!^\d+\$)^[0-9a-zA-Z]+$/g) // å‰è¡¨èŒƒå›´ ä¸èƒ½åªæ˜¯æ•°å­—çš„æƒ…å†µä¸‹ æ»¡è¶³[0-9a-zA-Z]+å³ï¼Œ [ "12sda4716" ]console.log(result) å‡½æ•°æ–¹æ³•ç›¸å…³123456789101112131415161718192021222324252627282930313233343536373839404142/*RegExp test æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³• */var res = /abc/g.test('abc') // true/*RegExp exec æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³• */var str = '1111 1122 3434 5678 8989'var r = /(\d)\d\1\d/g// ä¼šæœ‰è¿ç»­æ€§var i = r.lastIndex // å‰ä¸€æ¬¡åŒ¹é…çš„ä½ç½® 0var res = r.exec(str) // [ "1111", "1" ] '1111'æ˜¯åŒ¹é…çš„ç»“æœ '1'æ˜¯åˆ†ç»„çš„ä¿¡æ¯console.log(i, res) // 0 [ "1111", "1" ]var i = r.lastIndex // ä¸Šä¸€æ¬¡åŒ¹é…çš„ç»“æŸä½ç½® 4var res = r.exec(str) // [ "3434", "3" ]console.log(i, res) // 4 [ "3434", "3" ] /*String replaceçš„æ–¹æ³• */var str = 'helli world' var result = str.replace('l', 'L') // heLli world åªæ›¿æ¢ä¸€å¤„var result = str.replace(/l/, 'L') // heLli worldvar result = str.replace(/l/g, 'L') // heLLi worLd å…¨å±€æ›¿æ¢/g// å€ŸåŠ©å­è¡¨è¾¾å¼ 12345 - 12[12-3-45]45var str = '12345'var result = str.replace(/(3)/g, "[$`-$1-$']") // $` åŒ¹é…å·¦ä¾§çš„éƒ¨åˆ† $' åŒ¹é…å³ä¾§çš„éƒ¨åˆ†var str = '1234567'var result = str.replace(/(2).(4).(6)/g, "[$`-$2-$']") // 1[1-4-7]7 æ•´ä¸ªåˆ†ç»„å·¦å³// å»é™¤æ±‰å­—ç›¸åŒçš„éƒ¨åˆ†var str = "è¿™è¿™è¿™è¿™ä¸¸ä¸¸ä¸¸å­å¤šå¤šå¤šå¤šå¤šå¤šå°‘é’±ä¸€ä¸€ä¸€ä¸€æ–¤"var result = str.replace(/([\u4e00-\u9fa5])\1*/g, '$1') //æ€§èƒ½ç•¥å·®ï¼Œæ‰€æœ‰éƒ½è¦åŒ¹é… å­ï¼Œå°‘ï¼Œé’±ä¹Ÿæ›¿æ¢äº†ï¼ˆå­ -&gt; å­ï¼‰ è¿™ä¸¸å­å¤šå°‘é’±ä¸€æ–¤var result = str.replace(/([\u4e00-\u9fa5])\1+/g, '$1') //æ€§èƒ½ç•¥å¥½ï¼Œå­ï¼Œå°‘ï¼Œé’±æ ¹æœ¬å°±æ²¡åŒ¹é…åˆ°ï¼ˆä¸æ»¡è¶³\1+ï¼‰ è¿™ä¸¸å­å¤šå°‘é’±ä¸€æ–¤// å€ŸåŠ©æ›¿æ¢å‡½æ•° é¦–å­—æ¯å¤§å†™var str = 'aaa bbb ccc' // Aaa Bbb Cccvar result = str.replace(/[a-z]+/g, function (x) &#123; // xä¸ºåŒ¹é…åˆ°çš„çš„ç»„ return x.substr(0, 1).toUpperCase() + x.substr(1) // æœ€åè¦å°† x è¿”å›å‡ºå»&#125;) console.log(result)]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç©¿è¶Šæ—¶ç©ºçš„ä¿¡]]></title>
    <url>%2F2019%2F06%2F12%2F%E7%A9%BF%E8%B6%8A%E6%97%B6%E7%A9%BA%E7%9A%84%E4%BF%A1%2F</url>
    <content type="text"><![CDATA[å¦‚æœæŠŠæ¥æ‰¾æˆ‘å’¨è¯¢çš„äººæ¯”å–»æˆè¿·é€”çš„ç¾”ç¾Šï¼Œé€šå¸¸ä»–ä»¬çš„æ‰‹ä¸Šéƒ½æœ‰åœ°å›¾ï¼Œå´æ²¡æœ‰çœ‹ï¼Œæˆ–æ˜¯ä¸çŸ¥é“è·¯åœ¨å“ªé‡Œã€‚ ä¸œé‡åœ­å¾è€å…ˆç”Ÿè‘—çš„ã€Šè§£å¿§æ‚è´§åº—ã€‹ï¼Œæ•…äº‹çœ‹ä¼¼ç‹¬ç«‹ï¼Œå´åˆç©¿æ’å…¶ä¸­ï¼Œæœ€åä¸€å¹•çœŸçš„æ˜¯éœ‡æƒŠåˆ°äº†æˆ‘ï¼Œç©¿è¶Šæ—¶ç©ºçš„è¿æ¥ï¼Œå´è¿‘åœ¨çœ¼å‰ï¼Œæ¯ä¸ªäººæˆ–è®¸éƒ½æœ‰ä¸€ä¸ªå°ç‰›å¥¶ç®±ï¼Œæˆ‘æƒ³è¿™é›¶æ˜Ÿçš„æ¸©æš–ï¼Œå¯¹æˆ‘ä»¬æ¥è¯´ï¼Œå°±å·²ç»è¶³å¤Ÿäº†ã€‚ ä¹‹å‰ä»¥ä¸ºè‡ªå·±æˆ–è®¸ä¸çˆ±çœ‹ä¹¦ï¼Œä¸€ç›´å¼•ä»¥ä¸ºå‚²ï¼Œæˆ–è®¸æ˜¯è¯¥é™ä¸‹å¿ƒæ¥ï¼Œå»ä»åˆ«äººçš„ç”Ÿæ´»ä¸­ç…§äº®åˆ°è‡ªå·±çš„å½±å­ã€‚ å¯æ˜¯æ¢ä¸ªè§’åº¦æ¥çœ‹ï¼Œæ­£å› ä¸ºæ˜¯ä¸€å¼ ç™½çº¸ï¼Œæ‰å¯ä»¥éšå¿ƒæ‰€æ¬²çš„æç»˜åœ°å›¾ï¼Œä¸€åˆ‡å°½åœ¨ä½ è‡ªå·±ï¼Œå¯¹ä½ æ¥è¯´ï¼Œä¸€åˆ‡éƒ½æ˜¯è‡ªç”±ï¼Œåœ¨ä½ é¢å‰æ˜¯æ— é™çš„å¯èƒ½ï¼Œè¿™å¯æ˜¯å¾ˆæ£’çš„äº‹å•Šï¼Œæˆ‘è¡·å¿ƒçš„ç¥ˆç¥·ä½ å¯ä»¥ç›¸ä¿¡è‡ªå·±ï¼Œæ— æ‚”çš„ç‡ƒçƒ§è‡ªå·±çš„äººç”Ÿã€‚ æˆ–è®¸è¿™å°±æ˜¯æµªçŸ¢æ‚è´§åº—çš„é­…åŠ›æ‰€åœ¨ï¼Œæˆ–è®¸è¿™æ­£ä¹Ÿæ˜¯é˜…è¯»çš„é­…åŠ›å§ã€‚]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[promiseä¸­é“¾å¼è°ƒç”¨thençš„é—®é¢˜]]></title>
    <url>%2F2019%2F06%2F11%2Fpromise%E4%B8%AD%E9%93%BE%E5%BC%8F%E8%B0%83%E7%94%A8then%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[promiseæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³å¼‚æ­¥è°ƒç”¨çš„æ–¹æ³•ï¼Œå…¶é“¾å¼è°ƒç”¨ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å¼ï¼Œè¿™é‡Œæ¢ç©¶ä¸€ä¸‹å…¶è°ƒç”¨è¿‡ç¨‹ ä¸»è¦é—®é¢˜123456789101112Promise.resolve().then(res =&gt; &#123; return new Promise() &#125;)Promise.resolve().then(res =&gt; &#123; new Promise() &#125;)// ä¸Šä¸‹ä¸¤ç§Promiseçš„æ–¹å¼ä¸­ï¼Œ æ˜¯å¦ä¼šè¿›è¡Œä¸‹å»ï¼Œ//ä»¥åŠæ–°äº§ç”Ÿçš„promiseæ˜¯å¦ä¼šè¢«ä¼ é€’ä¸‹å»,æˆ–è€…è¯´æœ‰ä»€ä¹ˆä¸åŒ æµ‹è¯•ä»£ç æ¯ä¸€å¥æ‰“å°åé¢éƒ½è¾“å‡ºäº†æ—¶é—´æˆ³ï¼Œæ˜¯ä¸ºäº†æ›´å¥½æè¿°è¿è¡Œé¡ºåºæµ‹è¯•ä»£ç ç›´æ¥è´´åœ¨ä¸‹æ–¹ï¼Œå¯ä»¥æ‹¿åˆ°æµè§ˆå™¨ä¸­è¿›è¡Œæµ‹è¯•æŸ¥çœ‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333;(function () &#123; // fn1() // fn1_1() // fn2() // fn3() // fn4() // fn5() // fn6() // fn7() // fn8() // fn9()&#125;)()function fn1 () &#123; console.log('start', new Date().getTime()) new Promise(resolve =&gt; &#123; console.log('11111', new Date().getTime()) &#125;).then(res =&gt; &#123; console.log('22222', new Date().getTime()) &#125;).then(res =&gt; &#123; console.log('33333', new Date().getTime()) &#125;) console.log('end', new Date().getTime()) /* start 1560165694777 11111 1560165694787 end 1560165694790 */&#125;function fn1_1 () &#123; console.log('start', new Date().getTime()) new Promise(resolve =&gt; &#123; console.log('11111', new Date().getTime()) resolve() console.log('11111-1111', new Date().getTime()) &#125;).then(res =&gt; &#123; console.log('22222', new Date().getTime()) &#125;).then(res =&gt; &#123; console.log('33333', new Date().getTime()) &#125;) console.log('end', new Date().getTime()) /* start 1560166834093 11111 1560166834106 11111-1111 1560166834108 end 1560166834110 22222 1560166834115 33333 1560166834119 */&#125;/*é€šè¿‡å‰ fn1, fn1_1 ä¸¤ä¸ªå°ä¾‹å­å¯çŸ¥ï¼Œæœ€å¼€å§‹çš„new Promiseå¯èƒ½å¯¹æˆ‘ä»¬è¿›è¡Œå¹²æ‰°ï¼Œå‡ºç°è¿™ç§çŠ¶å†µçš„åŸå› æ˜¯ï¼Œç”³æ˜ new Promiseçš„æ—¶å€™æ­¤æ—¶å¼‚æ­¥è¿˜æœªå¼€å§‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥æŒ‰ç…§æ¥ä¸‹æ¥çš„æ–¹å¼è¿›è¡Œæµ‹è¯•*/function fn2 () &#123; console.log('start', new Date().getTime()) Promise.resolve() .then(res =&gt; &#123; console.log('11111', new Date().getTime()) &#125;) .then(res =&gt; &#123; console.log('22222', new Date().getTime()) &#125;).then(res =&gt; &#123; console.log('33333', new Date().getTime()) &#125;) console.log('end', new Date().getTime()) /* start 1560166657107 end 1560166657117 11111 1560166657120 22222 1560166657122 33333 1560166657130 */&#125;function fn3 () &#123; console.log('start', new Date().getTime()) Promise.resolve() .then(res =&gt; &#123; console.log('11111', new Date().getTime()) &#125;).then(res =&gt; &#123; console.log('22222', new Date().getTime()) return Promise.reject('2222error') &#125;).then(res =&gt; &#123; console.log('33333', new Date().getTime()) &#125;).catch(err =&gt; &#123; console.log(err, new Date().getTime()) &#125;) console.log('end', new Date().getTime()) /* start 1560166779524 end 1560166779533 11111 1560166779537 22222 1560166779539 2222error 1560166779543 */&#125;/*é€šè¿‡ fn3 è¿™ä¸ªä¾‹å­çŸ¥é“äº†ï¼Œåªè¦åœ¨è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œè¿”å›äº†ä¸€ä¸ªPromiseçš„rejectçŠ¶æ€å°±ä¼šç»“æŸä¸‹å»*/function fn4 () &#123; console.log('start', new Date().getTime()) Promise.resolve() .then(res =&gt; &#123; console.log('11111', new Date().getTime()) return new Promise((resolve, reject) =&gt; &#123; console.log('inner Promise', new Date().getTime())&#125;) &#125;) .then(res =&gt; &#123; console.log('22222', new Date().getTime()) &#125;).then(res =&gt; &#123; console.log('33333', new Date().getTime()) &#125;).catch(err =&gt; &#123; console.log(err, new Date().getTime()) &#125;) console.log('end', new Date().getTime()) /* start 1560167538395 end 1560167538407 11111 1560167538409 inner Promise 1560167538414 */&#125;/*é€šè¿‡ fn4 è¿™ä¸ªä¾‹å­ï¼Œå¦‚æœè°ƒç”¨é“¾ä¸­è¿”å›ä¸€ä¸ªpendingï¼Œä»–ä¹Ÿä¼šç­‰å¾…ï¼ˆPromiseåˆ›å»ºå‡ºæ¥å°±æ˜¯pendingçŠ¶æ€ï¼‰,ä»–æ—¢æ²¡æœ‰reject,ä¹Ÿæ²¡æœ‰resovleã€‚åˆ°ç›®å‰ï¼Œä¸€å…±æœ‰ä¸¤ç§æ–¹å¼ä¼šé˜»æ­¢é“¾å¼ï¼Œ â‘  è¿”å›äº†ä¸€ä¸ªrejectçš„Promise â‘¡ è¿”å›penddingçŠ¶æ€çš„Promsieå…¶ä½™çš„æƒ…å†µéƒ½ä¼šç•…é€šæ— é˜»çš„è¿è¡Œä¸‹å»(å‰æç›´æ¥å°±åœ¨è°ƒç”¨é“¾ä¸­äº†)*/function fn5 () &#123; console.log('start', new Date().getTime()) Promise.resolve() .then(res =&gt; &#123; console.log('11111', new Date().getTime()) &#125;).then(res =&gt; &#123; console.log('22222', new Date().getTime()) Promise.reject('2222error') &#125;).then(res =&gt; &#123; console.log('33333', new Date().getTime()) &#125;).catch(err =&gt; &#123; console.log(err, new Date().getTime()) &#125;) console.log('end', new Date().getTime()) /* start 1560166933856 end 1560166933865 11111 1560166933869 22222 1560166933873 33333 1560166933874 (node:8196) UnhandledPromiseRejectionWarning: 2222error */&#125;/*é€šè¿‡ fn5 è¿™ä¸ªä¾‹å­ï¼Œå…¶å®é‚£ä¸ªæ–°åˆ›å»ºçš„Promise,å¹¶ä¸å±äºè¿™ä¸ªè°ƒç”¨é“¾ï¼Œæˆ‘ä»¬æ¥ç€å‘ä¸‹éªŒè¯*/function fn6 () &#123; console.log('start', new Date().getTime()) Promise.resolve() .then(res =&gt; &#123; console.log('11111', new Date().getTime()) &#125;).then(res =&gt; &#123; console.log('22222', new Date().getTime()) Promise.reject('2222error').then().catch(err =&gt; console.log('inner' + err, new Date().getTime())) &#125;).then(res =&gt; &#123; console.log('33333', new Date().getTime()) &#125;).catch(err =&gt; &#123; console.log(err, new Date().getTime()) &#125;) console.log('end', new Date().getTime()) /* start 1560167831274 end 1560167831292 11111 1560167831296 22222 1560167831301 33333 1560167831307 inner2222error 1560167831316 */&#125;/*é€šè¿‡ fn6 æˆ‘ä»¬å·²ç»çŸ¥é“äº†åœ¨è°ƒç”¨é“¾ä¸­ï¼Œå¦‚æœreturn å‡ºä¸€ä¸ªPromiseï¼Œé‚£ä¹ˆå®ƒå°†å±äºæ­¤è°ƒç”¨é“¾ï¼Œå¦åˆ™å°±ä¼šæœ‰ä»–è‡ªå·±çš„ä¸€ä¸ªè°ƒç”¨é“¾*/function timeout(ms) &#123; // è¿™é‡Œæ¨¡æ‹Ÿä¸€ä¸ªå¼‚æ­¥æ“ä½œ return new Promise((resolve) =&gt; &#123; setTimeout(resolve, ms); &#125;);&#125;function fn7 () &#123; console.log('start', new Date().getTime()) Promise.resolve() .then(res =&gt; &#123; console.log('11111', new Date().getTime()) return timeout(500) &#125;).then(res =&gt; &#123; console.log('22222', new Date().getTime()) return timeout(500) &#125;).then(res =&gt; &#123; console.log('33333', new Date().getTime()) return timeout(500) &#125;).catch(err =&gt; &#123; console.log(err, new Date().getTime()) return timeout(500) &#125;) console.log('end', new Date().getTime()) /* start 1560167223744 end 1560167223759 11111 1560167223764 22222 1560167224274 33333 1560167224779 */&#125;function fn8 () &#123; console.log('start', new Date().getTime()) Promise.resolve() .then(res =&gt; &#123; console.log('11111', new Date().getTime()) timeout(500) &#125;).then(res =&gt; &#123; console.log('22222', new Date().getTime()) timeout(500) &#125;).then(res =&gt; &#123; console.log('33333', new Date().getTime()) timeout(500) &#125;).catch(err =&gt; &#123; console.log(err, new Date().getTime()) timeout(500) &#125;) console.log('end', new Date().getTime()) /* start 1560168006937 end 1560168006951 11111 1560168006954 22222 1560168006961 33333 1560168006966 */&#125;function fn9 () &#123; console.log('start', new Date().getTime()) Promise.resolve() .then(res =&gt; &#123; console.log('11111', new Date().getTime()) timeout(500).then(res =&gt; &#123; console.log('inner11111', new Date().getTime()) &#125;) &#125;).then(res =&gt; &#123; console.log('22222', new Date().getTime()) timeout(500).then(res =&gt; &#123; console.log('inner22222', new Date().getTime()) &#125;) &#125;).then(res =&gt; &#123; console.log('33333', new Date().getTime()) timeout(500).then(res =&gt; &#123; console.log('inner33333', new Date().getTime()) &#125;) &#125;).catch(err =&gt; &#123; console.log(err, new Date().getTime()) timeout(500).then(res =&gt; &#123; console.log('inner44444', new Date().getTime()) &#125;) &#125;) console.log('end', new Date().getTime()) /* start 1560168109766 end 1560168109775 11111 1560168109778 22222 1560168109781 33333 1560168109785 inner11111 1560168110281 inner22222 1560168110288 inner33333 1560168110291 */&#125;/*æœ€åé€šè¿‡ fn7, fn8, fn9 è¿™ä¸‰ä¸ªä¾‹å­ä¸­ï¼Œä»¥åŠä¼ å…¥çš„æ—¶é—´ï¼Œç¡®å®å°è¯äº†ä¹‹å‰æ‰€è¯´çš„ï¼Œè¿™é‡Œç”¨ä¸€å‰¯å›¾è¿›è¡Œä»£æ›¿ã€‚æ‰€ä»¥æœ€ä¸ºå…³é”®çš„å°±æ˜¯ï¼Œåœ¨Promiseçš„è°ƒç”¨é“¾ä¸­ï¼Œå…³é”®è¦æ˜ç™½ä½ æ–°äº§ç”Ÿçš„è¿™ä¸ª Promsieæ˜¯å¦æ·»åŠ åˆ°äº†è¿™ä¸ªè°ƒç”¨é“¾ä¸­*/ æ€»ç»“å›¾ç¤º]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äº‘å‡½æ•°ä¸­ç”Ÿæˆexcelå¹¶ä¸”ä¸Šä¼ åˆ°äº‘å­˜å‚¨ä¸­]]></title>
    <url>%2F2019%2F06%2F05%2F%E4%BA%91%E5%87%BD%E6%95%B0%E4%B8%AD%E7%94%9F%E6%88%90excel%E5%B9%B6%E4%B8%94%E4%B8%8A%E4%BC%A0%E5%88%B0%E4%BA%91%E5%AD%98%E5%82%A8%E4%B8%AD%2F</url>
    <content type="text"><![CDATA[äº‘ç¯å¢ƒ1.0.51 å°ç¨‹åºçš„äº‘å¼€å‘åŠŸèƒ½ä¸ºæˆ‘ä»¬å¸¦æ¥äº†å¾ˆå¤§çš„æ–¹ä¾¿ï¼Œäºæ˜¯å°±æ‰“ç®—ç ”ç©¶ä¸€ä¸‹å¦‚ä½•åœ¨äº‘å‡½æ•°ä¸­æ‹‰å–æ•°æ®ï¼Œä¹‹åç”Ÿæˆexcelåˆ°äº‘å­˜å‚¨ä¸­ï¼Œè¿‡ç¨‹ä¸­è¸©äº†äº›å‘ï¼Œè¿™é‡Œåˆ†äº«ç»™å¤§å®¶ï¼Œå¸Œæœ›èƒ½æœ‰æ‰€å¸®åŠ©ã€‚ é¦–å…ˆäº†è§£ä¸€ä¸ªnodeç”Ÿæˆexcelçš„åº“excel-exportè™½ç„¶å·²ç»è®¸ä¹…æœªæ›´æ–°äº†ï¼Œä½†æ˜¯ç›®å‰è¿˜æ²¡æœ‰ä»€ä¹ˆå¤ªå¤§çš„é—®é¢˜ï¼Œæ‰€ä»¥åœ¨ä»–çš„åŸºç¡€ä¸Šè¿›è¡Œå¼€å‘,å¹¶ä¸”ä¸Šæ‰‹ä¹Ÿæ¯”è¾ƒå®¹æ˜“ ä¸»è¦ç”¨æ³• å¼•å…¥ 1let nodeExcel = require('excel-export'); åˆ›å»ºé…ç½®å¯¹è±¡ 12345let conf = &#123; stylesXmlFile, // çº¦æŸæ–‡ä»¶ï¼ˆä¸ç„¶ç”Ÿæˆçš„excelæ‰“å¼€ä¼šæŠ¥ä¸€äº›é—®é¢˜ï¼‰ cols, // å¯ç†è§£ä¸ºè¡¨å¤´ [&#123; caption: 'columnName', type: 'string' &#125;], è¿™é‡Œå‡ºäºæ–¹ä¾¿,typeä¸ºstring,å…·ä½“å¯ç§»æ­¥å…¶æ–‡æ¡£æŸ¥çœ‹ rows, // å¯ä»¥ç†è§£ä¸ºå¡«å……çš„æ•°æ® ['wechat', 'mp']&#125; åˆ›å»ºæµå¯¹è±¡ 123let result = nodeExcel.execute(conf)// æ™®é€šnodeåç«¯å¯ä»¥ç›´æ¥ä½¿ç”¨ res.end(result, &apos;binary&apos;); è¿›è¡Œä¸‹è½½ï¼Œè¦è®°å¾—æ·»åŠ ç›¸åº”çš„å¤´ï¼Œå…¶æ–‡æ¡£é‡Œä¹Ÿæœ‰è¯´æ˜// æœ€ç»ˆå¯ä»¥ä½¿ç”¨ Buffer.from(result.toString(), &apos;binary&apos;) è½¬æ¢ä¸ºä¸€ä¸ªBufferå¯¹è±¡ åµŒå…¥äº‘å¼€å‘å¤§è‡´çš„æ€è·¯å°±æ˜¯ [æ‹‰å–æ•°æ®] -&gt; [ç”Ÿæˆexcelæµå¯¹è±¡] -&gt; [ä¸Šä¼ åˆ°äº‘å­˜å‚¨ä¸­] -&gt; [è¿”å›è¯¥fileID] å‡ ä¸ªè¸©å‘ç‚¹ è¯»å…¥æ–‡ä»¶è¦ä½¿ç”¨ path.resolve(__dirname, &#39;xxx&#39;) å¾—åˆ°excelæµå¯¹è±¡ ä½¿ç”¨ Buffer.from(result.toString(), &#39;binary&#39;) å†é…åˆcloud.uploadFile ç”Ÿæˆæ—¶confè¦é…ç½®stylesXmlFile,ä¸ç„¶æ‰“å¼€æ–‡ä»¶æ€»æœ‰ä¸ªæç¤ºï¼Œå¾ˆä¸çˆ½!,styles.xmlè¿™ä¸ªæ–‡ä»¶å¯ä»¥åœ¨node_modules/excel-export/example/styles.xmlæ‰¾åˆ°ã€‚ æ•°æ®å’Œè¡¨å¤´æœ€å¥½æ˜¯å¯¹åº”çš„ï¼Œæ•°æ®ä¹Ÿå¯ä»¥å­˜åœ¨ç©ºå€¼ äº‘å‡½æ•°ç›®å½•ç»“æ„123456- testDownload- |- index.js- |- styles.xml- |- package.json- |- package-lock.json- |- node_modules (åœ¨å¼€å‘å·¥å…·ä¸­åº”è¯¥æ˜¯ä¸æ˜¾ç¤ºçš„) package.jsonä¸­çš„ä¾èµ–1234"dependencies": &#123; "excel-export": "^0.5.1", "wx-server-sdk": "latest"&#125; index.jsæ–‡ä»¶ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758// äº‘å‡½æ•°å…¥å£æ–‡ä»¶const cloud = require('wx-server-sdk')const nodeExcel = require('excel-export')const fs = require('fs')const path = require('path')cloud.init(&#123; env: "xxxx" // ä½ çš„ç¯å¢ƒ&#125;)const db = cloud.database()// ç”Ÿæˆåˆ†æ•°é¡¹å¹¶ä¸”ä¸‹è½½å¯¹åº”çš„excelexports.main = async (event, context) =&gt; &#123; let collectionId = '123666' // æ¨¡æ‹Ÿçš„é›†åˆå let openId = 'sda6248daa888764' // æ¨¡æ‹Ÿopenid let confParams = ['å§“å', 'å­¦å·', 'ç­¾åˆ°æ—¶é—´'] // æ¨¡æ‹Ÿè¡¨å¤´ let jsonData = [] // è·å–æ•°æ® await db.collection(collectionId).get().then(res =&gt; &#123; jsonData = res.data &#125;) // è½¬æ¢æˆexcelæµæ•°æ® let conf = &#123; stylesXmlFile: path.resolve(__dirname, 'styles.xml'), name: 'sheet', cols: confParams.map(param =&gt; &#123; return &#123; caption: param, type: 'string' &#125; &#125;), rows: jsonToArray(jsonData) &#125; let result = nodeExcel.execute(conf) // resultä¸ºexceläºŒè¿›åˆ¶æ•°æ®æµ // ä¸Šä¼ åˆ°äº‘å­˜å‚¨ return await cloud.uploadFile(&#123; cloudPath: `download/sheet$&#123;openId&#125;.xlsx`, // excelæ–‡ä»¶åç§°åŠè·¯å¾„ï¼Œå³äº‘å­˜å‚¨ä¸­çš„è·¯å¾„ fileContent: Buffer.from(result.toString(), 'binary'), &#125;) // jsonå¯¹è±¡è½¬æ¢æˆæ•°ç»„å¡«å…… function jsonToArray (arrData) &#123; let arr = new Array() arrData.forEach(item =&gt; &#123; let itemArray = new Array() for (let key in item) &#123; if (key === '_id' || key === '_openid') &#123; continue &#125; itemArray.push(item[key]) &#125; arr.push(itemArray) &#125;) return arr &#125; &#125; è§¦å‘äº‘å‡½æ•°ï¼Œå¯ä»¥çœ‹åˆ°äº‘å­˜å‚¨ä¸­æœ‰äº†åˆšåˆšç”Ÿæˆçš„æ–‡ä»¶æ•°æ®åº“ä¸­çš„æ•°æ®,ç”±äºè¡¨å¤´éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¿™è¾¹çš„keyå¯ä»¥é€‚å½“çš„ç®€åŒ–ï¼Œä½†æ˜¯è¦æ³¨æ„æ•°æ®åº“ä¸­æ‹‰å–æ•°æ®é¡ºåºçš„é—®é¢˜ æœ€ç»ˆç”Ÿæˆçš„excel]]></content>
      <tags>
        <tag>wxmp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2.jQueryä¸­é€‰æ‹©å…ƒç´ çš„ç›¸å…³]]></title>
    <url>%2F2019%2F06%2F01%2FjQuery%E4%B8%AD%E9%80%89%E6%8B%A9%E5%85%83%E7%B4%A0%E7%9A%84%E7%9B%B8%E5%85%B3%2F</url>
    <content type="text"><![CDATA[jQueryä¸­æœ€åéƒ½æ˜¯è¾“å‡ºä¸€ä¸ªä¼ªæ•°ç»„ï¼Œä¹Ÿå³æœ¬è´¨æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ{0:xx, 1:xx, length:2}ä¸ºå…¶å‡†å¤‡äº†lengthï¼Œä¹Ÿå³å¯ä»¥ä½¿ç”¨å¾ªç¯ï¼Œä½†æ˜¯ä¸èƒ½ä½¿ç”¨æ•°ç»„çš„å†…ç½®æ–¹æ³•1234for(let i = 0; i &lt; this.lenth; i++)&#123; let temp = this[i] // å…¶å®æ˜¯é€šè¿‡ä¸€ä¸ªå­—é¢é‡çš„æ–¹å¼å–åˆ°äº†å¯¹è±¡å†…éƒ¨çš„æ•°æ®ã€‚&#125;this.slice() // x æŠ¥é”™ï¼Œå…¶ä¸æ˜¯ä¸€ä¸ªæ•°ç»„ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¼šå‡ºç° 123456$('&lt;div&gt;&lt;/div&gt;') // åˆ›å»ºå…ƒç´ $('#dv1') // é€‰æ‹©id$('.div a.active') // å¤æ‚çš„é€‰æ‹©å™¨$(document) // ä¼ å…¥çš„å¯¹è±¡$(function () &#123; &#125;) // é¡µé¢åŠ è½½å‡½æ•°$('[]') $('&#123;&#125;') // ä¸€äº›å…¶ä»–çš„ é¦–å…ˆä»–éƒ½æ˜¯é€šè¿‡ä¸€äº›æ­£åˆ™çš„åˆ¤æ–­ï¼Œç”¨æ¥åŒ¹é…ï¼Œç”¨if elseæ¥åˆ†æ²»ä¸åŒçš„æƒ…å†µã€‚ $(&#39;&lt;div&gt;&lt;/div&gt;&#39;) $(&#39;&lt;div title=&#39;div&#39; html=&quot;div&quot;&gt;&lt;/div&gt;&#39;)htmlæ ‡ç­¾çš„å½¢å¼ä¸»è¦ä½¿ç”¨jQuery.parseHTMLè§£ææˆhtmlå­—ç¬¦ä¸²çš„å½¢å¼ï¼Œå¹¶æœ€åjQuery.mergeæ¥æ··åˆæˆä½æ•°ç»„ï¼Œå¦‚æœé‡Œé¢æœ‰å±æ€§ï¼Œåˆ™éå†è¿™ä¸ªå±æ€§,å¦‚æœæ˜¯jQueryå®šä¹‰çš„æ–¹æ³•ï¼Œå¦‚css(),html(),å°±é‡‡ç”¨ this[ key ] (this[key]) å¦åˆ™è¿›è¡Œå±æ€§æ·»åŠ ï¼Œthis.attr(key, this[key]) $(&#39;#dv1&#39;)idçš„å½¢å¼ä¸»è¦é€šè¿‡æå–å…¶idå¹¶ä¸”é€šè¿‡jsåŸç”Ÿæ–¹æ³•getElementByIdç”¨æ¥è·å–dom,ä¹‹åæŒ‚è½½åˆ°thisåè¾“å‡ºå³å¯ $(&#39;.div a.active&#39;)å¤æ‚çš„é€‰æ‹©å™¨ä¸»è¦é€šè¿‡ä½¿ç”¨jQueryçš„å†…ç½®æ–¹æ³•findæ¥è¿›è¡Œå¯»æ‰¾ï¼Œå…¶findå†…éƒ¨ä½¿ç”¨äº†sizzleå¼•æ“è¿›è¡ŒæŸ¥æ‰¾ $(function () { })function é¡µé¢åŠ è½½å‡½æ•°ç›´æ¥å°†å…¶æŒ‚è½½åˆ°rootjQuery.ready() ä¸Šé¢ï¼Œé¡µé¢åŠ è½½å‡½æ•° $(&#39;[]&#39;) $(&#39;{}&#39;)å…¶ä»–ä¸€äº›å½¢å¼é€šè¿‡jQuery.makeArrayï¼Œä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œå˜æˆä¸€ä¸ªä¼ªæ•°ç»„åè¾“å‡ºå³å¯ æ³¨æ„jQueryä¸­çš„ä¼ªæ•°ç»„é‡Œé¢éƒ½æ˜¯domå¯¹è±¡ï¼Œè¿™ä¹Ÿå°±è§£é‡Šäº†ä¸ºä»€ä¹ˆå¯ä»¥é€šè¿‡$(&#39;&#39;)[0] $(&#39;&#39;).get(0) æ¥è½¬æ¢æˆdomå¯¹è±¡ï¼Œï¼ˆgetæ–¹æ³•å†…éƒ¨å°±æ˜¯this[num]ï¼Œå¦‚æœæ˜¯è´Ÿæ•° -&gt; ä»åå¾€å‰å–ï¼Œé‚£ä¹ˆå°±æ˜¯this[this.length+num]ï¼‰ domå¯¹è±¡è½¬æ¢æˆjQueryå¯¹è±¡åªéœ€è¦ $(dom),å¦‚æœæ˜¯å¯¹è±¡çš„è¯this[0] = dom ç›´æ¥æŒ‚è½½ä¸Šå»å³å¯]]></content>
      <tags>
        <tag>æºç </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[1.å¯¹åˆ›å»ºjQueryçš„ç†è§£]]></title>
    <url>%2F2019%2F05%2F31%2F%E5%AF%B9%E5%88%9B%E5%BB%BAjQuery%E7%9A%84%E7%90%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[å…³äºjQueryä¸­åˆ›å»ºå¯¹è±¡çš„ç›¸å…³ï¼ŒjQuery.fn.init.prototype = jQuery.fn; æœ¬æ–‡ä»¥jQuery2.0.3åˆ†æä¸ºä¾‹ å…³äºæ„é€ å‡½æ•°çš„ä¸¤ä¸ªç‚¹ åœ¨JSä¸­åˆ›å»ºå¯¹è±¡å¿…é¡»è¦ä½¿ç”¨newï¼Œå¦åˆ™å°±å¦‚åŒæ„å»ºäº†ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œthisè¡¨ç¤ºæœªæ¥åˆ›å»ºçš„å®ä¾‹ï¼Œ å¹¶è¿”å›this 123456function Student (school) &#123; this.school = school&#125;new Student('hdu') // åˆ›å»ºäº†å¯¹è±¡ &#123;school: 'hdu'&#125;Student('hdu') // ä»…ä»…æ˜¯æ‰§è¡Œäº†ä¸€ä¸ªå‡½æ•° å¹¶æ— å…¶ä»–ä½œç”¨ å¦‚æœæ„é€ å‡½æ•°ä¸­æœ‰è¿”å›å€¼return xxx å¦‚æœxxxæ˜¯ä¸ªå¤æ‚ç±»å‹ï¼ˆå¯¹è±¡,æ•°ç»„â€¦ï¼‰æ—¶ï¼Œæœ€ç»ˆè¿”å›è¿™ä¸ªå¤æ‚ç±»å‹ï¼ˆå¯¹è±¡,æ•°ç»„â€¦ï¼‰ 1234567891011function Student (school) &#123; this.school = school return 666&#125;new Student('hdu') // &#123;school: 'hdu'&#125;function Student (school) &#123; this.school = school return &#123;name: 'LiHua'&#125;&#125;new Student('hdu') // &#123;name: 'LiHua'&#125; jQuery.fn.init.prototype = jQuery.fnçš„ä½œç”¨ é¦–å…ˆåœ¨jQueryä¸­å®šä¹‰äº† jQuery.fn = jQuery.prototype ï¼Œå…¶åº”è¯¥æ˜¯æ–¹ä¾¿åç»­çš„è°ƒç”¨ï¼Œfnå°±æ˜¯prototype æˆ‘ä»¬åœ¨è°ƒç”¨jQueryçš„æ—¶å€™ï¼Œæ˜¯é‡‡ç”¨$(&#39;&#39;)($ = jQuery) æˆ‘ä»¬éƒ½çŸ¥é“jQueryæ˜¯é¢å‘å¯¹è±¡çš„æ€æƒ³ï¼Œå…¶$(&#39;&#39;).css(),é‚£ä¹ˆæˆ‘ä»¬å°±èƒ½æ¨æµ‹å‡ºæ¥ï¼Œ$(&#39;&#39;)è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯ä¹‹å‰æˆ‘ä»¬çœ‹åˆ°æ„é€ å‡½æ•°å¿…é¡»è¦ä½¿ç”¨newè¿™ä¸ªå…³é”®å­—æ‰è¡Œ,ä¹Ÿå°±æ˜¯new $(&#39;&#39;)ï¼Œç„¶è€ŒjQueryç›®çš„å°±æ˜¯è®©æˆ‘ä»¬write less,æ‰€ä»¥æˆ‘ä»¬è‡ªç„¶å°±æ¨æµ‹å‡ºæ¥ï¼Œ$(&#39;&#39;)ä»–çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡123jQuery = function( selector, context ) &#123; return new jQuery.fn.init( selector, context, rootjQuery ); &#125; è¿™ä¹Ÿå°±è¯æ˜äº†æˆ‘ä»¬çš„æ¨æµ‹, è°ƒç”¨$(&#39;&#39;)å…¶è¿”å›å€¼æ˜¯jQuery.fn.initçš„ä¸€ä¸ªå®ä¾‹ é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œå¥½å¤šæ–¹æ³•éƒ½æ˜¯æŒ‚è½½åˆ°$åŸå‹ä¸Šé¢çš„ï¼Œé‚£ä¹ˆæ—¢ç„¶åˆ›å»ºå‡ºçš„æ˜¯jQuery.fn.initçš„ä¸€ä¸ªå®ä¾‹ï¼Œè°ƒç”¨$(&#39;&#39;).css() é‚£ä¹ˆè¿™ä¸ªcss()åº”è¯¥åœ¨jQuery.fn.initçš„åŸå‹ä¸Šæ‰å¯¹ï¼Œä½†æ˜¯çºµè§‚æºç ï¼Œéƒ½æ˜¯å¯¹jQueryçš„åŸå‹æ“ä½œçš„ï¼Œæˆ‘ä»¬è‡ªå·±å®šä¹‰æ‹“å±•æ–¹æ³•ä¹Ÿæ˜¯ $.fn.myFunction,è¿™éƒ½è¯´æ˜äº†æˆ‘ä»¬ç¡®å®æ˜¯æŒ‚è½½åˆ° $çš„åŸå‹ä¸Šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¦¨å¤§èƒ†å‡è®¾ä¸€ä¸‹ï¼ŒjQuery.fn.initçš„åŸå‹å°±æ˜¯jQueryçš„åŸå‹ï¼Œè¿™æ ·æ‰èƒ½å¾ˆå¥½çš„è§£é‡Šæˆ‘ä»¬çš„æ¨æµ‹ï¼Œä¹Ÿå°±è¯´æ˜äº†æˆ‘ä»¬è™½ç„¶åˆ›å»ºå‡ºçš„æ˜¯jQuery.fn.initçš„ä¸€ä¸ªå®ä¾‹ï¼Œç”±äºå…¶åŸå‹ä¹Ÿæ˜¯jQueryçš„åŸå‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»™jQueryæ·»åŠ çš„æ‹“å±•æ–¹æ³•ï¼Œè‡ªç„¶å°±å…³è”åˆ°jQuery.fn.initä¸Šäº† å¸¦ç€é—®é¢˜å‘ä¸‹ç¿»ï¼Œæœä¸å…¶ç„¶!12// Give the init function the jQuery prototype for later instantiationjQuery.fn.init.prototype = jQuery.fn; æ€»ç»“jQueryä¸ºäº†æˆ‘ä»¬ä¹¦å†™æ–¹ä¾¿ï¼Œé¿å…äº†new $(&#39; &#39;), ä½†æ˜¯ä»–çš„æºç ä¸­å¸®æˆ‘ä»¬newäº†ä¸€ä¸ªå¯¹è±¡å‡ºæ¥ï¼Œä¸ºäº†å…³è”ï¼Œå°±åªèƒ½æŠŠjQueryçš„åŸå‹å’Œåº•å±‚å¸®æˆ‘ä»¬newå‡ºæ¥çš„è¿™ä¸ªçš„åŸå‹ç»‘å®šåœ¨ä¸€èµ·ï¼Œ è¿™å°±æœ‰ä¸€ä¸ªå‡è±¡ï¼š $(&#39;&#39;)ï¼Œç»™æˆ‘ä»¬ new äº†ä¸€ä¸ªjQueryå‡ºæ¥ã€‚ å…¶å®æˆ‘ä»¬ç”¨çš„æ˜¯jQuery.fn.initçš„å®ä¾‹ jQueryä¹Ÿåªæ˜¯ä¸€ä¸ªæ–¹æ³•å]]></content>
      <tags>
        <tag>æºç </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£è¯»webpack,ç®€å•å®ç°mypack]]></title>
    <url>%2F2019%2F05%2F26%2F%E8%A7%A3%E8%AF%BBwebpack-%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0mypack%2F</url>
    <content type="text"><![CDATA[è™½ç„¶ä½¿ç”¨webpackæœ‰ä¸€é˜µæ—¥å­äº†ï¼Œä½†æ˜¯å¯¹å…¶å†…éƒ¨çš„ç›¸å…³æ‰“åŒ…è¿‡ç¨‹ï¼Œè¿˜ä¸æ˜¯å¾ˆäº†è§£ï¼Œä»Šå¤©ç¿»é˜…äº†ç›¸å…³èµ„æ–™åï¼Œå€Ÿé‰´å†™äº†ä¸€ä¸ªwebpackç®€åŒ–ç‰ˆæœ¬ï¼Œä»…æ˜¯å…¶æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œmypack äº†è§£ä¸€ä¸‹requireJSçš„å¤§è‡´è¿è¡Œè¿‡ç¨‹ è¿™é‡Œéœ€è¦nodeç¯å¢ƒï¼ˆç”¨åˆ°äº†æ–‡ä»¶è¯»å†™ç›¸å…³ï¼Œwebpackä¹Ÿæ˜¯åœ¨nodeä¸Šè¿è¡Œçš„ï¼‰ 12345678910111213141516171819202122// a.jslet fs = require('fs')function myRequire (moduleName) &#123; // contentæŒ‡ç¤ºæ–‡ä»¶çš„å†…å®¹ let content = fs.readFileSync(moduleName, 'UTF8') let fn = new Function('exports', 'module', 'require', '__dirname', '__filename', content + '\n return module.exports') let module = &#123; exports: &#123;&#125; &#125; return fn(module.exports, module, myRequire, __dirname, __filename)&#125;let str = myRequire('./b.js')console.log(str)// b.jsmodule.exports = "Hello RequireJS!" æ¨¡æ‹Ÿä¸€ä¸‹AMDçš„æ‰“åŒ…æ–¹å¼ï¼Œè™½ç„¶ä¸å¸¸ç”¨ï¼Œä½†æ˜¯å¯¹ç†è§£èµ·æ¥æ˜¯æœ‰å¸®åŠ©çš„ å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ12345678910111213141516171819202122232425262728293031323334353637// myAMD.jslet factories = &#123;&#125;function myDefine (moduleName, dependencies, factory) &#123; factory.dependencies = dependencies // æŒ‚åœ¨è¯¥æ–¹æ³•ä¸Šçš„ä¾èµ–å…³ç³» factories[moduleName] = factory // åˆ›å»ºå¯¹åº”å…³ç³»&#125;function myRequire (mods, callback)&#123; let result = mods.map(mod =&gt; &#123; let factory = factories[mod] // è·å–è¯¥æ–¹æ³• let dependencies = factory.dependencies // è·å–è¯¥ä¾èµ– let exports myRequire(dependencies, function ()&#123; exports = factory.apply(null, arguments) &#125;) return exports &#125;) return callback.apply(null, result)&#125;// ç”³æ˜ä¾èµ–myDefine('name', [], function () &#123; return 'AMD'&#125;)myDefine('age', [], function () &#123; return 666&#125;)myDefine('person', ['name', 'age'], function (name, age)&#123; let person = 'person ' + name + ' is ' + age return person&#125;)// å¼•å…¥ä¾èµ– ç¬¬ä¸€ç§æ–¹å¼myRequire(['name', 'age'], function (name, age)&#123; console.log(name, age)&#125;)myRequire(['person'], function (person)&#123; console.log(person)&#125;) å…¶ä¸­çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ ç”³æ˜äº†ä¸€ä¸ªå…¨å±€çš„factoriesï¼Œå¹¶ä¸”é€šè¿‡å…¶moduleNameä½œä¸ºkey,å…¶factoryï¼ˆä¹Ÿå°±æ˜¯callbackï¼‰ä½œä¸ºvalue,åœ¨ç”³æ˜çš„è¿‡ç¨‹ä¸­å°±å·²ç»å…³è”åˆ°äº†å…¨å±€çš„factories,åç»­ç›´æ¥ä»ä¸­å–å‡ºå³å¯ã€‚ åœ¨æŒ‚è½½å…¶ä¾èµ–çš„æ—¶å€™ï¼Œrequireå†…éƒ¨åˆ†åˆ«å°†å…¶ä¾èµ–è½¬æ¢ä¸ºä¾èµ–çš„ç»“æœï¼ˆmapæ–¹æ³•ï¼‰ï¼Œè¿™é‡Œå¦‚æœå†æœ‰ä¾èµ–å¯ä»¥åˆ©ç”¨é€’å½’çš„æ–¹å¼è§£å†³ã€‚ mypackçš„å®ç° é…ç½®mypackçš„ç¯å¢ƒ é¦–å…ˆåœ¨å»ºç«‹mypackï¼Œï¼ˆå¹¶è¿›å…¥mypackæ–‡ä»¶å¤¹ä¸­ï¼‰å¹¶ä¸”å°†åœ¨binä¸­åˆ›å»ºå‡ºmypack.js,å¹¶ä¸”åˆå§‹åŒ–npmç¯å¢ƒnpm init -y 1234567|-mypack| |-bin| |-mypack.js| |-package.json|// æ³¨æ„ä¿®æ”¹package.jsonä¸­çš„è·¯å¾„é—®é¢˜ bin: bin/mypack.js ç„¶ååœ¨mypack.jsä¸­æ–‡ä»¶å¤´éƒ¨#! /usr/bin/env node ä¸ç„¶ä¼šæŠ¥æ²¡æœ‰é€‚å½“çš„jsè§£æå™¨ ä¹‹åæˆ‘ä»¬è¿›è¡Œé“¾æ¥ npm link è¿™æ ·æˆ‘ä»¬å°±å…¨å±€å®‰è£…ï¼Œé€€å›å…¶ä»–ä½ç½®éƒ½å¯ä»¥æ‰§è¡Œå‘½ä»¤ &gt;mypack é¦–å…ˆç¡®å®šå…¥å£æ–‡ä»¶ï¼Œå‡ºå£æ–‡ä»¶çš„ä½ç½®ï¼Œä¹Ÿå³æœ‰æ‰§è¡Œçš„å¼€å§‹ä½ç½®ï¼Œå°†è§£æå…¥å£æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œé€’å½’çš„è¯»å…¥ï¼ŒæŠŠrequireæ›¿æ¢æˆæœ¬è§„åˆ™å¯è¯†åˆ«çš„å‡½æ•°åï¼ˆæœ¬ä¾‹myRequireï¼‰ï¼Œå¹¶ä¸”ä»¥key(æ–‡ä»¶è·¯å¾„)ï¼Œvalue(å†…å®¹)çš„å½¢å¼æ”¾åˆ°æ€»çš„modulesä¸­ã€‚ä¹Ÿå³æ‰€æœ‰ç”¨åˆ°çš„ä¾èµ–å·²ç»åˆ°å†…å­˜ä¸­ã€‚ ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œå¹¶ä¸”ç¬¬ä¸€ä¸ªrequireçš„å°±æ˜¯å…¥å£æ–‡ä»¶ï¼Œä¾æ¬¡æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯ç¢°è§myRequire(å·²ç»åœ¨ç¬¬äºŒæ­¥å…¨éƒ¨æ­£åˆ™æ›¿æ¢)æ—¶ï¼Œè§£æå‡ºå†…å®¹è¿”å›ã€‚ é€’å½’çš„è¿›è¡ŒmyRequireçš„è§£æï¼Œå…¶å‚æ•°å°±ä¸ºä¹‹å‰çš„modulesçš„key,é€šè¿‡æ˜ å°„å…³ç³»å–å‡ºå†…å®¹æ‰§è¡Œã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960// mypack.js mypackä»£ç #! /usr/bin/env nodelet entry = './src/index.js' // å…¥å£æ–‡ä»¶let output = './dist/index.js' // å‡ºå£æ–‡ä»¶const fs = require('fs')const path = require('path')let modules = []let script = fs.readFileSync(entry, 'UTF8')// åŒ¹é…å¯¹åº”å…³ç³»let replaceReg = (script) =&gt; &#123; return script.replace(/require\(['"](.+?)["']\)/g, function () &#123; let name = path.join('./src', arguments[1]) let content = fs.readFileSync(name, 'UTF8') // å¯¹äºæ¯æ‹¿åˆ°çš„contentéƒ½è¿›è¡Œä¸€æ¬¡æ›¿æ¢ content = replaceReg(content) modules.push(&#123;name, content&#125;) return `mypack_require('$&#123;name&#125;')` &#125;)&#125;script = replaceReg(script)const ejs = require('ejs')let template = `(function(modules) &#123; // å¼•å…¥ function mypack_require(moduleId) &#123; var module = &#123; exports: &#123;&#125; &#125;; modules[moduleId].call(module.exports, module, module.exports, mypack_require); return module.exports; &#125; return mypack_require("&lt;%-entry%&gt;"); &#125;) (&#123; "&lt;%-entry%&gt;": (function(module, exports, mypack_require) &#123; eval(\`&lt;%-script%&gt;\`); &#125;) // index.jsçš„æ–‡ä»¶&lt;%for(let i = 0; i &lt; modules.length; i++)&#123;let module = modules[i]%&gt; , "&lt;%-module.name%&gt;": (function(module, exports, mypack_require) &#123; eval(\`&lt;%-module.content%&gt;\`); &#125;)&lt;%&#125;%&gt; &#125;);`// æœ€ç»ˆresultä¸ºæ‰“åŒ…åçš„ç»“æœlet result = ejs.render(template, &#123; entry, script, modules&#125;)fs.writeFileSync(output, result)console.log('mypack success') 12345// ç›®å½•ç»“æ„|-src| |a.js| |c.js| |index.js 123456789101112// index.jsæ‰“åŒ…å‰çš„å†…å®¹require('./a.js')console.log('hello mypack')// a.jsrequire('./c.js')console.log('hello mypack666')// c.jsconsole.log('=====c.js======') 123456789101112131415161718192021222324252627// index.js æ‰“åŒ…åçš„å†…å®¹(function(modules) &#123; // å¼•å…¥ function mypack_require(moduleId) &#123; var module = &#123; exports: &#123;&#125; &#125;; modules[moduleId].call(module.exports, module, module.exports, mypack_require); return module.exports; &#125; return mypack_require("./src/index.js"); &#125;) (&#123; "./src/index.js": (function(module, exports, mypack_require) &#123; eval(`mypack_require('src\a.js')console.log('hello mypack')`); &#125;) // index.jsçš„æ–‡ä»¶ , "src\a.js": (function(module, exports, mypack_require) &#123; eval(`console.log('hello mypack666')`); &#125;) &#125;); æ·»åŠ ä¸€ä¸ªstyleLoader,è¿™é‡Œä»¥å‡½æ•°çš„å½¢å¼è¿›è¡Œæ”¾å…¥ï¼Œä¹Ÿå¯ä»¥å•ç‹¬å†™ä¸€ä¸ªæ¨¡å—å¼•å…¥ loader å…¶å®å°±æ˜¯åœ¨è§£ææ‰€æœ‰çš„ä»£ç æ—¶ï¼ˆé€’å½’è¯»å…¥ä»£ç ï¼Œå³replaceRegä¹‹ä¸­ï¼Œå¯¹æ¨¡å—å†…å®¹åœ¨è¿›è¡Œä¸€äº›å¤„ç†ï¼‰ loader è§£æä¸åŒçš„æ–‡ä»¶æ˜¯æ ¹æ®æ­£åˆ™è¡¨è¾¾å¼çš„åç¼€è¿›è¡ŒåŒºåˆ†çš„ã€‚ è¿™é‡Œé’ˆå¯¹äºstyleLoaderä¸­çš„cssä»£ç ï¼Œç¬¬ä¸€æ˜¯è¿›è¡Œäº†å‹ç¼©æˆä¸€è¡Œï¼Œå¹¶ä¸”æ›¿æ¢æ‰äº†/r/nè§£ææ—¶çš„æ ‡å¿—ï¼Œå› ä¸ºinnerTextæ¥æ”¶çš„æ˜¯å­—ç¬¦ä¸²ï¼Œç„¶è€Œå­—ç¬¦ä¸²æ˜¯æ— æ³•æ¢è¡Œçš„ï¼Œæ‰€ä»¥åªèƒ½å‹ç¼©æˆä¸€è¡Œï¼Œåœ¨å°†åŸæ¥ç©ºè¡Œå½¢æˆçš„/r/næ›¿æ¢æ‰ã€‚ï¼ˆæ–‡æœ«æå‡ºä¸€ç§ä¸å‹ç¼©çš„æ–¹æ¡ˆï¼‰ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374// mypack.js mypackä»£ç åŠ å…¥äº†styleLoader #! /usr/bin/env nodelet entry = './src/index.js' // å…¥å£æ–‡ä»¶let output = './dist/index.js' // å‡ºå£æ–‡ä»¶const fs = require('fs')const path = require('path')let modules = []let script = fs.readFileSync(entry, 'UTF8')//======================styleLoaderç”³æ˜===================let styleLoader = function (source) &#123; //æ¨¡æ‹ŸstyleLoader return ` let style = document.createElement('style') style.innerText = $&#123;JSON.stringify(source).replace(/\\r\\n/g, '')&#125; document.head.appendChild(style) `&#125;//=====================styleLoaderç”³æ˜ç»“æŸ===================// åŒ¹é…å¯¹åº”å…³ç³»let replaceReg = (script) =&gt; &#123; return script.replace(/require\(['"](.+?)["']\)/g, function () &#123; let name = path.join('./src', arguments[1]) let content = fs.readFileSync(name, 'UTF8') // å¯¹äºæ¯æ‹¿åˆ°çš„contentéƒ½è¿›è¡Œä¸€æ¬¡æ›¿æ¢ content = replaceReg(content)//======================åº”ç”¨è§„åˆ™===================== if(/\.css$/.test(name))&#123; content = styleLoader(content) // å¤„ç†styleLoader &#125;//=====================åº”ç”¨è§„åˆ™ç»“æŸ=================== modules.push(&#123;name, content&#125;) return `mypack_require('$&#123;name&#125;')` &#125;)&#125;script = replaceReg(script)const ejs = require('ejs')let template = `(function(modules) &#123; // å¼•å…¥ function mypack_require(moduleId) &#123; var module = &#123; exports: &#123;&#125; &#125;; modules[moduleId].call(module.exports, module, module.exports, mypack_require); return module.exports; &#125; return mypack_require("&lt;%-entry%&gt;"); &#125;) (&#123; "&lt;%-entry%&gt;": (function(module, exports, mypack_require) &#123; eval(\`&lt;%-script%&gt;\`); &#125;) // index.jsçš„æ–‡ä»¶&lt;%for(let i = 0; i &lt; modules.length; i++)&#123;let module = modules[i]%&gt; , "&lt;%-module.name%&gt;": (function(module, exports, mypack_require) &#123; eval(\`&lt;%-module.content%&gt;\`); &#125;)&lt;%&#125;%&gt; &#125;);`// æœ€ç»ˆresultä¸ºæ‰“åŒ…åçš„ç»“æœlet result = ejs.render(template, &#123; entry, script, modules&#125;)fs.writeFileSync(output, result)console.log('mypack success') 123456// ç›®å½•ç»“æ„|-src| |a.js| |c.js| |b.css| |index.js 123456789101112131415161718// index.jsæ‰“åŒ…å‰çš„å†…å®¹require('./a.js')require('./b.css')console.log('hello mypack')// a.jsrequire('./c.js')console.log('hello mypack666')// c.jsconsole.log('=====c.js======')//b.cssbody&#123; background: hotpink;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243// index.js æ‰“åŒ…åçš„å†…å®¹(function(modules) &#123; // å¼•å…¥ function mypack_require(moduleId) &#123; var module = &#123; exports: &#123;&#125; &#125;; modules[moduleId].call(module.exports, module, module.exports, mypack_require); return module.exports; &#125; return mypack_require("./src/index.js"); &#125;) (&#123; "./src/index.js": (function(module, exports, mypack_require) &#123; eval(`mypack_require('src\a.js')mypack_require('src\b.css')console.log('hello mypack')`); &#125;) // index.jsçš„æ–‡ä»¶ , "src\c.js": (function(module, exports, mypack_require) &#123; eval(`console.log('=====c.js======')`); &#125;) , "src\a.js": (function(module, exports, mypack_require) &#123; eval(`mypack_require('src\c.js')console.log('hello mypack666')`); &#125;) , "src\b.css": (function(module, exports, mypack_require) &#123; eval(` let style = document.createElement('style') style.innerText = "body&#123; background: hotpink;&#125;" document.head.appendChild(style) `); &#125;) &#125;); ä¸å‹ç¼©cssçš„ä¸€ç§å†™æ³• 123456789style.innerText = \\\` $&#123;source&#125; \\\`// ä»£ç åœ¨æ„å»ºçš„æ—¶å€™ è¾“å‡ºåˆ°index.jså˜æˆäº† evel(` ...\` backgrounde... \` ... `)// ä»£ç å†è¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œæ‰§è¡Œevelçš„æ—¶å€™ï¼Œå°±ä»¥æ¨¡æ¿å­—ç¬¦ä¸²` background ...` å‘ˆç°å‡ºæ¥// index.js æ‰“åŒ…åå˜ä¸ºstyle.innerText = \` body&#123; background: hotpink;&#125; \`]]></content>
      <tags>
        <tag>æºç </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç§å¥½æ¯ä¸€é¢—åœŸè±†]]></title>
    <url>%2F2019%2F05%2F24%2F%E7%A7%8D%E5%A5%BD%E6%AF%8F%E4%B8%80%E9%A2%97%E5%9C%9F%E8%B1%86%2F</url>
    <content type="text"><![CDATA[æ„Ÿè°¢75å²çš„ä»»è€å…ˆç”Ÿ â€œé£å£æµªå°–â€çš„åä¸º è¿™å‡ å¤©ç”±äºç¾å›½ç›¸å…³æ”¿ç­–ï¼Œåä¸ºçš„èŠ¯ç‰‡è¥¿æ–¹ä¾›åº”é“¾ä¼¼ä¹å…¨éƒ¨æ–­è£‚ï¼ŒåŠ ä¸Šä¹‹å‰å­Ÿå¥³å£«è¢«åŠ æ‹¿å¤§æ”¿åºœè½¯ç¦ï¼Œå°±åœ¨è¿™æ ·ä¸€ä¸ªç´§æ€¥å…³å¤´ï¼Œå¤§å®¶éƒ½åœ¨æ‹…å¿ƒåä¸ºä»Šåå‘å±•ä¹‹æ—¶ï¼Œä»»è€å…ˆç”Ÿçš„é‡‡è®¿ä¼¼ä¹å½¢æˆäº†å·¨å¤§åå·®ï¼Œå°±è¿æˆ‘ä»¬çš„å¤®è§†è®°è€…éƒ½æ„Ÿåˆ°è¯§å¼‚ï¼Œè€Œåœ¨ä»–çš„å›ç­”ä¸­ï¼Œæ— ä¸æ˜¾ç¤ºä¸€ä¸ªæŒèˆµäººçš„æ²‰ç¨³ã€‚ ç§å¥½æ¯ä¸€é¢—åœŸè±† ä»»è€å…ˆç”Ÿçš„å›ç­”ä¸­ï¼Œå…³äºåŸºç¡€æ•™è‚²è°ˆåˆ°äº†å¾ˆå¤šï¼Œä¹Ÿæåˆ°å…¬å¸å†…éƒ¨çš„æ•°å­¦å®¶ï¼Œç‰©ç†å­¦å®¶ï¼Œä»¥åŠå·¥ç¨‹å¸ˆï¼Œå…¨çƒäººæ‰çš„å¼•è¿›,ç”Ÿäºå¿§æ‚£æ­»äºå®‰ä¹ã€‚è¿™éƒ½æ˜¯å€¼å¾—æˆ‘ä»¬æ€è€ƒçš„é—®é¢˜ã€‚æˆ–è®¸ä¸èƒ½å¸¦ä¸Šè¿‡äºåæ¿€çš„æƒ³æ³•ï¼ŒçœŸæ­£çš„å‘å±•ï¼Œæ‰æ˜¯æœ€é‡è¦çš„ï¼Œå°±å¦‚ä»»è€å…ˆç”Ÿæ‰€è¯´ï¼Œåœ¨æ”€ç™»ç å³°çš„é“è·¯ä¸Šï¼Œæˆ‘ä»¬æš‚æ—¶æ»‘äº†ä¸‹å»ï¼Œä½†æ˜¯æœ‰æœä¸€æ—¥ï¼Œæˆ‘ä»¬ä¼šåœ¨å³°é¡¶æºæ‰‹å…±è¿›ã€‚ åœ¨è¿™æ ·çš„ç¯å¢ƒä¸‹ï¼Œä¼¼ä¹éƒ½æœ‰äº†å»æèŠ¯ç‰‡çš„æƒ³æ³•ï¼Œä½†ç»™æˆ‘å½±å“æœ€å¤§çš„ï¼Œå°±æ˜¯é‚£å¥â€œç§å¥½æ¯ä¸€ä¸ªåœŸè±†â€ï¼Œæˆ‘ä»¬æ€æ ·çˆ±å›½ï¼Œå¹¶ä¸æ˜¯ä¹°ä»–çš„æ‰‹æœºï¼Œä¹Ÿä¸æ˜¯ä¸€çªèœ‚å»å¹²ä»€ä¹ˆï¼Œå„è¡Œå„ä¸šéƒ½å¯¹ç¥–å›½æœ‰è´¡çŒ®ï¼Œæˆ–è®¸æˆ‘ä»¬ç§å¥½æ¯ä¸€é¢—åœŸè±†ï¼Œå°±æ˜¯å¯¹ç¥–å›½æœ€å¤§çš„æ”¯æŒã€‚ åŠ æ²¹ï¼â€œæ„¿æœ‰æœä¸€æ—¥ï¼Œæˆ‘ä»¬åœ¨ç å³°æºæ‰‹å…±è¿›ã€‚â€]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Apache2çš„å®‰è£…ä¸é…ç½®]]></title>
    <url>%2F2019%2F05%2F23%2FApache2%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[å½“å‰ç¯å¢ƒCentos7 å®‰è£…Apache yum install httpd httpd å¯åŠ¨ service httpd start httpd çŠ¶æ€æŸ¥çœ‹ service httpd status httpd åœæ­¢ service httpd stop å®‰è£…ç›®å½•ä»‹ç» Apacheé»˜è®¤å°†ç½‘ç«™çš„æ ¹ç›®å½•æŒ‡å‘/var/www/html é»˜è®¤çš„ä¸»é…ç½®æ–‡ä»¶/etc/httpd/conf/httpd.conf é…ç½®å­˜å‚¨åœ¨çš„/etc/httpd/conf.d/ç›®å½• å¦‚æœå‡ºç°å¤–éƒ¨è®¾å¤‡æ— æ³•è®¿é—®çš„æƒ…å†µï¼Œåº”è¯¥è°ƒè¯•ç›¸å…³çš„é˜²ç«å¢™é…ç½®]]></content>
      <tags>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[45å¤©çš„è¯ç”Ÿ]]></title>
    <url>%2F2019%2F05%2F20%2F45%E5%A4%A9%E7%9A%84%E8%AF%9E%E7%94%9F%2F</url>
    <content type="text"><![CDATA[è®°ç¬¬ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºçš„ä¸Šçº¿ ä»0405å·åˆ›å»ºé¡¹ç›®å¼€å§‹ï¼Œåˆ°æ…¢æ…¢æ¢ç´¢ï¼Œä¸­é—´ç¡®å®æ”¶è·äº†ä¸å°‘çš„çŸ¥è¯†ï¼Œæœ€å¼€å§‹æ˜¯ä¸ºäº†â€™å¾®ä¿¡å°ç¨‹åºæ¯”èµ›â€™,ä½†æ˜¯åœ¨ä¸æ–­çš„æ‰“ç£¨å½“ä¸­ï¼Œæ‰æ…¢æ…¢å‘ç°åšä¸€ä¸ªåº”ç”¨ä¹Ÿå¹¶éå†™ä¸€ä¸ªç¨‹åºï¼Œéœ€è¦ä¸æ–­åœ°æ‰“ç£¨ï¼Œæˆ–è®¸æœ‰å†™å¥½çš„åŠŸèƒ½ï¼Œåˆè¦è¢«ç å»ï¼Œæˆ–è®¸å‡ å¤©åå‘ç°ä¹‹å‰çš„åšæ³•ç®€ç›´è ¢æäº†ï¼Œæ›´å¤šçš„æ„Ÿæ‚Ÿï¼Œéƒ½èè¿›äº†è¿™ä¸ªåº”ç”¨é‡Œï¼Œæ„Ÿè°¢å®ƒå¸¦ç»™æˆ‘çš„æˆé•¿ï¼Œç»§ç»­åŠ æ²¹å§ï¼]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€ç™¾ä¸‡ç§å¯èƒ½]]></title>
    <url>%2F2019%2F05%2F05%2F%E4%B8%80%E7%99%BE%E4%B8%87%E7%A7%8D%E5%8F%AF%E8%83%BD%2F</url>
    <content type="text"><![CDATA[2018/11/16-2019/05/05 ä¸€å…±170å¤© ä¸çŸ¥ä¸è§‰ï¼Œè¿™æ ·è¿‡å»äº†å¿«åŠå¹´ï¼Œæ˜å¤©5.6å·å°±ç»“æŸäº†ï¼Œä¸€ç¬é—´æœ‰ä¸€ç™¾ä¸‡ç§å¯èƒ½ï¼Œæ„Ÿè°¢æˆé•¿ï¼Œè¿™ä¸€é˜µå­å¤±å»äº†å¾ˆå¤šï¼Œä¹Ÿè·å¾—äº†å¾ˆå¤šï¼Œå¾ˆå¤šçš„æ„æƒ³ä¸åˆ°ï¼Œå¾ˆå¤šçš„çªç„¶é—¯å…¥ï¼Œæ„Ÿè°¢è¿™ä¸€é˜µå­è®©æˆ‘æˆé•¿çš„äººå’Œäº‹ï¼Œæ˜å¤©å¼€å§‹å°±è¦åŠªåŠ›å­¦ä¹ äº†ï¼Œæˆ–è®¸è‡ªå·±è¿˜æ²¡æœ‰å¾ˆå¤šèƒ½åŠ›å»å¹²å¾ˆå¤šäº‹æƒ…ï¼Œæˆ–è®¸è¿˜æœ‰å¥½å¤šï¼Œå›æƒ³èµ·ä¹‹å‰çš„ç§ç§ä¸èˆï¼Œä½†æ˜¯ï¼Œè¿˜æ˜¯è¦ç»§ç»­å‘å‰ï¼ŒåŠ æ²¹å§ï¼Œæµ©å—ï¼Œè·¯è¿˜å¾ˆé•¿ï¼Œä¸€å®šä¸è¦æ”¾å¼ƒï¼Œç»™è‡ªå·±åŠ æ²¹ï¼Œä½ æ˜¯æœ€æ£’çš„ï¼]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨vmè¿æ¥è™šæ‹Ÿæœº]]></title>
    <url>%2F2019%2F05%2F04%2F%E4%BD%BF%E7%94%A8vm%E8%BF%9E%E6%8E%A5%E8%99%9A%E6%8B%9F%E6%9C%BA%2F</url>
    <content type="text"><![CDATA[åŸºäºCentos7 å‚è€ƒ:https://blog.csdn.net/n950814abc/article/details/79512834#commentBox è®¾ç½®è™šæ‹Ÿæœºç½‘ç»œè®¾ç½®ä½¿ç”¨vmnet8 å³ï¼ˆNATæ¨¡å¼ï¼‰è®°ä½å­ç½‘IPä¸å­ç½‘æ©ç  æ¯”å¦‚ å­ç½‘IPï¼š192.168.204.0 å­ç½‘æ©ç ï¼š255.255.255.0 ç½‘ç»œé…ç½®ï¼Œç”µè„‘ä¸­ç½‘ç»œé€‚é…å™¨VMare8 Network Adapteræ³¨æ„ipåœ°å€ï¼Œæ˜¯ç”µè„‘æœ€ä¸ºä¸€å°æœºå™¨çš„ipå¦‚ 192.168.204.6 å­ç½‘æ©ç ï¼Œé»˜è®¤ç½‘å…³å¡«å†™ä¹‹å‰å³å¯ DNSæœåŠ¡å™¨å¯ä»¥ä½¿ç”¨8.8.8.8 / 114.114.114.114 é…ç½®linuxä¸­çš„ç½‘ç»œé…ç½®vim /etc/sysconfig/network-scripts/ifcfg-ens33 ï¼ˆè¿™é‡Œä¸ºifcfg-ens33æ ¹æ®å®é™…æƒ…å†µæ¥ï¼‰ ä¿®æ”¹é…ç½®ï¼šBOOTPROTO=static // é™æ€ip æ–°å¢åœ°å€ï¼šå¦‚ 123IPADDR=192.168.204.134 // åˆ†é…çš„ipNERMASK=255.255.255.0 // å­ç½‘æ©ç GATEWAY=192.168.204.1 // é»˜è®¤ç½‘å…³ é‡å¯linuxçš„ç½‘ç»œé…ç½®service network restart æŸ¥çœ‹ipåœ°å€ifconfig æŸ¥çœ‹ens33é‚£ä¸ª ç†è§£ ä¹‹å‰ä¸€ç›´åœ¨çº ç»“linuxæ˜¯å¦è¦è”ç½‘æ‰èƒ½ç”¨ï¼Œå› ä¸ºæ˜¯æˆ‘è‡ªå·±é…ç½®çš„ï¼Ÿä¸ºä»€ä¹ˆè¦è”ç½‘ï¼Ÿ è¿™é‡Œå…¶å®æ˜¯è¿æ¥æœ¬åœ°æœåŠ¡çš„é‚£ä¸ªç½‘ï¼Œæ‰€ä»¥æ‰è¦åœ¨é‚£é‡Œé…ç½®å¼€æœºè‡ªå¯åŠ¨ã€‚ å¤–éƒ¨ç”µè„‘åœ°å€åˆ°åº•æ˜¯x.x.x.1è¿˜æ˜¯è¦å¦å¤–è®¾ç½®? ä¸»æœºä¹Ÿç›¸å½“äºä¸€å°ç”µè„‘ï¼Œå’Œè™šæ‹Ÿæœºä¸­å¹³èµ·å¹³åï¼Œåªä¸è¿‡æ˜¯å®ƒè¿æ¥çš„æ­£å¥½æ˜¯ä»–è‡ªå·±çš„æœåŠ¡ï¼Œä½†æ˜¯ä¹Ÿè¦ç»™ä»–ä¸€ä¸ªå†…ç½‘ip,æ‰€ä»¥ä¹‹å‰è®¾ç½®äº†ç”µè„‘ä¸Šä¸º192.168.204.6ï¼Œåœ¨windowsä¸­æŸ¥çœ‹ä¹Ÿå¯ä»¥çœ‹åˆ°ã€‚è€Œ192.168.204.1æ˜¯é»˜è®¤ç½‘å…³åªè¦å’Œé»˜è®¤ç½‘å…³ä¸åŒå°±å¯ä»¥ã€‚]]></content>
      <tags>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨nginxéƒ¨ç½²å‰ç«¯é¡¹ç›®]]></title>
    <url>%2F2019%2F04%2F26%2F%E4%BD%BF%E7%94%A8nginx%E9%83%A8%E7%BD%B2%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[å½“å‰ç¯å¢ƒ centos7 å®‰è£…ç›¸å…³ä¾èµ– gcc å®‰è£… å®‰è£… nginx éœ€è¦å…ˆå°†å®˜ç½‘ä¸‹è½½çš„æºç è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘ä¾èµ– gcc ç¯å¢ƒï¼Œå¦‚æœæ²¡æœ‰ gcc ç¯å¢ƒï¼Œåˆ™éœ€è¦å®‰è£…ï¼š yum install gcc-c++ PCRE pcre-devel å®‰è£… PCRE(Perl Compatible Regular Expressions) æ˜¯ä¸€ä¸ªPerlåº“ï¼ŒåŒ…æ‹¬ perl å…¼å®¹çš„æ­£åˆ™è¡¨è¾¾å¼åº“ã€‚nginx çš„ http æ¨¡å—ä½¿ç”¨ pcre æ¥è§£ææ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‰€ä»¥éœ€è¦åœ¨ linux ä¸Šå®‰è£… pcre åº“ï¼Œpcre-devel æ˜¯ä½¿ç”¨ pcre å¼€å‘çš„ä¸€ä¸ªäºŒæ¬¡å¼€å‘åº“ã€‚nginxä¹Ÿéœ€è¦æ­¤åº“ã€‚å‘½ä»¤ï¼š yum install -y pcre pcre-devel zlib å®‰è£… zlib åº“æä¾›äº†å¾ˆå¤šç§å‹ç¼©å’Œè§£å‹ç¼©çš„æ–¹å¼ï¼Œ nginx ä½¿ç”¨ zlib å¯¹ http åŒ…çš„å†…å®¹è¿›è¡Œ gzip ï¼Œæ‰€ä»¥éœ€è¦åœ¨ Centos ä¸Šå®‰è£… zlib åº“ã€‚ yum install -y zlib zlib-devel OpenSSL å®‰è£… OpenSSL æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å®‰å…¨å¥—æ¥å­—å±‚å¯†ç åº“ï¼Œå›Šæ‹¬ä¸»è¦çš„å¯†ç ç®—æ³•ã€å¸¸ç”¨çš„å¯†é’¥å’Œè¯ä¹¦å°è£…ç®¡ç†åŠŸèƒ½åŠ SSL åè®®ï¼Œå¹¶æä¾›ä¸°å¯Œçš„åº”ç”¨ç¨‹åºä¾›æµ‹è¯•æˆ–å…¶å®ƒç›®çš„ä½¿ç”¨ã€‚nginx ä¸ä»…æ”¯æŒ http åè®®ï¼Œè¿˜æ”¯æŒ httpsï¼ˆå³åœ¨sslåè®®ä¸Šä¼ è¾“httpï¼‰ï¼Œæ‰€ä»¥éœ€è¦åœ¨ Centos å®‰è£… OpenSSL åº“ã€‚ yum install -y openssl openssl-devel ä¸‹è½½nginx1234wget -c https://nginx.org/download/nginx-1.10.1.tar.gz# æœç‹é•œåƒwget -c http://mirrors.sohu.com/nginx/nginx-0.1.8.tar.gz è§£å‹nginxtar -xzvf nginx-1.10.1.tar.gz å®‰è£…ï¼ˆè¿›å…¥è§£å‹ç›®å½•ï¼‰ ./configure make make install æŸ¥çœ‹nginxçš„å®‰è£…ç›®å½•whereis nginx æµ‹è¯•nginx ./nginx å¼€åŒºæœåŠ¡ ./nginx -s quit å…³é—­æœåŠ¡ éƒ¨ç½²é¡¹ç›® åˆ‡æ¢åˆ°å®‰è£…ç›®å½•ä¸­çš„confæ–‡ä»¶å¤¹ ç¼–è¾‘vim nginx.config1234location / &#123; root &lt;é¡¹ç›®çš„è·¯å¾„&gt;; index index.html index.htm;&#125; å¯åŠ¨nginxæŸ¥çœ‹è¿è¡Œæƒ…å†µ ps -ef | grep nginx æŸ¥çœ‹nginxè¿è¡Œçš„æƒ…å†µä»¥åŠpid ./nginx -s quit æ³¨æ„ ä»¥ä¸Šæ“ä½œéœ€åœ¨nginxå®‰è£…ç›®å½•ä¸­ï¼Œï¼ˆå¯å‚è€ƒlinuxç¯å¢ƒå˜é‡ç›¸å…³çŸ¥è¯†ï¼‰]]></content>
      <tags>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºäº‘å¼€å‘ä¸­äº‘å‡½æ•°è¶…æ—¶å®šä¹‰]]></title>
    <url>%2F2019%2F04%2F19%2F%E5%85%B3%E4%BA%8E%E4%BA%91%E5%BC%80%E5%8F%91%E4%B8%AD%E4%BA%91%E5%87%BD%E6%95%B0%E8%B6%85%E6%97%B6%E5%AE%9A%E4%B9%89%2F</url>
    <content type="text"><![CDATA[åœ¨äº‘å‡½æ•°ä¸­çš„å®šä¹‰é‡Œï¼Œæœ‰ä¸€ä¸ªå…³äºè¶…æ—¶çš„æ¦‚å¿µï¼Œè¿™é‡Œå¹¶ä¸æ˜¯ç¨‹åºå®é™…è¿è¡Œçš„æ—¶é—´ï¼Œè€Œæ˜¯ä¸€ä¸ªé¢„æœŸè¿è¡Œçš„æ—¶é—´ æ¯”å¦‚ä¸€ä¸ªç¨‹åºè·‘ä¸‹æ¥ä»…ç”¨äº† 8ms ä½†æ˜¯ä»–ä¸€ç›´åœ¨ç­‰å¾…å†…éƒ¨çš„å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œæ‰ä¼šå…³é—­ï¼Œè¿™é‡Œå°±æ˜¯å¼‚æ­¥æ“ä½œè¶…æ—¶ï¼Œå¯¼è‡´æ•´ä¸ªè¯·æ±‚è¶…æ—¶ã€‚ï¼ˆ20sæ˜¯æˆªæ­¢ç›®å‰äº‘å‡½æ•°æœ€é•¿è¿è¡Œæ—¶é—´ï¼‰12345678910111213141516171819202122232425262728293031323334353637console.log('======= start ===')console.log(new Date().getTime()) // 1555601179634db.collection("testCollection").get() .then(res =&gt;&#123; console.log('===ç¬¬ä¸€æ¬¡====') console.log(new Date().getTime()) // 1555601179843 return timeout(5000) &#125;) .then(res =&gt;&#123; console.log('===ç¬¬äºŒæ¬¡====') console.log(new Date().getTime()) // 1555601184847 return timeout(5000) &#125;) .then(res =&gt;&#123; console.log('===ç¬¬ä¸‰æ¬¡====') console.log(new Date().getTime()) // 1555601189853 return timeout(5000) &#125;) .then(res =&gt;&#123; console.log('===ç¬¬å››æ¬¡====') console.log(new Date().getTime()) // 1555601194853 return timeout(5000) &#125;) .then(res =&gt;&#123; console.log('===ç¬¬äº”æ¬¡====') console.log(new Date().getTime()) // è¿™é‡Œå·²ç»æ˜¯è¶…æ—¶åŒºäº† return timeout(5000) &#125;)console.log('======= end ===')console.log(new Date().getTime()) // 1555601179642// å°è£…çš„Promiseçš„ç­‰å¾…å‡½æ•°function timeout(ms) &#123; return new Promise((resolve) =&gt; &#123; setTimeout(resolve, ms); &#125;);&#125;]]></content>
      <tags>
        <tag>wxmp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[02å…³äºäº‘å‡½æ•°ä¸­awaitä¸asyncçš„ç†è§£]]></title>
    <url>%2F2019%2F04%2F19%2F%E5%85%B3%E4%BA%8E%E4%BA%91%E5%87%BD%E6%95%B0%E4%B8%ADawait%E4%B8%8Easync%E7%9A%84%E7%90%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[åœ¨å°ç¨‹åºäº‘å¼€å‘çš„æœåŠ¡ç«¯äº¤äº’æ•°æ®åº“çš„æ¡ˆä¾‹ä¸­ï¼Œå®˜æ–¹æ–‡æ¡£éƒ½ç”¨äº†asyncä¸await,å…¶å®æ˜¯ä¸ºäº†æ›´å¥½çš„è¡¨ç¤ºå‡ºå…ˆåæ¬¡åº æ ¸å¿ƒè¯­æ³•123async function()&#123; await asyncFunction() // ç­‰å¾…å¼‚æ­¥å‡½æ•°çš„æ‰§è¡Œ&#125; å…¶å®ä»–ä¼šé˜»å¡å‡½æ•°ï¼Œå¯ä»¥ç†è§£ä¸ºæŠŠä¸€ä¸ªå¼‚æ­¥æ´»ç”Ÿç”Ÿå˜æˆåŒæ­¥äº† ç¤ºä¾‹123456789101112;(() =&gt; &#123; console.log(new Date().getTime()) // 1555597655277 timeout(5000) console.log(new Date().getTime()) // 1555597655279&#125;)();(async () =&gt; &#123; console.log(new Date().getTime()) // 1555597655277 await timeout(5000) console.log(new Date().getTime()) // 1555597655279&#125;)() é‚£ä¹ˆå¯ä»¥çœ‹å‡ºï¼Œè¿™æ ·åšçš„ç›®çš„ï¼Œä¸€æ–¹é¢æ˜¯ä¸ºäº†ä¸¥æ§ä»£ç çš„æ‰§è¡Œé¡ºåºï¼Œå¦ä¸€æ–¹ä¾¿ä¹Ÿçœå»äº†å¾ˆå¤šè€ƒè™‘å¼‚æ­¥çš„éº»çƒ¦ã€‚]]></content>
      <tags>
        <tag>wxmp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mpvue-fullpage]]></title>
    <url>%2F2019%2F04%2F05%2Fmpvue-fullpage%2F</url>
    <content type="text"><![CDATA[è‡ªå®šä¹‰çš„fullpageæ•ˆæœ, å…¶æ ¸å¿ƒæ˜¯topå±æ€§çš„æ”¹å˜ èµ·æ­¥ å¤åˆ¶æ­¤æ¨¡æ¿å»è‡ªå·±çš„é¡¹ç›®ä¸­ æ¯ä¸€ä¸ªæ»šåŠ¨å±divæ·»åŠ ä¸Šclass:section åœ¨totalPageNumå¡«å…¥å½“å‰æ»šåŠ¨å±çš„æ•°é‡ ä½¿ç”¨äº†ä¸€äº›æŠ€å·§ cssé«˜åº¦å±æ€§ hv, wv, é«˜åº¦ï¼Œå®½åº¦çš„è§†å£å¤§å°ï¼Œ 100hv = 1 viewport height ç­‰ç­‰ ä¸ºäº†åŒå‘æ•°æ®ç»‘å®šï¼Œå°†å˜åŒ–çš„csså±æ€§ ä»¥styleå±æ€§çš„æ–¹å¼å†™åœ¨äº†æ ‡ç­¾å†…éƒ¨ã€‚ é¢„è§ˆæ•ˆæœ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212&lt;template&gt; &lt;div class=&quot;fullpage-container&quot;&gt; &lt;div class=&quot;fullpage-container-fill&quot;&gt; &lt;div class=&quot;scroll-fullpage&quot; :style=&quot;&#123; top: top &#125;&quot; ref=&quot;fullpage&quot;&gt; &lt;div id=&quot;hook1&quot; class=&quot;section section01&quot; :class=&quot;&#123; active: scrollindex === 0 &#125;&quot; @touchstart=&quot;scrollTouchStart&quot; @touchmove=&quot;scrollTouchMove&quot; @touchend=&quot;scrollTouchEnd&quot; &gt; &lt;div class=&quot;cont&quot;&gt; &lt;div class=&quot;cont-body&quot;&gt; &lt;h1&gt;æ’é˜ŸæŒ‚å·&lt;/h1&gt; &lt;h3&gt;è…°è…¿ç—›---&gt;å»ºè®®å‰å¾€éª¨ä¼¤ç§‘å°±è¯Š&lt;/h3&gt; &lt;p&gt;â‘ &lt;/p&gt; &lt;h4&gt;â†“â†“â†“â†“â†“&lt;/h4&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id=&quot;hook2&quot; class=&quot;section section02&quot; :class=&quot;&#123; active: scrollindex === 1 &#125;&quot; @touchstart=&quot;scrollTouchStart&quot; @touchmove=&quot;scrollTouchMove&quot; @touchend=&quot;scrollTouchEnd&quot; &gt; &lt;div class=&quot;cont&quot;&gt; &lt;div class=&quot;cont-body&quot;&gt; &lt;h1&gt;å‰å¾€éª¨ä¼¤ç§‘&lt;/h1&gt; &lt;h3&gt;ä¸‰æ¥¼ï¼Œç”µæ¢¯å£å³ä¾§&lt;/h3&gt; &lt;p&gt;â‘¡&lt;/p&gt; &lt;h4&gt;â†“â†“â†“â†“â†“&lt;/h4&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id=&quot;hook3&quot; class=&quot;section section03&quot; :class=&quot;&#123; active: scrollindex === 2 &#125;&quot; @touchstart=&quot;scrollTouchStart&quot; @touchmove=&quot;scrollTouchMove&quot; @touchend=&quot;scrollTouchEnd&quot; &gt; &lt;div class=&quot;cont&quot;&gt; &lt;div class=&quot;cont-body&quot;&gt; &lt;h1&gt;é¢„çº¦åŒ»å¸ˆ&lt;/h1&gt; &lt;h3&gt;è¯·å°†æ‚¨çš„æŒ‚å·å•ä¸å‰å°å¤„æ‰«æ&lt;/h3&gt; &lt;p&gt;â‘¢&lt;/p&gt; &lt;h4&gt;â†“â†“â†“â†“â†“&lt;/h4&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id=&quot;hook4&quot; class=&quot;section section04&quot; :class=&quot;&#123; active: scrollindex === 3 &#125;&quot; @touchstart=&quot;scrollTouchStart&quot; @touchmove=&quot;scrollTouchMove&quot; @touchend=&quot;scrollTouchEnd&quot; &gt; &lt;div class=&quot;cont&quot;&gt; &lt;div class=&quot;cont-body&quot;&gt; &lt;h1&gt;æ”¶è´¹å¤„ç¼´çº³åŒ»è¯è´¹&lt;/h1&gt; &lt;h3&gt;ä¸€æ¥¼ï¼Œå¤§å…ï¼Œè¿›å¤§é—¨å³æ‰‹å¤„&lt;/h3&gt; &lt;p&gt;â‘£&lt;/p&gt; &lt;h4&gt;â†“â†“â†“â†“â†“&lt;/h4&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; data() &#123; return &#123; scrollindex: 0, // å½“å‰é¡µé¢çš„ç´¢å¼•å€¼ totalPageNum: 4, // æ€»å…±é¡µé¢æ•° starty: 0, // å¼€å§‹çš„ä½ç½®x startTime: 0, // å¼€å§‹çš„æ—¶é—´æˆ³ endy: 0, // ç»“æŸçš„ä½ç½®y endTime: 0, // ç»“æŸçš„æ—¶é—´æˆ³ critical: 120, // è§¦å‘ç¿»é¡µçš„ä¸´ç•Œå€¼ maxTimeCritical: 300, // æ»‘åŠ¨çš„æ—¶é—´æˆ³ä¸´ç•Œå€¼ä¸Šé™ minTimeCritical: 100 // æ»‘åŠ¨çš„æ—¶é—´æˆ³ä¸´ç•Œå€¼ä¸‹é™ &#125;; &#125;, computed: &#123; top() &#123; // è®¡ç®—å½“å‰å¾€ä¸Šçš„è·ç¦» return this.scrollindex * -100 + &apos;vh&apos;; &#125; &#125;, methods: &#123; scrollTouchStart(e) &#123; e = e.mp; // è·å–å¼€å§‹ç‚¹å‡»ç‚¹ this.starty = e.touches[0].pageY; // è·å–å½“å‰ç‚¹å‡»æ—¶é—´ this.startTime = e.timeStamp; &#125;, scrollTouchMove(e) &#123;&#125;, scrollTouchEnd(e) &#123; e = e.mp; // è·å–ç»“æŸä½ç½® this.endy = e.changedTouches[0].pageY; // é—´éš”æ—¶é—´ this.endTime = e.timeStamp; let timeStampdiffer = this.endTime - this.startTime; if ( // æ­¤æ—¶åˆ¤æ–­æ˜¯æ»‘åŠ¨çš„æ—¶é—´å·® timeStampdiffer &lt;= this.maxTimeCritical &amp;&amp; timeStampdiffer &gt; this.minTimeCritical &amp;&amp; // æ­¤æ—¶åˆ¤æ–­å·²ç»æ”¹å˜äº† åˆå§‹ä½ç½® &gt; å½“å‰ä½ç½® this.starty &gt; e.changedTouches[0].pageY ) &#123; // æ‰‹åŠ¿ä¸Šæ»‘ ç§»åŠ¨ this.scrollindex = this.scrollindex &gt;= this.totalPageNum-1 ? this.scrollindex : this.scrollindex + 1; &#125; else if ( // åˆ¤æ–­æ—¶é—´ timeStampdiffer &lt;= this.maxTimeCritical &amp;&amp; timeStampdiffer &gt; this.minTimeCritical &amp;&amp; // åˆå§‹ä½ç½® &lt; å½“å‰ä½ç½® æ‰‹åŠ¿ä¸‹æ»‘ this.starty &lt; e.changedTouches[0].pageY ) &#123; // æ‰‹åŠ¿ä¸‹æ»‘ ç§»åŠ¨ this.scrollindex = this.scrollindex &lt;= 0 ? 0 : this.scrollindex - 1 ; &#125; &#125; &#125;&#125;;&lt;/script&gt;&lt;style lang=&quot;wxss&quot;&gt;#hook1 &#123; background: #9999cc;&#125;#hook2 &#123; background: #cc66cc;&#125;#hook3 &#123; background: #cc99cc;&#125;#hook4 &#123; background: #cccccc;&#125;.cont&#123; position: relative;&#125;.cont-body h4&#123; position: absolute; bottom: 100rpx; font-size: 48rpx; left: 45%; color: #fff;&#125;.cont-body p&#123; text-align: center; font-size: 80rpx; color: #fff; margin-top: 300rpx;&#125;page &#123; height: 100%; background: #fff; color: #282828;&#125;.fullpage-container &#123; height: 100%; flex: 1; flex-direction: column; box-sizing: border-box; padding: 0; align-items: initial; justify-content: first baseline;&#125;.fullpage-container-fill &#123; height: 100%; overflow: hidden; position: relative;&#125;.scroll-fullpage &#123; box-sizing: border-box; position: absolute; /* å¢åŠ åŠ¨ç”»*/ transition: top .3s linear;&#125;.section &#123; width: 100vw; height: 100vh; position: relative;&#125;.cont &#123; width: 100%; height: 100%; margin: 0 auto;&#125;&lt;/style&gt;]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[orclåˆ›å»ºæ•°æ®åº“åŸºäºDBCA-11gï¼ˆå›¾ï¼‰]]></title>
    <url>%2F2019%2F03%2F17%2Forcl%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E4%BA%8EDBCA-11g%2F</url>
    <content type="text"><![CDATA[ç¬¬1æ­¥ ç¬¬2æ­¥ ç¬¬3æ­¥ ç¬¬4æ­¥ ç¬¬5æ­¥ ç¬¬6æ­¥ ç¬¬7æ­¥ ç¬¬8æ­¥ ç¬¬9æ­¥ ç¬¬10æ­¥ ç¬¬11æ­¥ ç¡®è®¤å®‰è£… æœ€åä¸€è·¯ç­‰å¾…å°±å¯ä»¥]]></content>
      <tags>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[npmä¸­å…³äºä¾èµ–åŒ…å†²çªçš„é—®é¢˜]]></title>
    <url>%2F2019%2F03%2F06%2Fnpm%E4%B8%AD%E5%85%B3%E4%BA%8E%E4%BE%9D%E8%B5%96%E5%8C%85%E5%86%B2%E7%AA%81%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[æµ‹è¯•ç¯å¢ƒ npm-v 6.8.0 è¦äº†è§£npmè§£å†³åŒ…å†²çªçš„é—®é¢˜ï¼Œå°±è¦å…ˆäº†è§£ä¸€ä¸‹ä»–æ˜¯å¦‚ä½•æ‰¾åŒ…çš„ nodeä¸­requireæŸ¥æ‰¾ä¾èµ–çš„æ–¹å¼123â”‚ app.jsâ”‚â””â”€â”€â”€node_modules ä¸€èˆ¬æˆ‘ä»¬ä»¬çš„app.jsä¸­çš„requieræŸ¥æ‰¾ä¾èµ–çš„æ—¶å€™ï¼Œä¼šå»ç›®å½•ä¸‹çš„node_moduleså»å¯»æ‰¾ ä½†æ˜¯ï¼Œå®é™…ä»–ä¼šä»¥ä¸€ç§ä¾æ¬¡å‘ä¸Šçš„æ–¹å¼è¿›è¡Œå¯»æ‰¾ï¼Œè¿™é‡Œä»¥commonæ¨¡å—ä¾èµ–jqueryä¸ºä¾‹123// common.jslet $ = require('jquery') å‘å¤–å±‚ç›®å½•å¯»æ‰¾(å½“å‰ç›®å½•æ²¡æ‰¾åˆ°æŒ‡å®šçš„js) 123456789â”‚ app.jsâ”‚â”œâ”€â”€â”€commonâ”‚ â”‚ common.jsâ”‚ â”‚â”‚ â””â”€â”€â”€node_modulesâ”‚ â””â”€â”€â”€bootstrapâ””â”€â”€â”€node_modules â””â”€â”€â”€jquery é¦–å…ˆ common.jsä¼šåœ¨æœ¬çº§çš„node_modulesä¸­å¯»æ‰¾æ˜¯å¦å­˜åœ¨jquery ä¹‹åï¼Œä»–ä¼šå‘ä¸Šä¸€å±‚ç›®å½•å»å¯»æ‰¾ï¼Œæ˜¯å¦æœ‰node_modules,å¹¶å»å¯»æ‰¾ å‘å¤–å±‚ç›®å½•å¯»æ‰¾(å½“å‰ç›®å½•ä¸å­˜åœ¨node_modules) 1234567â”‚ app.jsâ”‚â”œâ”€â”€â”€commonâ”‚ common.jsâ”‚â””â”€â”€â”€node_modules â””â”€â”€â”€jquery é¦–å…ˆï¼Œcommon.jsçš„æœ¬çº§ç›®å½•ä¸å­˜åœ¨node_modulesï¼Œç›´æ¥è·³å‘ä¸Šä¸€çº§ç›®å½• åœ¨ä¸Šçº§ç›®å½•ä¸­ï¼Œæ‰¾åˆ°äº†æŒ‡å®šçš„js å‘å¤šå±‚ç›®å½•ä¸‹å¯»æ‰¾ï¼ˆç›´åˆ°æ‰¾åˆ°æ ¹ç›®å½•ä¸ºæ­¢ï¼‰ 12345678910111213â”‚ app.jsâ”‚â”œâ”€â”€â”€mgrâ”‚ â””â”€â”€â”€publicâ”‚ â”œâ”€â”€â”€commonâ”‚ â”‚ â”‚ common.jsâ”‚ â”‚ â”‚â”‚ â”‚ â””â”€â”€â”€node_modulesâ”‚ â”‚ â””â”€â”€â”€bootstrapâ”‚ â””â”€â”€â”€node_modulesâ”‚ â””â”€â”€â”€expressâ””â”€â”€â”€node_modules â””â”€â”€â”€jquery é¦–å…ˆï¼Œcommon.jsåœ¨æœ¬çº§çš„node_modulesä¸­å¯»æ‰¾ï¼Œæœªæ‰¾åˆ°ï¼Œè·³è½¬åˆ°ä¸Šä¸€çº§ç›®å½• æŸ¥æ‰¾åˆ°äº†publicç›®å½•ï¼Œ æŸ¥çœ‹æ­¤ç›®å½•çš„node_modulesä¸­å¯»æ‰¾ï¼Œæœªæ‰¾åˆ°ï¼Œè·³è½¬ä¸Šä¸€çº§ç›®å½• æ¥åˆ°äº†mgrç›®å½•ï¼Œ æœªæ‰¾åˆ°node_modulesç›®å½•ï¼Œç»§ç»­å‘ä¸Šå¯»æ‰¾ æ¥åˆ°äº†é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œåœ¨æœ¬çº§çš„node_modulesä¸­ï¼Œå¯»æ‰¾åˆ°äº† å¯ä»¥çœ‹å‡ºï¼Œä»–åœ¨å¯»æ‰¾çš„æ—¶å€™ï¼Œä¼šä¾æ¬¡å‘ä¸Šå¯»æ‰¾ï¼Œç›´åˆ°æ ¹ç›®å½•ä¸‹ nodeä¸ä¼šå»å…„å¼Ÿç›®å½•ä¸­æŸ¥æ‰¾ 123456789101112â”‚ app.jsâ”‚â”œâ”€â”€â”€commonâ”‚ â”‚ common.jsâ”‚ â”‚â”‚ â””â”€â”€â”€node_modulesâ”‚ â””â”€â”€â”€bootstrapâ”œâ”€â”€â”€hostâ”‚ â””â”€â”€â”€node_modulesâ”‚ â””â”€â”€â”€jqueryâ””â”€â”€â”€node_modules â””â”€â”€â”€express common.jså»æœ¬çº§node_modulesç›®å½•ä¸‹å¯»æ‰¾ï¼Œæ²¡æœ‰æ‰¾åˆ°ï¼Œè¿”å›ä¸Šä¸€çº§ æ¥åˆ°äº†é¡¹ç›®æ ¹ç›®å½•ï¼Œå»æœ¬çº§ç›®å½•ä¸‹çš„node_modulesç›®å½•ä¸‹å¯»æ‰¾,æ²¡æœ‰æ‰¾åˆ°ï¼Œå¯»æ‰¾ç»“æŸï¼Œæœªæ‰¾åˆ°ã€‚ æ³¨æ„ï¼Œä»–ä¸ä¼šé’»åˆ°ä»–çš„å…„å¼Ÿç›®å½•hostä¸­å»å¯»æ‰¾ï¼Œä»–åªèƒ½å‘ä¸Šå¯»æ‰¾ï¼Œä¸èƒ½å‘ä¸‹ã€‚ npmè§£å†³åŒ…å†²çªçš„é—®é¢˜ æœ‰ä¸¤ä¸ªç›¸åŒçš„é¡¹ç›®ä¾èµ–äº†åŒä¸€ä¸ªæ–‡ä»¶ 1234â”œâ”€â”€â”€aâ”‚ â””â”€â”€â”€c_v1.0.0â””â”€â”€â”€b â””â”€â”€â”€c_v2.0.0 a ä¾èµ–äº†1.0.0çš„cæ–‡ä»¶ b ä¾èµ–äº†2.0.0çš„cæ–‡ä»¶ ç‰ˆæœ¬ä¸åŒçš„æ—¶å€™ï¼Œä»–ä¼šåˆ†åˆ«åœ¨å„è‡ªçš„åŒ…ä¸‹å»ºç«‹node_modulesæ–‡ä»¶ 123456789101112â”‚ app.jsâ”‚â””â”€â”€â”€node_modules â”œâ”€â”€â”€a â”‚ â””â”€â”€â”€node_modules â”‚ â””â”€â”€â”€c(v1.0.0) â”œâ”€â”€â”€b â”‚ â””â”€â”€â”€node_modules â”‚ â””â”€â”€â”€c(v2.0.0) â”œâ”€â”€â”€bootstrap â”œâ”€â”€â”€c â””â”€â”€â”€jquery aä¾èµ–äº†çš„cåŒ…ï¼ˆ1.0.0ï¼‰ (å®é™…ä¸Šæ²¡æœ‰ç‰ˆæœ¬å·ï¼Œå°±å«c) bä¾èµ–äº†çš„cåŒ…2.0.0 (å®é™…ä¸Šæ²¡æœ‰ç‰ˆæœ¬å·ï¼Œå°±å«c) ç”±äºä»–æŸ¥æ‰¾åŒ…çš„æœºåˆ¶ï¼Œå°±ä¼šæ‰¾åˆ°é€‚åˆè‡ªå·±ç‰ˆæœ¬çš„ ä»…ä»…å•ä¸ªç‰ˆæœ¬ä¸åŒ 1234567891011â”‚ app.jsâ”‚â””â”€â”€â”€node_modules â”œâ”€â”€â”€a â”‚ â””â”€â”€â”€node_modules â”‚ â””â”€â”€â”€c(v1.0.0) â”œâ”€â”€â”€b â”œâ”€â”€â”€d â”œâ”€â”€â”€bootstrap â”œâ”€â”€â”€c â””â”€â”€â”€jquery aä¾èµ–äº†cåŒ…ï¼ˆ1.0.0ï¼‰ bä¹Ÿä¾èµ–çš„cåŒ… dä¹Ÿä¾èµ–çš„cåŒ… ç”±äºåŒ…æŸ¥æ‰¾æœºåˆ¶ï¼Œå…ˆä»å†…å±‚æŸ¥æ‰¾ï¼Œä¾æ¬¡å‘å¤–ç¿»ï¼Œaä¼šä½¿ç”¨å®ƒç‰¹å®šç‰ˆæœ¬çš„c,å…¶ä»–ä½¿ç”¨å¤–éƒ¨çš„cå°±å¥½]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nodeä¸­æ–‡ä»¶æ“ä½œè·¯å¾„é—®é¢˜]]></title>
    <url>%2F2019%2F03%2F06%2Fnode%E4%B8%AD%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[æ–‡ä»¶åˆ†éš”ç¬¦ / å·¦-&gt; æ­£æ–œæ ï¼Œ\ å³ -&gt; åæ–œæ  åœ¨mac, linux, unix ä½¿ç”¨ / åˆ†éš”ç¬¦ åœ¨win ä½¿ç”¨ \ ä½œä¸ºåˆ†éš”ç¬¦ï¼Œ ç”±äº\å­˜åœ¨è½¬ä¹‰çš„æ•ˆæœï¼Œä¸€èˆ¬ä¼šä½¿ç”¨\\ winä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨/ ä»‹ç»pathç›¸å…³ path.basename è·å–ä¸€ä¸ªè·¯å¾„çš„æ–‡ä»¶åï¼ˆé»˜è®¤åŒ…å«æ‹“å±•åï¼‰ path.basename(â€˜c:/a/b.jsâ€™) -&gt; b.js path.basename(â€˜c:/a/b.jsâ€™, â€˜.jsâ€™) -&gt; b path.dirname è·å–ä¸€ä¸ªè·¯å¾„ä¸­çš„ç›®å½•éƒ¨åˆ† path.parse æŠŠä¸€ä¸ªè·¯å¾„è½¬æ¢ä¸ºå¯¹è±¡ root æ ¹ç›®å½• dir ç›®å½• base åŒ…å«åç¼€åçš„æ–‡ä»¶å extåç¼€å name ä¸åŒ…å«åç¼€åçš„æ–‡ä»¶å path.join éœ€è¦è¿›è¡Œè·¯å¾„æ‹¼æ¥çš„æ—¶å€™æ¨èä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼ˆæå…¶æ™ºèƒ½ï¼‰ path.join(â€˜c:/a/bâ€™, â€˜câ€™) -&gt; c:/a/b/c path.join(â€˜c:/a/bâ€™, â€˜/câ€™) -&gt; c:/a/b/c path.join(â€˜c:/a/bâ€™, â€˜./câ€™) -&gt; c:/a/b/c path.join(â€˜c:/a/bâ€™, â€˜../câ€™) -&gt; c:/a/c path.isAbsolute åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ path.isAbsolute(â€˜c://aâ€™) -&gt; true path.isAbsolute(â€˜/aâ€™) -&gt; true (/ä¸ºæ ¹ç›®å½•) __dirname ä¸ __filename å‡æ˜¯åŠ¨æ€çš„è·å–, ä»–ä»¬æ˜¯æ¯”è¾ƒç‰¹æ®Šçš„æˆå‘˜ __dirname æ–‡ä»¶æ‰€å±ç›®å½•çš„ç»å¯¹è·¯å¾„ c://a/b __filename æ‰€å±æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ c://a/b/c.js fsæ¨¡å—ä¸­çš„ç›¸å¯¹è·¯å¾„ fs.readFile(â€˜./a.txtâ€™, fn) å…¶ä¸­çš„è·¯å¾„â€™./a.txtâ€™ å¹¶ä¸æ˜¯æ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸ºå¯»æ‰¾ æ˜¯ä»¥ç»ˆç«¯ï¼Œå³nodeè¿è¡Œæ–‡ä»¶æ—¶ç›®å½• c://a/b&gt; node a.js c://a/&gt; b/node a.js è™½ç„¶ä»–ä»¬ çœ‹ä¼¼ç›¸åŒï¼Œç”±äºnodeè¿è¡Œç›®å½•ä¸ç›¸åŒï¼Œfs.readFileæ—¶å¯»æ‰¾ä¸ä¸€æ · c://a/b/a.txt c://a/a.txt è¿™æ˜¯ä¸“é—¨çš„ä¸€ç§è®¾è®¡ï¼Œå¹¶ä¸æ˜¯ä¸€ç§bug,æ‰€ä»¥å»ºè®®ä¿®æ”¹ç›®å½•ä¸º fs.readFile(path.join(__dirname, &#39;./a.txt&#39;), fn) è¿™æ ·æ¯æ¬¡éƒ½æ˜¯åŠ¨æ€è·å–çš„ï¼Œæ‰€ä»¥ä¸ä¼šé€ æˆç›®å½•é—®é¢˜ æ³¨æ„å¼•å…¥pathæ¨¡å—ï¼Œä¸€èˆ¬ï¼Œfs,pathéƒ½æ˜¯æˆå¯¹å¼•å…¥ requireä¸­çš„ç›¸å¯¹è·¯å¾„ åœ¨requireä¸­ï¼Œä¸å­˜åœ¨ä¸Šè¿°é—®é¢˜ï¼Œè¿˜æ˜¯å¼•å…¥å³å¯ï¼Œ require(â€˜./aâ€™) çœç•¥æ¨¡å—åç¼€.js]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nodeä¸­è¿æ¥æ•°æ®åº“]]></title>
    <url>%2F2019%2F03%2F05%2Fnode%E4%B8%AD%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%2F</url>
    <content type="text"><![CDATA[mongodbæ•°æ®åº“ï¼ŒåŸºäºç¬¬ä¸‰æ–¹åº“ mongoose(é«˜åº¦å°è£…äº†mongodbå®˜æ–¹æ–‡ä»¶)å¼•å…¥mongoose12var mongoose = require('mongoose')var Schema = mongoose.Schema è¿æ¥æ•°æ®åº“1mongoose.connect('mongodb://localhost/test') è®¾è®¡æ–‡æ¡£ç»“æ„ï¼ˆè¡¨ç»“æ„ï¼‰æ®µåç§°å°±æ˜¯è¡¨ç»“æ„ä¸­çš„å±æ€§åç§°, çº¦æŸçš„ç›®çš„æ˜¯ä¸ºäº†ä¿è¯æ•°æ®çš„å®Œæ•´æ€§12345678910111213var userSchame = new Schame(&#123; username: &#123; type: String, required: true // å¿…é¡»æœ‰ &#125;, password: &#123; type: String, required: true &#125;, email: &#123; type: String &#125;&#125;) å°†æ–‡æ¡£å‘å¸ƒä¸ºæ¨¡å‹1var User = mongoose.model('User', userSchame) ä½¿ç”¨æ–‡æ¡£æ¨¡å‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899// **********************// /æ–°å¢æ•°æ®// **********************var admin = new User(&#123; username: 'zs', password: '123456', email: 'admin@admin.com'&#125;)admin.save(function (err, ret) &#123; if (err) &#123; console.log('ä¿å­˜å¤±è´¥') &#125; else &#123; console.log('ä¿å­˜æˆåŠŸ') console.log(ret) &#125;&#125;)// **********************// /æ–°å¢æ•°æ®// **********************// **********************// /æŸ¥è¯¢æ•°æ®// **********************User.find(function (err, ret) &#123; if (err) &#123; console.log('æŸ¥è¯¢å¤±è´¥') &#125; else &#123; console.log(ret) &#125;&#125;)User.find(&#123; username: 'zs'&#125;, function (err, ret) &#123; if (err) &#123; console.log('æŸ¥è¯¢å¤±è´¥') &#125; else &#123; console.log(ret) &#125;&#125;)User.findOne(&#123; username: 'zs'&#125;, function (err, ret) &#123; if (err) &#123; console.log('æŸ¥è¯¢å¤±è´¥') &#125; else &#123; console.log(ret) &#125;&#125;)// **********************// /æŸ¥è¯¢æ•°æ®// **********************// **********************// /åˆ é™¤æ•°æ®// **********************User.remove(&#123; username: 'zs'&#125;, function (err, ret) &#123; if (err) &#123; console.log('åˆ é™¤å¤±è´¥') &#125; else &#123; console.log('åˆ é™¤æˆåŠŸ') console.log(ret) &#125;&#125;)// **********************// /åˆ é™¤æ•°æ®// **********************// **********************// /æ›´æ–°æ•°æ® // **********************// æ³¨æ„ï¼Œmongodbä¸­çš„_idæ˜¯ä¸€ä¸ªè¾ƒä¸ºç‰¹æ®Šçš„å€¼, å¯ä»¥æŸ¥è¯¢ä½¿ç”¨ï¼Œé¿å…å¯¹è±¡ä¸­å‡ºç°_idè¿™ç§å±æ€§//User.findByIdAndUpdate('5a001b23d219eb00c8581184', &#123; password: '123'&#125;, function (err, ret) &#123; if (err) &#123; console.log('æ›´æ–°å¤±è´¥') &#125; else &#123; console.log('æ›´æ–°æˆåŠŸ') &#125;&#125;)// // æ›´æ–°å¯†ç 123 -&gt; 456User.update(&#123; password: '123' &#125;, &#123; password: '456' &#125;, fn);// // æ›´æ–°å¯†ç 123 -&gt; 456 å¤šä¸ªæ–‡ä»¶User.update(&#123; password: '123' &#125;, &#123; password: '456' &#125;, &#123; multi: true &#125;, fn);// **********************// /æ›´æ–°æ•°æ®// ********************** mysqlæ•°æ®åº“ï¼Œç¬¬ä¸‰æ–¹åº“å¼•å…¥æ•°æ®åº“1var mysql = require('mysql'); é…ç½®è¿æ¥å¯¹è±¡123456var connection = mysql.createConnection(&#123; host : 'localhost', user : 'user', password : 'password', database : 'my_db'&#125;); è¿æ¥æ•°æ®åº“1234567// å¼€å¯è¿æ¥connection.connect()...// æ–­å¼€è¿æ¥connection.end() SQLè¯­å¥ å‡ä½¿ç”¨connection.query æ ¹æ®ä¸åŒçš„éœ€è¦ä¼ å…¥ä¸åŒçš„SQLè¯­å¥å°±å¯ä»¥ å›è°ƒå‡½æ•°ä¸­çš„å‚æ•° error æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ results æŸ¥è¯¢çš„ç»“æœ fields æ”¹å˜çš„è¡Œçš„æ•°é‡ 12345// connection.query('SELECT 1 + 1 AS solution', function (error, results, fields) &#123; if (error) throw error; console.log('The solution is: ', results[0].solution);&#125;);]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºjavascriptä¸­çš„åˆ†å·çš„é—®é¢˜]]></title>
    <url>%2F2019%2F03%2F02%2F%E5%85%B3%E4%BA%8Ejavascript%E4%B8%AD%E7%9A%84%E5%88%86%E5%8F%B7%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[åœ¨å¼€å‘ä¸­ï¼Œæœ‰çš„ç¼–ç è§„èŒƒå¯ä»¥å¯¹åˆ†å·æ²¡æœ‰è¦æ±‚ï¼Œå¯ä»¥çœå»åˆ†å·;1234let name = 'nn'function foo()&#123; return &#123;&#125;&#125; ä½†æ˜¯åœ¨ä¸€ä¸‹æƒ…å†µä¸­ï¼Œç»å¯¹ä¸èƒ½çœç•¥ [,(,&#39;ï¼ˆæ­¤å¤„ä»£è¡¨åå¼•å·ï¼‰å› ä¸ºå¯èƒ½å¯¼è‡´ï¼Œç¼–è¯‘é”™è¯¯ï¼Œæ‰€ä»¥è¿™æ ·åŠ ä¸Šä¸€å¥å†’å·ï¼Œå°±èƒ½é¿å…è¿™æ ·çš„é”™è¯¯ã€‚12345;(function()&#123; let foo = 'bar' &#125;)();`hello`.toString()]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç§»åŠ¨ç«¯é€‚é…æ–¹æ¡ˆæ€»ç»“]]></title>
    <url>%2F2019%2F02%2F20%2F%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D%E6%96%B9%E6%A1%88%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[å¯¹äºç§»åŠ¨ç«¯è®¾å¤‡ï¼Œé€šå¸¸å°±æ˜¯è§£å†³ä¸åŒè®¾å¤‡çš„æ˜¾ç¤ºé—®é¢˜ï¼Œæ€»ç»“å¸¸è§å¸ƒå±€çš„ä¼˜ç¼ºç‚¹ æµå¼å¸ƒå±€ å“åº”å¼å¸ƒå±€ remé€‚é… åœ¨ç§»åŠ¨ç«¯çš„è®¾å¤‡ï¼Œéœ€è¦è¿›è¡Œè§†å£çš„è®¾ç½®(ç±»ä¼¼äº æµè§ˆå™¨-åŒ…å«ä¸€ä¸ªè§†å£-åŒ…å«æˆ‘ä»¬çœ‹åˆ°çš„é¡µé¢dom)ï¼Œè¦æœ€å…ˆè§£è¯»åˆ°csså±æ€§æ‰€ä»¥ä¸€èˆ¬æ”¾åœ¨å¤´éƒ¨12345678910&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0"&gt; &lt;/head&gt; ....&lt;/html&gt; å…¶ä¸­width,è§†å£çš„å®½åº¦è‡ªåŠ¨è·Ÿéšè®¾å¤‡è°ƒæ•´ï¼Œ inital-scaleæ˜¯åˆå§‹åŒ–ç¼©æ”¾çº§åˆ«ï¼Œç”¨æˆ·çœ‹åˆ°çš„å’Œåœ¨pcç«¯çš„æ˜¯1:1çš„å…³ç³»ï¼Œï¼ˆä¸ä¼šå› ä¸ºæ•´ä½“ç¼©å°ï¼Œè€Œå¯¼è‡´å­—ä½“è¿‡å°æ— æ³•çœ‹åˆ°ï¼‰ user-scalableæ˜¯ç”¨æˆ·æ˜¯å¦å¯ä»¥è‡ªåŠ¨ç¼©æ”¾ 1 yes æˆ–è€… 0 no æµå¼å¸ƒå±€ æµå¼å¸ƒå±€çš„åŸç†å°±æ˜¯åˆ©ç”¨width:100%å·²è¾¾åˆ°è§£å†³å“åº”å¼çš„é—®é¢˜ï¼Œåœ¨è¿™ç§è®¾è®¡åŸºç¡€ä¸Šï¼Œä¸€å®šè¦æ³¨æ„ ä½¿ç”¨è¾¹æ¡†ç›’å­ï¼ˆé˜²æ­¢æº¢å‡ºï¼‰box-sizing: border-box å®½åº¦å°½é‡ä½¿ç”¨width: 100% æ¯”è¾ƒç®€å•ï¼Œä½¿ç”¨æµè§ˆå™¨è‡ªé€‚åº”å®½åº¦ï¼Œè¾¾åˆ°è‡ªé€‚åº”çš„æ•ˆæœï¼Œè¦æ³¨æ„ç”±äºä½¿ç”¨border-boxæ‰€ä»¥åœ¨è®¾ç½®çš„æ—¶å€™ï¼Œè¦å°½é‡è®¾ç½®çˆ±å…ƒç´ çš„padding,é˜²æ­¢å…ƒç´ æº¢å‡º åŒé£ç¿¼å¸ƒå±€ ä¸¤æ å¸ƒå±€ æœ‰ä¸€æ¬¾æ’ä»¶ï¼Œæ˜¯ä¸ºäº†è§£å†³å±€éƒ¨å…ƒç´ çš„æ»‘åŠ¨ï¼Œå¯ä»¥ä½¿ç”¨iscroll.js,å½“å…¶å…ƒç´ æœ‰è¶…å‡ºçš„é•¿åº¦çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨å±€éƒ¨è¿›è¡Œæ»‘åŠ¨ï¼Œiscroll,å±€éƒ¨åˆ·æ–° å“åº”å¼å¸ƒå±€ å“åº”å¼å¸ƒå±€ä¸»è¦é€šè¿‡åª’ä½“æŸ¥è¯¢æ¥åˆ¤æ–­å½“å‰å®¹å™¨çš„å®½åº¦ä¹‹ç±»ï¼Œåœ¨æ‰§è¡Œç›¸åº”çš„cssä»£ç  cssåª’ä½“æŸ¥è¯¢ @media screen and (max-width: 768px) æœ€å¤§å®½åº¦ä¸º768pxæ—¶æ‰§è¡Œçš„ä»£ç  cssä»£ç 1234567891011121314151617181920212223242526272829303132333435363738*&#123; margin: 0; padding: 0;&#125;.contain&#123; width: 1000px; height: 1000px; margin: 0 auto; background: pink;&#125;@media screen and (max-width: 768px) and (min-width: 320px)&#123; .contain&#123; width: 100%; background: blue; &#125;&#125;@media screen and (max-width: 992px) and (min-width: 768px)&#123; .contain&#123; width: 750px; background: green; &#125;&#125;@media screen and (max-width: 1200px) and (min-width: 992px)&#123; .contain&#123; width: 970px; background: red; &#125; &#125;@media screen and (min-width: 1200px)&#123; .contain&#123; width: 1200px; background: yellow; &#125; &#125; htmlä»£ç 12345678910111213141516&lt;body&gt; &lt;!-- åª’ä½“æŸ¥è¯¢ ä½¿ç”¨csså…³é”®å­— @media screen and (&lt;è¿™é‡Œæ¥æ¡ä»¶&gt;) é€šè¿‡æŸ¥è¯¢ä¸åŒçš„å±å¹•å°ºå¯¸ åšä¸åŒçš„ç›¸åº”ï¼ˆcss ä¼˜å…ˆçº§ï¼‰ éœ€æ±‚ è¶…å°å±å¹• 768px å®½åº¦100% èƒŒæ™¯è‰² è“è‰² å°å±è®¾å¤‡768px-992px å®½åº¦750px èƒŒæ™¯è‰² ç»¿è‰² ä¸­å±è®¾å¤‡992px-1200px å®½åº¦970px èƒŒæ™¯è‰² çº¢è‰² å¤§å±è®¾å¤‡ 1200px å®½åº¦1170px èƒŒæ™¯è‰² é»„è‰² å®½åº¦è¦å°äºæœ€å°ç•Œé™ ä¿è¯æ˜¾ç¤ºä¸å‡ºç°æ»šåŠ¨æ¡ --&gt; &lt;div class="contain"&gt;&lt;/div&gt;&lt;/body&gt; æœ€ç»ˆçš„æ•ˆæœä¸º å¤§å±è®¾å¤‡ 1200px å®½åº¦1170px èƒŒæ™¯è‰² é»„è‰² ä¸­å±è®¾å¤‡992px-1200px å®½åº¦970px èƒŒæ™¯è‰² çº¢è‰² å°å±è®¾å¤‡768px-992px å®½åº¦750px èƒŒæ™¯è‰² ç»¿è‰² è¶…å°å±å¹• 768px å®½åº¦100% èƒŒæ™¯è‰² è“è‰² å…¶ä¸­è‘—åçš„æ¡†æ¶æœ‰bootstrap remé€‚é… remé€‚é…ä¸»è¦é€šè¿‡:htmlä¸­çš„styleä¸­font-sizeä»è€Œåˆ¤æ–­å‡ºæ•´ä½“çš„é¡µé¢å¸ƒå±€æ ·å¼å¤§å°ï¼Œä»è€Œè¾¾åˆ°è‡ªé€‚åº”ã€‚ä¹Ÿå°±æ˜¯åœ¨htmlå¤´éƒ¨ç»Ÿä¸€å®šä¹‰äº†åŸºå‡†å¤§å°ï¼Œæ‰€æœ‰å°ºå¯¸æŒ‰ç…§åŸºå‡†å¤§å°è®¾ç½®ï¼Œå¦‚æœæ›´æ”¹äº†è®¾å¤‡ï¼Œåªéœ€è¦åŠ¨æ€æ›´æ”¹åŸºå‡†å¤§å°ï¼Œä»è€Œå°±èƒ½è¾¾åˆ°æ•´ä¸ªé¡µé¢çš„è‡ªé€‚åº”æ•ˆæœ emæ˜¯ä»¥çˆ¶å…ƒç´ ä¸ºåŸºå‡†ï¼Œremæ˜¯ä»¥æ ¹å…ƒç´ root(ä¹Ÿå°±æ˜¯&lt;html&gt;&lt;/html&gt;), è¿™é‡Œæœ‰ä¸€ä¸ªæ¢ç®—ï¼Œ å½“å‰åŸºå‡†å°ºå¯¸ = ï¼ˆå½“å‰è®¾å¤‡å®½åº¦/è®¾è®¡ç¨¿è®¾å¤‡å®½åº¦ï¼‰* è®¾è®¡ç¨¿åŸºå‡†å°ºå¯¸ ä½¿ç”¨ä¸åŒå±å¹•ä¸‹çš„åŸºå‡†å€¼ åŠ¨æ€çš„å»è®¾ç½®htmlä¸­çš„font-sizeè¿™ä¸ªåŸºå‡†å€¼ å‡è®¾å½“å‰è®¾è®¡ç¨¿ width:750px font-size:100px1234567891011121314151617181920212223242526272829303132333435363738394041// åŠ¨æ€è®¾é…åŸºå‡†å€¼çš„css@meadia (min-width: 750px)&#123; html&#123; font-size:100px; // (750/750)*100 &#125;&#125;@meadia (min-width: 640px)&#123; html&#123; font-size:85.33333px; // (640/750)*100 &#125;&#125;@meadia (min-width: 414px)&#123; html&#123; font-size:55.2px; // (414/750)*100 &#125;&#125;@meadia (min-width: 320px)&#123; html&#123; font-size:42.7px; // (320/750)*100 &#125;&#125;// æ ·å¼çš„cssä»£ç span&#123; font-size: 0.2rem; // è®¾è®¡ç¨¿ä¸­æ˜¯20px åŸºå‡†å€¼æ˜¯100px ç›¸å¯¹ä¸º 20/100 rem, &#125;div&#123; width: 100%; // è®¾è®¡ç¨¿ä¸­æ˜¯100%çš„å®½åº¦ height: 0.5rem; // è®¾è®¡ç¨¿ä¸­æ˜¯50px åŸºå‡†å€¼æ˜¯100px ç›¸å¯¹ä¸º 50/100 rem &#125;/** å¦‚æœæ˜¯åˆ°äº†å…¶ä»–è®¾å¤‡ æ¯”å¦‚414pxçš„è®¾å¤‡ åˆ™åœ¨åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹* ä¹‹å‰çš„è®¾è®¡ç¨¿ 0.2rem = 0.2 * 100 = 20px* å°±ä¼šå˜ä¸º0.2rem = 0.2 * 55.2 = 11.4px* ä¹Ÿå°±è¾¾åˆ°äº†é€‚é…çš„ç›®çš„,ç­‰æ¯”ä¾‹ç¼©æ”¾çš„æ•ˆæœã€‚*/ åœ¨è¿™é‡Œä½¿ç”¨lessç¼–å†™ï¼Œå¯ä»¥è¾¾åˆ°è‡ªåŠ¨è®¡ç®—æ‰€æœ‰çš„é€‚é…å±çš„cssä»£ç çš„ç¼–å†™ 12345678910111213141516171819202122232425262728293031323334353637383940414243@charset "UTF-8";/*variable.less*/// é€‚é…è®¾å¤‡çš„é›†åˆ@adapterDeviceList:750px,720px,640px,540px,480px,424px,414px,400px,384px,375px,360px,320px;// è®¾è®¡ç¨¿å°ºå¯¸@psdWidth:750px;// é¢„è®¾åŸºå‡†å€¼@baseFontSize:100px;// ä¸»æµè®¾å¤‡çš„ä¸ªæ•°@len:length(@adapterDeviceList);/*adapter.less*/// 1.é€‚é…ä¸åŒå®½åº¦çš„åŸºå‡†ï¼Œåˆ©ç”¨é€’å½’å‡½æ•°å®ç°å¾ªç¯ // 2.ç”±äºè¿™é‡Œæ˜¯min-widthï¼Œè€ƒè™‘åˆ°cssä»ä¸Šåˆ°ä¸‹è¯»å–ï¼Œåº”è¯¥ä½¿ç”¨min-width:320,414,640,750è¿™ç§é¡ºåº.adapterMixin(@index) when(@index &gt; 0)&#123; @media (min-width: extract(@adapterDeviceList, @index))&#123; html&#123; font-size: extract(@adapterDeviceList, @index) / @psdWidth * @baseFontSize; &#125; &#125; .adapterMixin(@index - 1);&#125; // å‡½æ•°çš„ä½¿ç”¨.adapterMixin(@len);/*æ ·å¼çš„lessä»£ç ï¼Œç”±äºlessæœ‰è®¡ç®—åŠŸèƒ½ï¼Œå°±æ¯”è¾ƒæ–¹ä¾¿*///@baseFontSize; ä¸ºä¹‹å‰å®šä¹‰è¿‡çš„åŸºå‡†font-sizespan&#123; font-size: 20rem/@baseFontSize; //è®¾è®¡ç¨¿æ˜¯20px ç›´æ¥å°±æ˜¯20 rem / 100 = 0.2rem&#125;div&#123; width: 100%; // è®¾è®¡ç¨¿ä¸­æ˜¯100%çš„å®½åº¦ height: 50rem/@baseFontSize; // è®¾è®¡ç¨¿æ˜¯50px ç›´æ¥å°±æ˜¯50 rem / 100 = 0.5rem&#125; ä½¿ç”¨äº†lessåï¼Œå¯ä»¥åŠ¨æ€çš„ç”Ÿæˆé€‚é…ä»£ç ï¼Œå¹¶ä¸”ä»¥åçš„ç»´æŠ¤ä¹Ÿæ¯”è¾ƒæ–¹ä¾¿,ä¹Ÿä¸ç”¨å»è®¡ç®—é‚£äº›é€‚é…å€¼ï¼Œåªéœ€è¦å¸¦å…¥å³å¯ æ€»ç»“ æ— è®ºæ˜¯æµå¼å¸ƒå±€ï¼Œå“åº”å¼å¸ƒå±€ï¼Œremå¸ƒå±€ï¼Œå…¶å®ä¹‹é—´éƒ½ç”¨åˆ°äº†å¾ˆå¤šç›¸ä¼¼çš„åœ°æ–¹ï¼Œå¾ˆå¤šåœ°æ–¹ï¼Œéƒ½æœ‰width:100%ç­‰ã€‚å¹¶ä¸”åœ¨remå¸ƒå±€ä¸­å¾ˆå¤šåœ°æ–¹ä¹Ÿç”¨åˆ°äº†width:100%ï¼Œæ‰€ä»¥å¹¶ä¸åªæ˜¯å•ä¸€çš„æŠ€æœ¯å®ç°ï¼Œæ˜¯å¤šç§æŠ€æœ¯å…±åŒä½œç”¨ï¼Œè¾¾åˆ°ç§»åŠ¨ç«¯é€‚é…çš„ç›®çš„ã€‚]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSæ¨¡å—åŒ–ï¼ˆå››ï¼‰ES6çš„åº”ç”¨ï¼ˆç›®å‰ä½¿ç”¨è¾ƒå¹¿ï¼Œè¾ƒç«ï¼‰]]></title>
    <url>%2F2019%2F02%2F05%2FJS%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%88%E5%9B%9B%EF%BC%89ES6%E7%9A%84%E5%BA%94%E7%94%A8%EF%BC%88%E7%9B%AE%E5%89%8D%E4%BD%BF%E7%94%A8%E8%BE%83%E5%B9%BF%EF%BC%8C%E8%BE%83%E7%81%AB%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ES6æ¨¡å—åŒ–éœ€è¦ç¼–è¯‘æ‰“åŒ…å¤„ç†ï¼Œç”±äºç›®å‰éƒ¨åˆ†æµè§ˆå™¨ä¸æ”¯æŒes6ï¼Œéœ€è¦å…ˆè½¬æ¢es5 åŸºæœ¬ä½¿ç”¨ æš´éœ²å‡ºå» export åº”ç”¨è¿›æ¥ import ä½¿ç”¨æ–¹å¼ å…ˆç”¨babelè½¬åŒ–es5 ä½¿ç”¨browserifyç¼–è¯‘è½¬æ¢ éœ€è¦æå‰å®‰è£…ä¸€äº›åº“npm install babel-cli browserify -gnpm install babel-preset-es2015 --save-dev è‡ªå®šä¹‰ä¾èµ– æ–‡ä»¶ç»“æ„ ï¼ˆåˆ—ä¸¾äº†ä¸»è¦éƒ¨åˆ†ï¼‰ 1234567891011â”‚ .babelrcâ”‚ package-lock.jsonâ”‚ package.jsonâ”‚â”œâ”€jsâ”‚ â”œâ”€distâ”‚ â””â”€srcâ”‚ main.jsâ”‚ modules1.jsâ”‚ modules2.jsâ”‚ modules3.js .babelrc (babel run controller) 123&#123; "presets":["es2015"]&#125; å„ä¸ªæ¨¡å—æ–‡ä»¶ 1234567891011121314151617181920212223242526272829303132333435363738modules1.js// æš´éœ²æ¨¡å— åˆ†åˆ«æš´æ¼export function foo()&#123; console.log("foo() module1");&#125;export function bar()&#123; console.log("bar() module1");&#125;export let arr = [1,2,3,4,5];modules2.js// æš´éœ²æ¨¡å— ç»Ÿä¸€æš´éœ²function fun1 () &#123; console.log("fun1() module2");&#125;function fun2 () &#123; console.log("fun2() module2");&#125;export &#123;fun1, fun2&#125;modules3.js// é»˜è®¤æš´éœ² export default export default &#123; msg:"é»˜è®¤æš´éœ²", foo()&#123; console.log("foo() modules3",this.msg); &#125;&#125; ä¸»æ–‡ä»¶ main.js 123456789101112131415161718// å¼•å…¥å…¶ä»–æ¨¡å—// è¯­æ³• import xxx from 'è·¯å¾„'// ç»Ÿä¸€æš´éœ²æ–¹å¼ ç»Ÿä¸€æš´éœ²æ–¹å¼ æ˜¯è¦ä»€ä¹ˆå–ä»€ä¹ˆimport &#123;foo, bar, arr&#125; from './modules1';import &#123;fun1, fun2&#125; from './modules1';// é»˜è®¤æš´éœ²import modules3 from './modules3';foo(); // foo() module1bar(); // bar() module1console.log(arr); // [ 1, 2, 3, 4, 5 ]fun1(); // fun1() module2fun2(); // fun2() module2 modules3.foo(); // foo() modules3 é»˜è®¤æš´éœ² ç¼–è¯‘æ‰“åŒ… babelå‘½ä»¤ es6-es5 babel js/src -d js/lib ä½¿ç”¨browseriftå‘½ä»¤ browserify js/src/main.js -o js/dist/bundle.js å°†æœ€ç»ˆçš„bundleæ”¾å…¥index.html 1&lt;script type="text/javascript" src="04-ES6/js/dist/bundle.js" &gt;&lt;/script&gt; è¿™ç§æ–¹å¼éœ€è¦é¦–å…ˆä½¿ç”¨babelå°†es6-es5,åœ¨ä½¿ç”¨browserifyè¿›è¡Œç¼–è¯‘æ‰“åŒ…ï¼Œæ¯ä¸€æ¬¡æ”¹å˜éƒ½éœ€è¦è¿™æ ·ï¼Œç›¸å¯¹è¾ƒä¸ºç¹çï¼ˆæ‰€ä»¥å°±æœ‰äº†åé¢çš„è‡ªåŠ¨æ‰“åŒ…å·¥å…·ï¼‰ ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¾èµ– åœ¨npmå®‰è£…ä¾èµ– ï¼ˆjqueryä¸ºä¾‹ npm install jquery@1.12.4ï¼‰ åœ¨ä¸»æ–‡ä»¶ä¸­å¼•å…¥å³å¯ 123import $ from "jquery";$("body").css("background","yellowgreen"); ä½¿ç”¨babelä¸browserifyåˆ†åˆ«è¿›è¡Œç¼–è¯‘ æ‰“åŒ… æœ€åhtmlä»£ç è¿˜æ˜¯ æ”¾å…¥browserifyæœ€ç»ˆç”Ÿæˆçš„ä»£ç  1&lt;script type="text/javascript" src="04-ES6/js/dist/bundle.js" &gt;&lt;/script&gt; ä½¿ç”¨ES6çš„è¿™ç§æ–¹å¼ ç›¸å¯¹æ¥æ—¶ æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œè€Œä¸”å‘½ä»¤ä¹Ÿç›¸å¯¹å¥½è®° exportä¸importè¿™ç§æ–¹å¼ä¹Ÿæ˜¯ä½¿ç”¨æœ€ä¸ºå¹¿æ³›ï¼Œç›®å‰æ¯”è¾ƒå¥½çš„ä¸€ç§æ–¹å¼ï¼Œå”¯ä¸€ä¸å¥½çš„å°±æ˜¯éœ€è¦æ¯ä¸€æ¬¡éƒ½ç¼–è¯‘æ‰“åŒ…ï¼Œåæ¥è¯ç”Ÿå‡ºä¸€äº›è‡ªåŠ¨åŒ–å·¥å…·ã€‚]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSæ¨¡å—åŒ–ï¼ˆä¸‰ï¼‰AMD(Asynchronous Module Definition)çš„åº”ç”¨]]></title>
    <url>%2F2019%2F02%2F05%2FJS%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%88%E4%B8%89%EF%BC%89AMD(Asynchronous%20Module%20Definition)%E7%9A%84%E5%BA%94%E7%94%A8%2F</url>
    <content type="text"><![CDATA[åŸºæœ¬ä½¿ç”¨ æš´éœ²å‡ºå» 123456789// å®šä¹‰æ²¡æœ‰ä¾èµ–çš„æ¨¡å—define(function()&#123; return æ¨¡å— &#125;)// å®šä¹‰æœ‰ä¾èµ–çš„æ¨¡å—define(['module1','module2'],function(m1,m2)&#123; return æ¨¡å—&#125;) åº”ç”¨è¿›æ¥ 123requirejs(['module1','module2'],function(m1,m2)&#123; ä½¿ç”¨m1,m2å³å¯&#125;) è‡ªå®šä¹‰ä¾èµ–çš„å¼•ç”¨ æ–‡ä»¶çš„ç»“æ„ 1234567891011â””â”€js â”‚ main.js â”‚ â”œâ”€libs â”‚ require.js â”‚ â””â”€modules alerter.js dataService.jsâ”‚â”‚ index.html modules çš„æ–‡ä»¶ 123456789101112131415161718192021222324dataService.jsdefine(function () &#123; let name = "dataService.js"; function getName()&#123; return name; &#125; // å‘å¤–æš´éœ²æ¨¡å— return &#123;getName&#125;;&#125;)alerter.jsdefine(['dataService'],function (dataService) &#123; let msg = "alerter.js"; function showMsg()&#123; console.log(msg, dataService.getName()); &#125; // å‘å¤–æš´éœ²æ¨¡å— return &#123;showMsg&#125;;&#125;) ä¸»æ–‡ä»¶main.js 12345678910111213141516(function() &#123; // é…ç½®requirejs requirejs.config(&#123; baseUrl: "js/", paths: &#123; dataService: './modules/dataService', alerter: './modules/alerter' &#125; &#125;); // å¼•å…¥ä¾èµ– requirejs(['alerter'], function(alerter) &#123; alerter.showMsg(); // alerter.js dataService.js &#125;);&#125;)() htmlæ–‡ä»¶ 1&lt;script data-main="js/main.js" src="js/libs/require.js"&gt;&lt;/script&gt; è¿™ç§æ–¹å¼éœ€è¦åšrequirejsçš„é…ç½®ï¼Œä¹‹åå†å¼•å…¥jsæ–‡ä»¶çš„æ—¶å€™ï¼Œæ³¨æ„srcæ˜¯requre.js è€Œdata-mainæ‰æ˜¯æˆ‘ä»¬çš„main.js,è¿™ç§æ–¹å¼æ˜¯é’ˆå¯¹å®¢æˆ·ç«¯è¾ƒæ—©å‡ºç°çš„ä¸€ç§æ–¹å¼ å¼•å…¥ç¬¬ä¸‰æ–¹çš„ä¾èµ– ï¼ˆå¼•å…¥jQueryä¸ºä¾‹ï¼‰ æ”¾å…¥ç›¸å…³çš„jsï¼Œæ–‡ä»¶ç»“æ„ 123456789101112â”‚ index.htmlâ”‚â””â”€js â”‚ main.js â”‚ â”œâ”€libs â”‚ jquery-1.11.0.js â”‚ require.js â”‚ â””â”€modules alerter.js dataService.js å…¶ä½™å’Œä¹‹å‰ç›¸åŒï¼Œå°±æ˜¯å¼•å…¥ç¬¬ä¸‰æ–¹åº“å³å¯ï¼Œmain.js 12345678910111213141516171819(function() &#123; // é…ç½®requirejs requirejs.config(&#123; baseUrl: "js/", paths: &#123; dataService: './modules/dataService', alerter: './modules/alerter', jquery: './libs/jquery-1.11.0' // jQueryæºç ä¸­ éµå¾ªäº†AMDè§„èŒƒ å¹¶ä¸”æš´éœ²æ¨¡å—ä¸ºjquery &#125; &#125;); // å¼•å…¥ä¾èµ– requirejs(['alerter',"jquery"], function(alerter,$) &#123; alerter.showMsg(); $("body").css("background","deeppink"); &#125;);&#125;)() htmlæ–‡ä»¶ 1&lt;script data-main="js/main.js" src="js/libs/require.js"&gt;&lt;/script&gt; éƒ½æ˜¯åœ¨å†…éƒ¨å¼•å…¥çš„ï¼Œæ‰€ä»¥å‘è¯·æ±‚åªéœ€è¦ä¸€ä¸ªè¯·æ±‚å°±å¯ä»¥æå®šï¼Œåªéœ€è¦é…ç½®å¥½æ¨¡å—è·¯å¾„å³å¯]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSæ¨¡å—åŒ–ï¼ˆäºŒï¼‰CommonJSçš„åº”ç”¨]]></title>
    <url>%2F2019%2F02%2F05%2FJS%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%88%E4%BA%8C%EF%BC%89CommonJS%E7%9A%84%E5%BA%94%E7%94%A8%2F</url>
    <content type="text"><![CDATA[åŸºæœ¬ä½¿ç”¨ æš´éœ²å‡ºå» module.exports = valueæˆ–è€…æ˜¯exports.xxx = value å¼•å…¥è¿›æ¥ let xxx = require(&quot;./modules/xxx&quot;); è¡¥å……ï¼šå› ä¸ºexportsæ˜¯ module.exportsçš„ä¸€ä¸ªå¼•ç”¨ï¼Œä¹Ÿå°±ç›¸å½“äºåœ¨ä»£ç ä¸­ï¼Œè¿˜æœ‰ var exports = module.exports,æ‰€ä»¥ä»–ä»¬ä¿©æ˜¯ç­‰ä»·çš„ï¼Œä½†æ˜¯è¦æ³¨æ„ä¸€ç‚¹ï¼Œ 12345678910// å¯ç†è§£ä¸º var exports = module.exports ç³»ç»Ÿè‡ªåŠ¨åšçš„// å¯¼å‡ºçš„æ—¶å€™ æ˜¯ return module.exportsexports.foo = bar // module.exports.foo = barexports = &#123;&#125; // è¿™é‡Œæ”¹å˜äº†exportsçš„æŒ‡å‘ï¼Œ // æŒ‡å‘äº†ä¸€ä¸ªæ–°çš„å¯¹è±¡åï¼Œè€Œä¸æ˜¯module.exportexports.age = 16 // æ‰€ä»¥åœ¨å¯¼å‡ºçš„æ—¶å€™ï¼Œä¸ä¼šæœ‰è¿™ä¸ªage// ä¹Ÿå°±æ˜¯ç›¸å½“äºexportså¦‚æœæ”¹å˜äº†æŒ‡å‘ï¼Œ// é‚£ä¹ˆä»¥åæ·»åŠ çš„æ–¹æ³•åˆ™ä¸ä¼šæš´éœ²å‡ºå»ï¼Œï¼ˆæ”¹å˜æŒ‡å‘åï¼Œæ— æ³•ä¿®æ”¹åˆ°åŸå¯¹è±¡äº†ï¼‰ CommonJS-node(æœåŠ¡ç«¯) é¦–å…ˆéƒ¨ç½²å‡ºæ–‡ä»¶çš„ç»“æ„ 12345678â”œâ”€modulesâ”‚ modules1.jsâ”‚ modules2.jsâ”‚ modules3.jsâ”‚â”‚ app.jsâ”‚ package-lock.jsonâ”‚ package.json modulesçš„æ–‡ä»¶ 1234567891011121314151617181920212223242526272829303132module1.js// ä½¿ç”¨module.exports = valuemodule.exports = &#123; msg:"module1", foo()&#123; console.log("foo() " + this.msg); &#125;&#125;module2.js// ä½¿ç”¨module.exports = valuemodule.exports = function () &#123; console.log("foo() module2");&#125;module3.js// ä½¿ç”¨exports.xxx = valueexports.foo = function()&#123; console.log("foo() module3");&#125;exports.bar = function() &#123; console.log("bar() module3");&#125;// æš´éœ²ä¸€ä¸ªæ•°ç»„å‡ºå»exports.arr = [1,2,3,4,5,2,3,1,2,4]; app.jsä¸»é…ç½®æ–‡ä»¶ ä½¿ç”¨node app.jsè¿è¡Œ 1234567891011121314151617181920app.js// æå‰å¼•å…¥ç¬¬ä¸‰æ–¹åº“// å¼•å…¥uniqlet uniq = require("uniq");// å°†å…¶ä»–æ¨¡å—æ±‡æ€»åˆ°ä¸»æ¨¡å—let module1 = require("./modules/modules1");let module2 = require("./modules/modules2");let module3 = require("./modules/modules3");module1.foo(); // foo() module1module2(); // foo() module2module3.foo(); // foo() module3module3.bar(); // bar() module3console.log(module3.arr); // [ 1, 2, 3, 4, 5, 2, 3, 1, 2, 4 ]let result = uniq(module3.arr);console.log(module3.arr); // [ 1, 2, 3, 4, 5 ] åœ¨æœåŠ¡ç«¯è¿è¡Œçš„æ—¶å€™ è¯­æ³•ç›¸å¯¹ç®€å•ï¼Œè¦æ³¨æ„ç¬¬ä¸‰æ–¹åº“è¦æ”¾åœ¨æœ€å¼€å§‹çš„åœ°æ–¹ï¼Œå› å…¥åº“å†™åå­—å°±å¯ä»¥ CommonJS-Browserify(å®¢æˆ·ç«¯) é¦–å…ˆéƒ¨ç½²å‡ºæ–‡ä»¶çš„ç»“æ„ 12345678910â”œâ”€jsâ”‚ â”œâ”€distâ”‚ â””â”€srcâ”‚ app.jsâ”‚ modules1.jsâ”‚ modules2.jsâ”‚ modules3.jsâ”‚â”‚ package-lock.jsonâ”‚ package.json modulesçš„æ–‡ä»¶ 1234567891011121314151617181920212223242526272829303132module1.js// ä½¿ç”¨module.exports = valuemodule.exports = &#123; msg:"module1", foo()&#123; console.log("foo() " + this.msg); &#125;&#125;module2.js// ä½¿ç”¨module.exports = valuemodule.exports = function () &#123; console.log("foo() module2");&#125;module3.js// ä½¿ç”¨exports.xxx = valueexports.foo = function()&#123; console.log("foo() module3");&#125;exports.bar = function() &#123; console.log("bar() module3");&#125;// æš´éœ²ä¸€ä¸ªæ•°ç»„å‡ºå»exports.arr = [1,2,3,4,5,2,3,1,2,4]; app.jsæ–‡ä»¶ 123456789101112131415161718// æå‰å¼•å…¥ç¬¬ä¸‰æ–¹åº“// å¼•å…¥uniqlet uniq = require("uniq");// å°†å…¶ä»–æ¨¡å—æ±‡æ€»åˆ°ä¸»æ¨¡å—let module1 = require("./modules/modules1");let module2 = require("./modules/modules2");let module3 = require("./modules/modules3");module1.foo();module2();module3.foo();module3.bar();console.log(module3.arr);let result = uniq(module3.arr);console.log(module3.arr); æ‰“åŒ…å¤„ç†jsbrowserify js/src/app.js -o js/dist/bundle.js åœ¨ é¡µé¢å¼•å…¥ ï¼ˆè¿è¡Œç»“æœä¸ä¹‹å‰ç›¸åŒï¼‰ 1&lt;script type="text/javascript" src="js/dist/bundle.js" &gt;&lt;/script&gt; åœ¨å®¢æˆ·ç«¯è¿è¡Œçš„æ—¶å€™ï¼Œè¦æ”¾åˆ°distç”Ÿæˆç¯å¢ƒçš„æ–‡ä»¶å¤¹ï¼Œè¦è¿›è¡Œæ‰“åŒ…å¤„ç†æ‰èƒ½å˜æˆæµè§ˆå™¨è¯†åˆ«çš„æ–‡ä»¶]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSæ¨¡å—åŒ–ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2019%2F02%2F05%2FJS%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%88%E4%B8%80%EF%BC%89%2F</url>
    <content type="text"><![CDATA[jså‘å±•å†å² å…¨å±€functionçš„æ–¹å¼12345678910module.jsfunction foo () &#123; console.log("foo() "); &#125;function bar()&#123; console.log("bar() ");&#125; 1&lt;script type="text/javascript" src="module.js" &gt;&lt;/script&gt; è¿™ç§æ–¹å¼è™½ç„¶å¸¦æ¥äº†ç®€ä¾¿æ–¹å¼ï¼Œä½†æ˜¯ä¸€å®šç¨‹åº¦ä¸Šé€ æˆäº†å‘½åå†²çªçš„é—®é¢˜ï¼Œå¹¶ä¸”åœ¨åæœŸéš¾ä»¥ç»´æŠ¤ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒä¸¥é‡çš„é—®é¢˜ï¼Œæ±¡æŸ“å…¨å±€å˜é‡ é‡‡ç”¨namespaceçš„æ–¹å¼12345678module.jslet obj = &#123; msg : "module", foo()&#123; console.log("foo()" + this.msg); &#125;&#125; 123456&lt;script type="text/javascript" src="module.js" &gt;&lt;/script&gt;&lt;script type="text/javascript"&gt; obj.foo(); // foo()module obj.msg = "namespace"; obj.foo(); // foo()namespace&lt;/script&gt; è¿™ç§æ–¹å¼è™½ç„¶è§£å†³äº†å‘½åå†²çªçš„é—®é¢˜ï¼Œä½†æ˜¯ä¸å®‰å…¨ï¼Œç”±äºä½¿ç”¨å¯¹è±¡è¿›è¡Œå°è£…ï¼Œæ‰€ä»¥ä»ç„¶å¯ä»¥ä¿®æ”¹å¯¹è±¡ä¸­çš„å†…å®¹ é‡‡ç”¨IIFEçš„æ–¹å¼1234567891011module.js// é‡‡ç”¨é—­åŒ…çš„æ–¹å¼ IIFE(function (window) &#123; let msg = "module"; function foo()&#123; console.log("foo() " + msg); &#125; // æš´éœ²å‡ºå»å¯¹è±¡ window.obj = &#123;foo&#125;;&#125;)(window) 1234567&lt;script type="text/javascript" src="module.js" &gt;&lt;/script&gt;&lt;script type="text/javascript"&gt; msg = "IIFE"; // æ­¤æ—¶ä¸ºéšå¼å…¨å±€å˜é‡ obj.foo(); // foo() module obj.msg = "IIFE"; // ç”±äºå­˜åœ¨äº†é—­åŒ…ï¼Œä¿®æ”¹çš„å¹¶ä¸æ˜¯é‚£ä¸€ä¸ªæ•°æ® obj.foo(); // foo() module&lt;/script&gt; è¿™ç§æ–¹å¼é€šè¿‡å…¨å±€å˜é‡ä¼ é€’å‡ºå»æ¨¡å—åç§°ï¼Œè€Œä¸”é‡‡ç”¨äº†ç«‹å³æ‰§è¡Œå‡½æ•°ç›¸å¯¹æ•°æ®è¾ƒå®‰å…¨ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒå¥½çš„ä¸€ç§æ¨¡å—å®šä¹‰æ–¹å¼ é‡‡ç”¨IIFE-å¼•å…¥ä¾èµ–çš„æ–¹å¼ è¿™ç§æ–¹å¼æ˜¯IIFEçš„å¢å¼ºæ¨¡å¼ï¼Œç”±IIFEå‘å±•è€Œæ¥ï¼Œä¹Ÿæ˜¯ä»Šåçš„jsæ¨¡å—åŒ–çš„ä¸€ç§æ ‡å‡†1234567891011module.js(function (window,$) &#123; let msg = "module"; function foo () &#123; console.log("foo() " + msg); &#125; window.obj = &#123;foo&#125;; // æ­¤æ—¶å¼•å…¥ç¬¬ä¸‰æ–¹åº“çš„æ–¹æ³• $("body").css("background","deeppink");&#125;)(window,jQuery) 12345&lt;script type="text/javascript" src="jquery-1.11.0.js" &gt;&lt;/script&gt;&lt;script type="text/javascript" src="module.js" &gt;&lt;/script&gt;&lt;script type="text/javascript"&gt; obj.foo(); // foo() module&lt;/script&gt; è¿™æ˜¯åœ¨IIFEä¸Šå‘å±•è€Œæ¥çš„ä¸€ç§æ–¹å¼ï¼Œå¼•å…¥äº†ç¬¬ä¸‰æ–¹çš„ä¾èµ–ï¼Œä½†æ˜¯ç”±äºæœ‰ä¾èµ–å…³ç³»ï¼Œä¸€å®šè¦æ³¨æ„å¼•å…¥çš„é¡ºåºï¼Œç”±äºmodule.jså¼•å…¥äº†jquery,æ‰€ä»¥jqueryè¦å…ˆè¢«è§£æ ä¼ ç»Ÿçš„ç›¸äº’ä¾èµ–æ¼”ç¤º æ–‡ä»¶çš„ç»“æ„ 123456â””â”€js alerter.js dataService.jsâ”‚â”‚ app.jsâ”‚ index.html moduleçš„æ–‡ä»¶ 1234567891011121314151617181920212223dataService.js// å®šä¹‰ä¸€ä¸ªæ²¡æœ‰ä¾èµ–çš„æ¨¡å—(function (window) &#123; let name = "dataService.js"; function getName()&#123; return name; &#125; // æš´éœ²å‡ºå» window.dataService = &#123;getName&#125;;&#125;)(window)alerter.js// å®šä¹‰ä¸€ä¸ªæœ‰ä¾èµ–çš„æ¨¡å—(function (window,dataService) &#123; let msg = "alerter.js"; function showMsg()&#123; console.log(msg, dataService.getName()); &#125; // æš´éœ²å‡ºå» window.alerter = &#123;showMsg&#125;;&#125;)(window,dataService) app.jsçš„ä¸»æ–‡ä»¶ 123456app.js// ç›´æ¥è°ƒç”¨alerter.js(function (alerter) &#123; alerter.showMsg(); // alerter.js dataService.js&#125;)(alerter) htmlæ–‡ä»¶ 123&lt;script type="text/javascript" src="js/dataService.js" &gt;&lt;/script&gt;&lt;script type="text/javascript" src="js/alerter.js" &gt;&lt;/script&gt;&lt;script type="text/javascript" src="app.js" &gt;&lt;/script&gt; ç”±äºä»–ä»¬ä¹‹é—´äº§ç”Ÿäº†ä¾èµ–å…³ç³» æ‰€ä»¥ä¸€å®šè¦å¼„æ¸…æ¥šä¹‹é—´çš„å…³ç³»ï¼Œå¼•å…¥é¡ºåºå¾ˆé‡è¦ åœ¨è¿™äº›ä¼ ç»Ÿçš„æ–¹å¼ä¸Šäº§ç”Ÿäº†ä¸€äº›å¼•å…¥jsçš„æ ‡å‡† CommonJS AMD CMD(ç›®å‰ä½¿ç”¨ä¸å¹¿æ³›) ES6æ¥ä¸‹æ¥ä¼šåˆ†åˆ«ä»‹ç» CommonJS,AMDï¼ŒES6å¼•å…¥ä¾èµ–çš„æ–¹å¼]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2019-ç¥è‡ªå·±]]></title>
    <url>%2F2019%2F02%2F05%2F2019-%E7%A5%9D%E8%87%AA%E5%B7%B1%2F</url>
    <content type="text"><![CDATA[å…³äºæ–°å¹´åšè‡ªå·±å®ˆæŠ¤è€…ï¼Œæ„¿è‡ªå·±ï¼Œèº«ä½“å¥åº·ã€‚(å›¾æºï¼šåŒ…å›¾ç½‘)]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[h5è¯­ä¹‰åŒ–æ ‡ç­¾åŠå…¶å…¼å®¹æ€§è§£å†³]]></title>
    <url>%2F2019%2F01%2F26%2Fh5%E8%AF%AD%E4%B9%89%E5%8C%96%E6%A0%87%E7%AD%BE%E5%8F%8A%E5%85%B6%E5%85%BC%E5%AE%B9%E6%80%A7%E8%A7%A3%E5%86%B3%2F</url>
    <content type="text"><![CDATA[html5çš„è¯­ä¹‰åŒ–æ ‡ç­¾ç¡®å®ä¸ºæˆ‘ä»¬å¸¦æ¥äº†è®¸å¤šæ–¹ä¾¿ï¼Œä½†æ˜¯å¦‚ä½•è§£å†³ä»–çš„å…¼å®¹æ€§ä»£ç ä¹Ÿæ˜¯éœ€è¦æˆ‘ä»¬å»è§£å†³çš„ï¼Œç®€å•åˆ†æä¸€ä¸‹h5çš„ç›¸å…³ä½¿ç”¨ h5å¸¦æ¥äº†å“ªäº›å¥½å¤„ æ¯”è¾ƒåˆ©äºå¼€å‘äººå‘˜ä½¿ç”¨,ä¸éœ€è¦å»ä»”ç»†é˜…è¯»æ¯ä¸€ä¸ªç±»ï¼Œå°±å¯ä»¥è¾ƒä¸ºæ¸…æ¥šåœ°åˆ†æå‡ºç½‘é¡µçš„æ•´ä½“ç»“æ„ã€‚ åˆ©äºSEO-æœç´¢å¼•æ“ä¼˜åŒ–,æœç´¢å¼•æ“ä¹Ÿè¦åˆ†ææˆ‘ä»¬çš„ç½‘é¡µï¼Œå½“æ—¶ç”¨äº†h5çš„æ—¶å€™ï¼Œä»–ä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿çš„å¯»æ‰¾å‡ºç½‘é¡µçš„é‡ç‚¹éƒ¨åˆ†ï¼Œæ’åé å‰ã€‚ (å·¦ä¸ºh5 å³ä¸ºä¼ ç»Ÿç½‘é¡µ) h5å¸¦æ¥çš„é—®é¢˜ æœ€å¤§å°±æ˜¯å…¼å®¹æ€§ï¼Œåœ¨IE8åŠå…¶ä»¥å‰æ˜¯ä¸æ”¯æŒh5çš„ï¼Œå¹¶ä¸”ä¼šå°†å…¶è§£æä¸ºè¡Œé—´å…ƒç´ ï¼Œæ¶‰åŠåˆ°h5æ ‡ç­¾(åŒ…æ‹¬h5çš„ç›¸å…³api)ï¼Œä»¥åŠå¤§éƒ¨åˆ†çš„css3å±æ€§ IE9çš„æ˜¾ç¤ºæ•ˆæœ IE8çš„æ˜¾ç¤ºæ•ˆæœï¼Œï¼ˆIE8æ˜¯å°†å…¶è½¬æ¢ä¸ºè¡Œé—´å…ƒç´ è¿›è¡Œè§£æï¼‰ å¦‚ä½•è§£å†³å…¼å®¹æ€§é—®é¢˜ é¦–å…ˆä½¿ç”¨jsåˆ›å»ºå…ƒç´ ï¼Œdocument.createElement(&#39;header&#39;) è®¾ç½®å…¶cssçš„displayï¼šblock åœ¨è¿™é‡Œå¯ä»¥ä½¿ç”¨html5shiv.jsè¿™ä¸ªæ’ä»¶æ¥å¸®æˆ‘ä»¬å®Œæˆ,éœ€è¦æ³¨æ„çš„ä¸€ç‚¹ï¼Œæ­¤å¤„æˆ‘ä»¬éœ€åœ¨ç½‘é¡µçš„æœ€å¼€å§‹å¼•å…¥æ­¤jsæ–‡ä»¶ å¦‚ä½•åˆ¤æ–­æˆ‘ä»¬æ˜¯å¦éœ€è¦å»å¼•å…¥è¯¥æ’ä»¶ å› ä¸ºåªæœ‰IE8åŠå…¶ä»¥å‰çš„ç‰ˆæœ¬éœ€è¦å¤„ç†ï¼Œé‚£åœ¨å…¶ä»–çš„æµè§ˆå™¨ä¸‹å°±æ˜¯ä¸å¤ªéœ€è¦çš„æ“ä½œ ï¼ˆXï¼‰ä½¿ç”¨jsçš„userAgentæ¥è¿›è¡Œåˆ¤æ–­,åº”ä¸ºæˆ‘ä»¬éœ€è¦æœ€å¼€å§‹æ¥åŠ è½½ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨jsçš„æ–¹å¼æ¥åˆ¤æ–­ ï¼ˆâˆšï¼‰ä½¿ç”¨æ¡ä»¶æ³¨é‡Šçš„æ–¹å¼æ¥è¿›è¡Œåˆ¤æ–­ 123&lt;!--[if lt IE 9]&gt; &lt;h1&gt;æ‚¨çš„æµè§ˆå™¨ç‰ˆæœ¬è¿‡ä½ï¼Œè¯·åŠæ—¶æ›´æ–°æ‚¨çš„æµè§ˆå™¨&lt;/h1&gt;&lt;![endif]--&gt; (è¿™é‡Œ lt&lt; lte&lt;= gt&gt; gte&gt;=) å¤„ç†å…¼å®¹æ€§çš„ä»£ç  123&lt;!--[if lt IE 9]&gt; &lt;script src="bower_components/html5shiv/dist/html5shiv.js"&gt;&lt;/script&gt;&lt;![endif]--&gt;]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[loadingè¿‡æ¸¡åŠ¨ç”»çš„ä½¿ç”¨]]></title>
    <url>%2F2019%2F01%2F18%2Floading%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨loadingç›¸å…³æ’ä»¶ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ åœ¨ä½¿ç”¨ajaxåˆ·æ–°æ•°æ®çš„æ—¶å€™ï¼Œä¸­é—´çš„é—´éš”å¯ä»¥ä½¿ç”¨ä¸€äº›è¿‡æ¸¡åŠ¨ç”»å¢åŠ ç”¨æˆ·ä½“éªŒ é¦–å…ˆé€‰ç”¨ä¸€äº›åŠ¨ç”»æ’ä»¶ æ¯”å¦‚æ­¤å¤„çš„http://loading.awesomes.cn/æ‰¾åˆ°è¦ä½¿ç”¨çš„æ ·å¼ æ’å…¥ç›¸å…³çš„ä»£ç ï¼Œè¿™é‡Œå¯ä»¥å•ç‹¬åˆ—å‡ºæ–‡ä»¶æ•´åˆèµ·æ¥ htmlä»£ç  123456&lt;!--loadingåŠ¨ç”»--&gt;&lt;div class="ball-pulse-sync" style="display: none"&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt;&lt;/div&gt; cssä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142 /*loadingåŠ¨ç”»çš„æ ·å¼è¡¨*/.ball-pulse-sync &#123; transform: scale(1);&#125;.ball-pulse-sync &gt; div:nth-child(1) &#123; -webkit-animation: ball-pulse-sync 0.6s -0.14s infinite ease-in-out; animation: ball-pulse-sync 0.6s -0.14s infinite ease-in-out;&#125;.ball-pulse-sync &gt; div:nth-child(2) &#123; -webkit-animation: ball-pulse-sync 0.6s -0.07s infinite ease-in-out; animation: ball-pulse-sync 0.6s -0.07s infinite ease-in-out;&#125;.ball-pulse-sync &gt; div:nth-child(3) &#123; -webkit-animation: ball-pulse-sync 0.6s 0s infinite ease-in-out; animation: ball-pulse-sync 0.6s 0s infinite ease-in-out;&#125;.ball-pulse-sync &gt; div &#123; background-color: #fff; width: 15px; height: 15px; border-radius: 100%; margin: 2px; -webkit-animation-fill-mode: both; animation-fill-mode: both; display: inline-block;&#125;@keyframes ball-pulse-sync &#123; 33% &#123; -webkit-transform: translateY(10px); transform: translateY(10px); &#125; 66% &#123; -webkit-transform: translateY(-10px); transform: translateY(-10px); &#125; 100% &#123; -webkit-transform: translateY(0); transform: translateY(0); &#125;&#125; è®¾ç½®å…¶å…ƒç´ æ˜¾ç¤ºçš„æ—¶æœºï¼Œè¿™é‡Œæä¾›ä¸€ç§å¯ä»¥å±…ä¸­çš„æ–¹å¼ cssä»£ç  123456789101112.ball-pulse-sync&#123; display: flex; /*ä½¿ç”¨flexå¸ƒå±€*/ align-items: center; /*å±…ä¸­*/ justify-content: center; /*å±…ä¸­*/ position: fixed; /*å›ºå®šäºæµè§ˆå™¨*/ z-index: 1001; /*è®¾å®šå±‚çº§*/ background: rgba(0,0,0,.7); /*èƒŒæ™¯è‰²*/ left: 0; right: 0; top: 0; bottom: 0; &#125; å¯ä»¥ä½¿ç”¨jqueryçš„ fadeIn() ä¸ fadeOut() æ–¹æ³• åœ¨&lt;div style=&quot;display:none&quot;&gt;Â·Â·Â·&lt;/div&gt; ä¹‹æ‰€ä»¥è®¾ç½®display:none æ˜¯ä¸ºäº†æ·¡å…¥æ·¡å‡ºå¯ä»¥æ¢å¤ display:flewçš„ç‰¹æ€§ï¼ˆjQueryé»˜è®¤æ˜¯display:blockï¼‰ æ•ˆæœå›¾ å…¶å®ä½¿ç”¨è¿™ç§è¿›åº¦æ¡ï¼Œæˆ–æ˜¯åŠ è½½å‡½æ•°éƒ½æ˜¯ä¸€ç§è¡¨é¢çš„ä¸œè¥¿ï¼Œå…¶å†…éƒ¨æ˜¯ä¸€äº›å‡½æ•°ï¼Œä¼šèµ°çš„è¶Šæ¥è¶Šæ…¢ï¼Œå½“åŠ è½½å®Œæ¯•çš„æ—¶å€™ä¸€ä¸‹å­èµ°é€šï¼Œé€ æˆäº†ä¸€ç§è¿›åº¦æ¡çš„æ„Ÿè§‰ï¼Œå®é™…æ˜¯ajaxå¼€å§‹ä¸€ä¸ªåŠ¨ä½œï¼Œç»“æŸä¸€ä¸ªåŠ¨ä½œ// jQueryä¸­çš„ç»Ÿä¸€ajax $(document).ajaxStart(function(){ // ajaxå¼€å§‹çš„ä»£ç  }).ajaxStop(function(){ // ajaxç»“æŸçš„ä»£ç  });]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¢¦Â·ä¹¦Â·ç”µå½±]]></title>
    <url>%2F2018%2F12%2F25%2F%E6%A2%A6%C2%B7%E4%B9%A6%C2%B7%E7%94%B5%E5%BD%B1%2F</url>
    <content type="text"><![CDATA[æƒ³è¦æŠŠè‡ªå·±æ´»æˆä¸€åœºæ¢¦ï¼Œä¸€æœ¬ä¹¦,ä¸€æ­¥ç”µå½±ã€‚ â€“ é½ä¸€ 00ï¼š20å¹³å®‰å¤œï¼Œeveryone,ç¥å¹³å®‰ï¼Œå¿«ä¹ï¼Œæ¯ä¸ªäººéƒ½ä¼šå¾—åˆ°æƒ³è¦çš„ï¼åŠ æ²¹ï¼]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¯èƒ½å¦]]></title>
    <url>%2F2018%2F12%2F08%2F%E5%8F%AF%E8%83%BD%E5%90%A6%2F</url>
    <content type="text"><![CDATA[å¯èƒ½å¦æ˜¥å¤©çš„é£ èƒ½å¦å¹æ¥å¤å¤©çš„é›¨ ç§‹å¤©çš„æœˆ èƒ½å¦ç…§äº®å†¬å¤©çš„é›ª å¤œç©ºçš„æ˜Ÿ èƒ½å¦è½å‘æ™¨æ›¦çš„æµ· å±±é—´çš„æ³‰ èƒ½å¦é‡ä¸Šå—é£çš„é› èƒ½å¦æ—©ä¸€ç‚¹ çœ‹é€å‘½è¿çš„ä¼çº¿ èƒ½å¦ä¸è½»æ˜“å°±æ·±é™· èƒ½å¦æ…¢ä¸€ç‚¹ æŒ¥éœæœ‰é™çš„æ—¶é—´ èƒ½å¦è®¸æˆ‘ä¸€ä¸ªæ°¸è¿œ å¯èƒ½æˆ‘æ’äº†å—å¢™æ‰ä¼šå›å¤´å§ å¯èƒ½æˆ‘è§äº†é»„æ²³æ‰ä¼šæ­»å¿ƒå§ å¯èƒ½æˆ‘åè¦ä¸€æ¡è·¯èµ°åˆ°é»‘å§ å¯èƒ½æˆ‘è¿˜æ²¡é‡è§ é‚£ä¸ªå¥¹å§ æ–­æ‰çš„å¼¦ èƒ½å¦æ‰¯ç ´è‡ªç¼šçš„èŒ§ ç†„ç­çš„ç« èƒ½å¦çƒ§å…‰æ®‹ç•™çš„å¿µ æ¢¦ä¸­çš„äº‘ èƒ½å¦åŒ–ä½œç†Ÿæ‚‰çš„è„¸ å‰ä¸–çš„åŠ« èƒ½å¦æ¢æ¥ä»Šç”Ÿçš„ç¼˜ èƒ½å¦æ—©ä¸€ç‚¹ ç›¸ä¿¡å¹´å°‘çš„èª“è¨€ èƒ½å¦ä¸è½»æ˜“è¯´å†è§ èƒ½å¦æ…¢ä¸€ç‚¹ æ„Ÿå—å²æœˆçš„ç¼±ç»» èƒ½å¦è®¸æˆ‘ä¸€æ¬¡æˆå…¨ å¯èƒ½æˆ‘æ’äº†å—å¢™æ‰ä¼šå›å¤´å§ å¯èƒ½æˆ‘è§äº†é»„æ²³æ‰ä¼šæ­»å¿ƒå§ å¯èƒ½æˆ‘åè¦ä¸€æ¡è·¯èµ°åˆ°é»‘å§ å¯èƒ½æˆ‘è¿˜æ²¡é‡è§ é‚£ä¸ªå¥¹å§ å¯èƒ½æˆ‘æ’äº†å—å¢™æ‰ä¼šå›å¤´å§ å¯èƒ½æˆ‘è§äº†é»„æ²³æ‰ä¼šæ­»å¿ƒå§ å¯èƒ½æˆ‘åè¦ä¸€æ¡è·¯èµ°åˆ°é»‘å§ å¯èƒ½æˆ‘è¿˜æ²¡é‡è§ é‚£ä¸ªå¥¹å§ å¯èƒ½æˆ‘è¿˜æ²¡å¿˜æ‰ å“ªä¸ªå¥¹å§ å¯èƒ½å¦ â€“ æœ¨å°é›… 2018-12-08 æ­å· Â· æ­å·ç”µå­ç§‘æŠ€å¤§å­¦ Â· é›ª]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½ æ‰€é­å—çš„è‹¦éš¾ï¼Œéƒ½å°†åœ¨æœªæ¥çš„æŸä¸ªæ—¶åˆ»æ´¾ä¸Šç”¨åœº]]></title>
    <url>%2F2018%2F11%2F26%2F%E4%BD%A0%E6%89%80%E9%81%AD%E5%8F%97%E7%9A%84%E8%8B%A6%E9%9A%BE%EF%BC%8C%E9%83%BD%E5%B0%86%E5%9C%A8%E6%9C%AA%E6%9D%A5%E7%9A%84%E6%9F%90%E4%B8%AA%E6%97%B6%E5%88%BB%E6%B4%BE%E4%B8%8A%E7%94%A8%E5%9C%BA%2F</url>
    <content type="text"><![CDATA[åŠ æ²¹ï¼Œä¸€åˆ‡éƒ½ä¼šè¿‡å»ï¼å¹²ï¼ 2018-11-26&#160; &#160; 23:26 æ­å·Â·æ­å·ç”µå­ç§‘æŠ€å¤§å­¦]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®šåˆ¶bootstrapçš„åˆ—ç›¸å…³]]></title>
    <url>%2F2018%2F11%2F08%2F%E5%AE%9A%E5%88%B6bootstrap%E7%9A%84%E5%88%97%E7%9B%B8%E5%85%B3%2F</url>
    <content type="text"><![CDATA[å¦‚ä½•å®šåˆ¶bsçš„æ …æ ¼ BSï¼ˆbootstrapï¼‰é»˜è®¤æ˜¯ä»¥12åˆ—ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚æœæƒ³å¸ƒå±€5åˆ—çš„è¯ï¼Œå°±æ¯”è¾ƒå›°éš¾äº†ï¼Œ(12/5ä¸èƒ½æ•´é™¤çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¸ƒå±€äº”åˆ—çš„æ—¶å€™ï¼Œä½¿ç”¨åŸç”Ÿçš„bsè¿›è¡Œè°ƒæ•´å°±å¾ˆå›°éš¾äº†)è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨bsçš„å®šåˆ¶åŠŸèƒ½ï¼Œå®šåˆ¶ä¸€ä¸ªæˆ‘ä»¬è‡ªå·±æƒ³è¦çš„åˆ—æ•°ç­‰ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨15åˆ—ä¸ºåŸºç¡€ï¼Œåˆ™æ¯ä¸€åˆ—å 3åˆ— col-sm-3 å»bså®˜ç½‘è¿›è¡Œå®šåˆ¶å¹¶ä¸‹è½½ å®˜ç½‘ ä¸‹è½½ä¹‹åjs,css,font å®Œæˆå®šåˆ¶ä¹‹åï¼Œæˆ‘ä»¬çš„åˆ—å°±å·²ç»å˜æˆäº†15åˆ—ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ­¤æ—¶è¿›è¡Œæ™®é€šçš„æ“ä½œå³å¯ã€‚]]></content>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxçš„åŸºæœ¬æ“ä½œåŠJdk,MySQL,Tomcat]]></title>
    <url>%2F2018%2F10%2F29%2FLinux%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E5%8F%8AJdk-MySQL-Tomcat%2F</url>
    <content type="text"><![CDATA[Linux ä¸­çš„ä¸€äº› å¸¸ç”¨æ“ä½œ ç›®å½•çš„æ“ä½œ åˆ›å»ºæ–‡ä»¶å¤¹ mkdir &lt;name&gt; æŸ¥çœ‹éšè—æ–‡ä»¶ ls -a æŸ¥çœ‹æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ ls -læˆ–è€…æ˜¯ll ä¿®æ”¹ç›®å½•åç§° mv &lt;oldName&gt; &lt;newName&gt; æ‹·è´æ“ä½œ cp -r &lt;src&gt; &lt;dest&gt; åˆ é™¤æ“ä½œ rm -rf &lt;fileName&gt;ä½¿ç”¨æç¤ºrm -r &lt;fileName&gt; åœ¨è¾“å…¥yæˆ–è€…né€‰æ‹©æ˜¯å¦ç¡®å®šåˆ é™¤ æ–‡ä»¶çš„æ“ä½œ cat &lt;fileName&gt; æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„æœ€åä¸€å±å¹• more &lt;fileName&gt; æŸ¥çœ‹æ–‡ä»¶çš„æ‰€æœ‰ï¼Œå›è½¦æ˜¯ä¸€è¡Œ ç©ºæ ¼ä¸‹ä¸€é¡µ less &lt;fileName&gt; æŸ¥çœ‹æ–‡ä»¶é¡µçš„å½¢å¼ï¼Œä½¿ç”¨ä¸Šä¸‹é¡µæŸ¥çœ‹ï¼ŒPageUpé”®å‘ä¸Š PageDowné”®å‘ä¸‹ qç»“æŸæŸ¥çœ‹ tail -&lt;n&gt; &lt;filename&gt; æŸ¥çœ‹æ–‡ä»¶çš„ånè¡Œ tail -f &lt;fileName&gt; æŸ¥çœ‹æ–‡ä»¶çš„æ—¥å¿— ll -h æŸ¥çœ‹æ–‡ä»¶çš„å¤§å° æ–‡ä»¶çš„ç¼–è¾‘ ä½¿ç”¨viæˆ–è€…vimè¿›å…¥æ–‡æœ¬ç¼–è¾‘å™¨ i,oè¿›è¡Œæ–‡æœ¬ç¼–è¾‘ :wqä¿å­˜å¹¶é€€å‡º writeQuit :q ä¸ä¿å­˜é€€å‡º quit æ–‡ä»¶çš„å‹ç¼©(taråªæ˜¯æ‰“åŒ…å‘½ä»¤ æ–‡ä»¶å¤§å°æ²¡æœ‰å¤šå°‘åŒºåˆ« .tar.gzæ˜¯åŠ å…¥gzipæŒ‡ä»¤ï¼Œä¼šå‹ç¼©å­˜æ”¾) -c: å»ºç«‹å‹ç¼©æ¡£æ¡ˆ -xï¼šè§£å‹ -tï¼šæŸ¥çœ‹å†…å®¹ -rï¼šå‘å‹ç¼©å½’æ¡£æ–‡ä»¶æœ«å°¾è¿½åŠ æ–‡ä»¶ -uï¼šæ›´æ–°åŸå‹ç¼©åŒ…ä¸­çš„æ–‡ä»¶ ä¸€äº›å¯é€‰æŒ‡ä»¤æ›´åœ¨åé¢å³å¯ -zï¼šæœ‰gzipå±æ€§çš„ -jï¼šæœ‰bz2å±æ€§çš„ -Zï¼šæœ‰compresså±æ€§çš„ -vï¼šæ˜¾ç¤ºæ‰€æœ‰è¿‡ç¨‹ -Oï¼šå°†æ–‡ä»¶è§£å¼€åˆ°æ ‡å‡†è¾“å‡º -f: ä½¿ç”¨æ¡£æ¡ˆåå­—ï¼Œå¿…é¡»æ”¾åœ¨æœ€å æ“ä½œ å‹ç¼© tar -cvf &lt;tarName&gt;.tar *.jpg è¿›æ‰€æœ‰jpgå‹ç¼©è¿›tarName.tar tar â€“czf &lt;tarName&gt;.tar.gz *.jpg æ‰“æˆgzåŒ… tar â€“cjf &lt;tarName&gt;.tar.bz2 *.jpg æ‰“æˆbz2åŒ…ï¼ˆbz2å‹ç¼©æ¯”é«˜ä¸€äº›ï¼‰ tar â€“cZf jpg.tar.Z *.jpg æ‰“æˆZåŒ… æ“ä½œ è§£å‹ tar â€“xvf &lt;fileName&gt;.tar è§£å‹taråŒ… tar -xzvf &lt;fileName&gt;.tar.gz è§£å‹tar.gz tar -xjvf file.tar.bz2 è§£å‹ tar.bz2 tar â€“xZvf file.tar.Zè§£å‹tar.Z&lt;!â€“æš‚æ—¶æœ‰ä¸€äº›é—®é¢˜ æ–‡ä»¶æƒé™çš„ä¿®æ”¹ rè¯»æƒé™ wå†™æƒé™ x æ“ä½œæƒé™ chmod u=--- g=--- o=--- &lt;fileName&gt;ä¿®æ”¹æ–‡ä»¶çš„æƒé™ï¼Œè¦åˆ†ä¸‰ç»„æ¥çœ‹ â€“&gt; ç³»ç»Ÿç®¡ç†å‘½ä»¤ æŸ¥çœ‹æ—¶é—´date è®¾ç½®æ—¶é—´date -s &quot;yyyy-MM-dd HH:mm:ss&quot; æŸ¥çœ‹åˆ†åŒºæƒ…å†µ dfæŸ¥çœ‹xxGæˆ–è€…xxM df -h æ˜¾ç¤ºå†…å­˜ free æŸ¥çœ‹xxGæˆ–è€…xxM free -h æ¸…å± clear æ˜¾ç¤ºç™»å½•æ—¥å¿—ä¿¡æ¯ who æ˜¾ç¤ºä¸»æœºåç§° hostname ç³»ç»Ÿä¿¡æ¯ uname è¯¦ç»†ä¿¡æ¯ uname -a å…¶ä»–ä¸€äº›æŒ‡ä»¤ pwd æŸ¥çœ‹å½“å‰æ–‡ä»¶ç›®å½• grep &lt;keyword&gt; &lt;fileName&gt; --coloråœ¨fileNameä¸­æŸ¥çœ‹keywordå…³é”®å­—å¹¶ä¸”é«˜äº® ps -efæŸ¥çœ‹å½“å‰çš„è¿›ç¨‹ kill -9 &lt;pId&gt;å¹²æ‰è¿›ç¨‹ netstat -anæŸ¥çœ‹ç«¯å£çš„ä½¿ç”¨æƒ…å†µ å‘½ä»¤çš„é€»è¾‘ &amp;&amp;å’Œç¼–ç¨‹ä¸­ä¸€æ ·ï¼Œé€»è¾‘ä¸ &lt;command1&gt; &amp;&amp; &lt;command2&gt; å‘½ä»¤1æ‰§è¡ŒæˆåŠŸ åæ‰§è¡Œ å‘½ä»¤2 å‘½ä»¤1æ‰§è¡Œå¤±è´¥ ä¸æ‰§è¡Œ å‘½ä»¤2 ||å’Œç¼–ç¨‹ä¸­ç±»ä¼¼æœ‰çŸ­è·¯æ•ˆæœ&lt;command1&gt; || &lt;command2&gt; å‘½ä»¤1æ‰§è¡ŒæˆåŠŸ ä¸æ‰§è¡Œ å‘½ä»¤2 å‘½ä»¤1æ‰§è¡Œå¤±è´¥ åæ‰§è¡Œ å‘½ä»¤2 åˆ›å»ºä¸€ä¸ªå…¬å…±çš„æ–‡ä»¶å¤¹ ä¾›Vmå…±äº«çš„æ–‡ä»¶å¤¹ æ‰“å¼€Vmä¸­çš„å…±äº«æ–‡ä»¶å¤¹ æ ¹ç›®å½•ä¸‹mnt/hgfs/å¯çœ‹åˆ°æˆ‘ä»¬åˆšåˆšè®¾ç½®çš„å…¬å…±æ–‡ä»¶å¤¹ æœåŠ¡ rpm -qa | grep &lt;keywords&gt; æŸ¥çœ‹æœåŠ¡ rpm -e --nodeps &lt;name&gt; åˆ é™¤ç›¸å…³æœåŠ¡ å®‰è£…JDKçš„æ“ä½œ rpm -qa | grap javaæŸ¥è¯¢æ˜¯å¦å®‰è£…äº†jdk è§£å‹jdk tar -zxvf &lt;jdkName.tar.gz&gt; é…ç½® /etc/profileä¸­æ–‡ä»¶vi /etc/profile æ·»åŠ å¦‚ä¸‹çš„æ“ä½œï¼Œæ³¨æ„æ­¤å¤„çš„/usr/java/xxx/jdkxxx(ä¸‹ä¸€å±‚å°±æœ‰binäº†ï¼ŒåŒæ—¶è¿™ä¸ªæ–‡ä»¶å¤¹ä¹Ÿæ˜¯åˆšåˆšè§£å‹å‡ºæ¥çš„) #java environment export JAVA_HOME=/usr/java/&lt;directoryName&gt; export CLASSPATH=.:${JAVA_HOME}/jre/lib/rt.jar:${JAVA_HOME}/lib/dt.jar:${JAVA_HOME}/lib/tools.jar` export PATH=$PATH:${JAVA_HOME}/bin æœ€åsource /etc/profile å®‰è£…MySQLçš„æ“ä½œ(ä¸€å®šè¦æ³¨æ„è·¯å¾„çš„ä¿®æ”¹ software/æ–‡ä»¶,data/æ•°æ®åº“) åˆ›å»ºæ–‡ä»¶å¤¹(å¯æ ¹æ®éœ€æ±‚å®šåˆ¶) æ–°å»ºæ–‡ä»¶å¤¹ xxx/mysql/software/MySQLç¨‹åº æ–°å»ºæ–‡ä»¶å¤¹ xxx/mysql/data/æ•°æ®åº“æ–‡ä»¶ å¤åˆ¶æ–‡ä»¶è¿‡å» cp æŒ‡ä»¤å¹¶è§£å‹taræŒ‡ä»¤ åˆ›å»ºç”¨æˆ·å’Œç»„ groupadd mysql useradd -r -g mysql mysql å…³è”myqlç”¨æˆ·åˆ°mysqlç”¨æˆ·ç»„ä¸­ #chown -R mysql:mysql /software/mysql/ #chown -R mysql:mysql /data/mysql/ #chown -R mysql /software/mysql/ #chown -R mysql /data/mysql æ›´æ”¹mysqlå®‰è£…æ–‡ä»¶å¤¹mysql/çš„æƒé™ chmod -R 755 /software/mysql/ æ³¨æ„æ ¹æ®éœ€è¦ å®‰è£…libaioyum install libaio è¿›è¡Œæ•°æ®åº“çš„åˆå§‹åŒ–å·¥ä½œ./mysqld --user=mysql --basedir=/software/mysql --datadir=/data/mysql --initialize æ³¨æ„root@localhost: (oiwsWz7-dhcè¿™é‡Œçš„åˆå§‹å¯†ç ï¼åˆ‡è®°ï¼åˆ‡è®°ï¼ ä¿®æ”¹mysqlé…ç½®æ–‡ä»¶vim /software/mysql/support-files/mysql.serverä¿å­˜é€€å‡ºåæ‹·è¿‡å»cp /software/mysql/support-files/mysql.server /etc/init.d/mysqldï¼Œå¹¶æ·»åŠ æƒé™chmod 755 /etc/init.d/mysqld if test -z â€œ$basedirâ€thenbindir=/software/mysql/binif test -z â€œ$datadirâ€thendatadir=/data/mysqlfisbindir=/software/mysql/binlibexecdir=/software/mysql/binelsebindir=â€$basedir/binâ€if test -z â€œ$datadirâ€thendatadir=â€$basedir/dataâ€fisbindir=â€$basedir/sbinâ€libexecdir=â€$basedir/libexecâ€fi ä¿®æ”¹my.cnfæ–‡ä»¶vim /etc/my.cnf [client] no-beep socket =/software/mysql/mysql.sock # pipe # socket=0.0 port=3306 [mysql] default-character-set=utf8 [mysqld] basedir=/software/mysql datadir=/data/mysql port=3306 pid-file=/software/mysql/mysqld.pid #skip-grant-tables skip-name-resolve socket = /software/mysql/mysql.sock character-set-server=utf8 default-storage-engine=INNODB explicit_defaults_for_timestamp = true # Server Id. server-id=1 max_connections=2000 query_cache_size=0 table_open_cache=2000 tmp_table_size=246M thread_cache_size=300 #é™å®šç”¨äºæ¯ä¸ªæ•°æ®åº“çº¿ç¨‹çš„æ ˆå¤§å°ã€‚é»˜è®¤è®¾ç½®è¶³ä»¥æ»¡è¶³å¤§å¤šæ•°åº”ç”¨ thread_stack = 192k key_buffer_size=512M read_buffer_size=4M read_rnd_buffer_size=32M innodb_data_home_dir = /data/mysql innodb_flush_log_at_trx_commit=0 innodb_log_buffer_size=16M innodb_buffer_pool_size=256M innodb_log_file_size=128M innodb_thread_concurrency=128 innodb_autoextend_increment=1000 innodb_buffer_pool_instances=8 innodb_concurrency_tickets=5000 innodb_old_blocks_time=1000 innodb_open_files=300 innodb_stats_on_metadata=0 innodb_file_per_table=1 innodb_checksum_algorithm=0 back_log=80 flush_time=0 join_buffer_size=128M max_allowed_packet=1024M max_connect_errors=2000 open_files_limit=4161 query_cache_type=0 sort_buffer_size=32M table_definition_cache=1400 binlog_row_event_max_size=8K sync_master_info=10000 sync_relay_log=10000 sync_relay_log_info=10000 #æ‰¹é‡æ’å…¥æ•°æ®ç¼“å­˜å¤§å°ï¼Œå¯ä»¥æœ‰æ•ˆæé«˜æ’å…¥æ•ˆç‡ï¼Œé»˜è®¤ä¸º8M bulk_insert_buffer_size = 64M interactive_timeout = 120 wait_timeout = 120 log-bin-trust-function-creators=1 sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES&lt;br/ # # include all files from the config directory # !includedir /etc/my.cnf.d å¯åŠ¨/etc/init.d/mysqld start ç™»å½•mysql/software/mysql/bin/mysql -u root â€“p p ä¸ºä¸Šä¸€æ­¥çš„ä¸´æ—¶å¯†ç  (oiwsWz7-dhc æœ€åè¿›å…¥mysqlä¿®æ”¹åˆå§‹å¯†ç å³å¯ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;æ–°å¯†ç &#39;##Tomcatçš„å®‰è£…## è§£å‹tomcatå¹¶æ”¾åˆ°æ‰€éœ€çš„æ–‡ä»¶å¤¹ä¸‹ æ‰“å¼€é˜²ç«å¢™çš„8080ç«¯å£ï¼ˆä¹Ÿå¯æ‰“å¼€80ç«¯å£ï¼‰ firewall-cmd --zone=public --add-port=8080/tcp --permanent 8080port firewall-cmd --zone=public --add-port=80/tcp --permanent 80port firewall-cmd --reloadé‡å¯é˜²ç«å¢™ æ‰“å¼€æœåŠ¡å™¨å³å¯ tomcat/binç›®å½•ä¸‹çš„ å¼€å¯./startup.sh å…³é—­ ./shutdown.sh]]></content>
      <tags>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸ºä½ æˆ‘å—å†·é£å¹]]></title>
    <url>%2F2018%2F10%2F20%2F%E4%B8%BA%E4%BD%A0%E6%88%91%E5%8F%97%E5%86%B7%E9%A3%8E%E5%90%B9%2F</url>
    <content type="text"><![CDATA[ç¬¬ä¸€æ¬¡ç”¨è‡ªå·±çš„åŠ›é‡åšå…¬ç›Šï¼ æµ™æ±ŸÂ·æ­å·è¾°æ˜Ÿå„¿ç«¥æ—©æœŸå¹²é¢„ä¸­å¿ƒ è®°ä¸€æ¬¡å…¬ç›Šå¢™ç»˜è¡Œï¼ å¾®ä¿¡æ¨æ–‡ &#160; &#160; &#160; &#160;ç»è¿‡äº†ä¸¤å‘¨çš„å‡†å¤‡ï¼Œä»å¼€å§‹è”ç³»è®°è€…ï¼Œè€å¸ˆï¼Œåˆ°åæ¥è·Ÿè¿›é¡¹ç›®è®¡åˆ’ï¼Œå†åˆ°åæ¥ç­–åˆ’é¢œæ–™ï¼Œäººå‘˜ï¼Œå‘ç¥¨ï¼Œå†åˆ°æ¯ä¸ªäººä¸­åˆçš„åˆé¥­é—®é¢˜ï¼Œä¸€åˆ‡éƒ½æ˜¯æ–°çš„å¼€å§‹ï¼Œè®©æˆ‘ä¸€ä¸ªéè‰ºæœ¯ç”Ÿå»å¸¦ä»–ä»¬ç”»ç”»ï¼Œè¿˜æ˜¯æœ‰ç‚¹æ„æ€çš„ï¼ä½†æ˜¯ï¼Œè¿™æ¬¡æ´»åŠ¨æ€»ä½“è€Œæ¥è¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œå­¦åˆ°äº†å¾ˆå¤šï¼Œä¹Ÿçœ‹åˆ°äº†ä»–ä»¬çš„ä¼˜ç§€ï¼Œå¼ºå°±å¯¹äº†ï¼ è¯ä¸å¤šè¯´ï¼Œä¸Šå›¾æ—©ä¸Š7:50å‡ºé—¨ï¼Œæ‰¾åˆ°è½¦ç«™å·²ç»å¿«8:30äº†ï¼Œå“ˆå“ˆ å…ˆæ˜¯é“…ç¬”æ„å›¾æ‰“åº•å­ åˆ°äº†åˆé¥­æ—¶é—´ï¼Œæ˜¯èƒƒå£å¤§è¿˜æ˜¯é¥­è®¢å°‘äº†ï¼å˜»å˜»ï¼ŒçœŸé¦™ï¼åƒå°±å¯¹äº† åº•å­æ‰“èµ·æ¥ å±‹å†…çš„å“†å•¦Aæ¢¦ä¸»é¢˜ï¼Œç”»èµ·æ¥è¿˜æ˜¯å¾ˆèµ·åŠ²çš„å˜›ï¼ è¿™ä¸¤åªé²¸é±¼è¿˜æ˜¯å¾ˆæœ‰çˆ±çš„ï¼ä¸€è¿›é—¨çœ‹åˆ°æ˜¯ä¸å¾ˆèˆ’çˆ½ï¼Œä¸æ¥å—åé©³ æœ€åçš„æˆæœèµ°ä¸€æ³¢ å…¬äº¤è½¦æˆ‘ä»¬åŒ…äº†ï¼éƒ½ç´¯æˆäº†ç‹—ï¼å“ˆå“ˆï¼Œä¸è¿‡ç¡®å®æ˜¯å……å®çš„ä¸€å¤© æœ€åæ„¿å¤§å®¶ï¼šå‰ç¨‹ä¼¼é”¦ï¼Œæµ·é˜”ä»»é±¼è·ƒï¼Œå¤©é«˜ä»»é¸Ÿé£ï¼è¿™ä¸æ˜¯å¥—è¯ï¼Œæ˜¯çœŸå¿ƒå¯¹ä½ ä»¬çš„ç¥ç¦ï¼(ï¾‰Â´â–½ï½€)ï¾‰â™ª]]></content>
      <tags>
        <tag>å¿ƒæƒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gitä¸­åˆ†æ”¯ç›¸å…³çš„æ“ä½œ]]></title>
    <url>%2F2018%2F10%2F18%2FGit%E4%B8%AD%E5%88%86%E6%94%AF%E7%9B%B8%E5%85%B3%E7%9A%84%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[ä¸ºä»€ä¹ˆè¦å­˜åœ¨åˆ†æ”¯ å¦‚æœåªæœ‰ä¸€ä¸ªä¸»åˆ†æ”¯masteré‚£ä¹ˆæˆ‘ä»¬åœ¨æäº¤æˆ–æ˜¯ ä¿®æ”¹çš„æ—¶å€™å¾ˆå®¹æ˜“å½±å“åˆ°å…¶ä»–çš„ä»£ç æˆ–æ˜¯æ–‡ä»¶ï¼Œæ‰€ä»¥è¿™é‡Œå°±éœ€è¦å¼•å…¥ä¸€äº›åˆ†æ”¯ï¼Œåœ¨è¿™ä¸ªåˆ†æ”¯ä¿®æ”¹å¥½ä¹‹åï¼Œå†æ¨é€åˆ°ä¸»åˆ†æ”¯ä¸Šã€‚ ä¸€èˆ¬Masteråˆ†æ”¯æ˜¯æœ€ç¨³å®šçš„ä¸€ä¸ªåˆ†æ”¯ï¼Œç”¨äºå‘å¸ƒç‰ˆæœ¬ä½¿ç”¨ æ–°å»ºä¸€ä¸ªåˆ†æ”¯ $ git branch &lt;branchName&gt; æ–°å»ºä¸€ä¸ªåˆ†æ”¯ åˆ‡æ¢ä¸€ä¸ªåˆ†æ”¯ $ git checkout &lt;branchName&gt; åˆ‡æ¢ä¸€ä¸ªåˆ†æ”¯ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ¯”è¾ƒå¿«æ·çš„æ“ä½œï¼Œå†æ–°å»ºå®Œåˆ†æ”¯ ç›´æ¥åˆ‡æ¢è¿‡å»$ git checkout -b &lt;branchName&gt; ç›´æ¥æ–°å»ºå¹¶ä¸”åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ åˆ†æ”¯çš„åˆ é™¤ $ git branche -d &lt;branchName&gt; å¯ä»¥åˆ é™¤è¿™ä¸ªåˆ†æ”¯ åˆ†æ”¯çš„åˆå¹¶$ git merge &lt;branchName&gt; å…ˆåˆ‡æ¢åˆ°éœ€è¦è¢« åˆå¹¶çš„åˆ†æ”¯ æ¯”å¦‚ä¸»Masteråˆ†æ”¯ ä¹‹åè¿›è¡Œåˆ†æ”¯çš„åˆå¹¶$ git merge &lt;branchName&gt; å¦‚æœå‡ºç°äº†å†²çªï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±åœ¨æœ¬åœ°è§£å†³ å†²çªï¼Œæœ€åä¸è¦å¿˜è®°æœ¬åœ°çš„æäº¤ addä¸commit]]></content>
  </entry>
  <entry>
    <title><![CDATA[Gitçš„ä¸è¿œç¨‹ä»“åº“æ­é…çš„ä½¿ç”¨]]></title>
    <url>%2F2018%2F10%2F18%2FGit%E7%9A%84%E4%B8%8E%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E6%90%AD%E9%85%8D%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[äº†è§£å‘è¿œç¨‹ä»“åº“é€šè®¯ &#160; &#160;&#160; &#160;åœ¨è¿œç«¯çš„Gitä»“åº“ä¸­ æ¯”å¦‚æˆ‘ä»¬åœ¨githubä¸­çš„ä»“åº“ï¼Œä¼šæ¶‰åŠåˆ°å¯¹æ–‡ä»¶çš„ä¸Šä¼ ä¸ä¸‹è½½ä¸‹è½½ æ–‡ä»¶pushï¼ˆæ¨é€ï¼‰åˆ°è¿œç¨‹ä»“åº“&#160;$ git push &#160; &#160;&#160; &#160;åœ¨å‘è¿œç¨‹çš„ä»“åº“è¿›è¡Œæäº¤æ–‡ä»¶çš„æ—¶å€™ï¼Œä»–ä¼šè¦†ç›–åˆ°åŸæ¥çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œæ‰€ä»¥åœ¨pushä¹‹å‰æˆ‘ä»¬è¦åšå¥½å‡†å¤‡ã€‚ æ–‡ä»¶pullï¼ˆæ‹‰å–ï¼‰åˆ°æœ¬åœ°ä»“åº“&#160;$ git pull &#160; &#160;&#160; &#160;åœ¨å‘æœ¬åœ°ä»“åº“æ‹‰å–æ–‡ä»¶çš„æ—¶å€™ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç° ä¸è¿œç¨‹ä»“åº“ä¸ä¸€è‡´çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™ä¸æœ¬åœ°åˆå¹¶åˆ†æ”¯æ¯”è¾ƒç±»ä¼¼ï¼Œä»–ä¼šåœ¨æœ¬åœ°æœ‰å†²çªçš„æ–‡ä»¶åšä¸€äº›æç¤ºï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°ä¿®æ”¹å¥½ä¹‹åç›´æ¥æäº¤å³å¯ï¼Œæ³¨æ„è¿™æ—¶ä¸€å®šä¸è¦å¿˜äº† æäº¤$ git add .ä¸$ git commit -m&#39;&#39;ä¸æœ¬åœ°ä¿æŒä¸€è‡´ï¼Œè¿™ä¸ªæ—¶å€™æœ¬åœ°ä»“åº“å°±å·²ç»æ˜¯ä¸è¿œç¨‹ä»“åº“ç›¸åŒçš„æƒ…å†µã€‚ æ–‡ä»¶è¿œç¨‹åŒæ­¥çš„æ­¥éª¤ ä¸€èˆ¬æƒ…å†µä¸‹ å…ˆæ˜¯ä»è¿œç¨‹ä»“åº“ pullä¸‹æ¥ï¼Œæ­¤æ—¶æœ‰å†²çª ä¹Ÿæ¯”è¾ƒå¥½è§£å†³ å†è§£å†³ç›¸åº”çš„å†²çª å³å¯å°†ä»£ç pushæ¨é€çš„è¿œç¨‹ä»“åº“]]></content>
  </entry>
  <entry>
    <title><![CDATA[Gitçš„åŸºæœ¬æœ¬åœ°æ“ä½œ]]></title>
    <url>%2F2018%2F10%2F18%2FGit%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%9C%AC%E5%9C%B0%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[é¦–å…ˆéœ€è¦äº†è§£çš„å°±æ˜¯Gitå¤§è‡´ä»“åº“çš„å«ä¹‰ &#160; &#160;&#160; &#160;Gitä¸­ä»“åº“ï¼ˆ.gitæ–‡ä»¶ï¼‰å…¶å®ä»–çš„å«ä¹‰å¹¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„ä»“åº“ï¼Œåªæ˜¯ä¸€ä¸ªå­˜æ”¾æ–‡ä»¶çŠ¶æ€çš„ä¸€ä¸ªä½ç½®ï¼ŒçœŸæ­£çš„æ–‡ä»¶è¿˜æ˜¯åœ¨æˆ‘ä»¬çš„æ–‡ä»¶å¤¹ä¸­ã€‚&#160; &#160;&#160; &#160;é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´ä»–çš„æ–‡ä»¶å¤¹å­˜æ”¾çš„æ—¶æ–‡ä»¶çŠ¶æ€çš„ä¸€äº›æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨è¿™äº›çŠ¶æ€æ–‡ä»¶ï¼Œæ¢å¤åˆ°ä»»ä½•ä¸€ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¾¾åˆ°äº†æ‰€è°“çš„ä»“åº“çš„æ¦‚å¿µã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨æš‚å­˜ç›˜ä¸ä»“åº“ &#160; &#160;&#160; &#160;ä¹‹åéœ€è¦æ˜ç¡®çš„ä¸€ç‚¹å°±æ˜¯ Gitä¸­çš„æš‚å­˜ç›˜ ä¸ ä»“åº“çš„åŒºåˆ«ä»–æ˜¯å…ˆå°†æ–‡ä»¶æ”¾åˆ°æš‚å­˜ç›˜ä¸­ï¼Œä¹‹åä¸€èµ·æ‹¿å»åšæäº¤æ›´æ”¹ï¼Œå¾ˆç±»ä¼¼å…¬äº¤è½¦æ‹‰äººçš„ä¸€ç§æ„Ÿè§‰ï¼Œæ‹‰æ»¡äº†ä¸€è½¦è¿‡å»ï¼Œå°±ä¼šæé«˜ä¸€äº›æ•ˆç‡ã€‚ æ–‡ä»¶æäº¤çš„çš„æµç¨‹ å…ˆå°†æ–‡ä»¶ $ git add a.txt å°†a.txtè¿™ä¸ªæ–‡ä»¶æ”¾åˆ°æš‚å­˜ç›˜ä¸­ å†å°†æ–‡ä»¶ $ git commit -m &#39;æäº¤äº†æ–‡ä»¶a.txt&#39; å°†è¿™ä¸ªa.txtåšä¸€æ¬¡æäº¤ï¼Œä¹Ÿå°±æ˜¯å°†æ­¤æ¬¡çŠ¶æ€ä¿å­˜åˆ°äº†gitä»“åº“é‡Œã€‚ æ–‡ä»¶ä¿®æ”¹çš„çš„æµç¨‹ é¦–å…ˆå·²ç»æäº¤è¿‡æ–‡ä»¶äº†ç¡®ä¿è¿™ä¸ªæ–‡ä»¶åœ¨gitçš„ç®¡ç†ä¸­ $ git add b.txt å°†b.txtè¿™ä¸ªæ–‡ä»¶æ”¾åˆ°æš‚å­˜ç›˜ä¸­ å¯¹b.txtè¿™ä¸ªæ–‡ä»¶åšä¸€äº›æ“ä½œï¼Œä¹‹åæ–‡ä»¶çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜,å‡ºç°æ²¡æœ‰æš‚å­˜çš„ä¿®æ”¹ æˆ‘ä»¬éœ€è¦å°†è¿™ä¸ªä¿®æ”¹æ·»åŠ åˆ°æš‚å­˜ç›˜ä¸­ $ git add b.txtç°åœ¨ä»–å·²ç»åœ¨æˆ‘ä»¬çš„æš‚å­˜ç›˜ä¸­äº† æœ€åä¸€æ³¢æäº¤å³å¯$ git commit -m &#39;æäº¤äº†æ–‡ä»¶b.txt&#39;ç°åœ¨b.txtæ–‡ä»¶çš„çŠ¶æ€ä¹Ÿå·²ç»å­˜å‚¨åˆ°ä»“åº“ä¸­äº† æ–‡ä»¶åˆ é™¤çš„çš„æµç¨‹ é¦–å…ˆå·²ç»æäº¤è¿‡æ–‡ä»¶äº†ç¡®ä¿è¿™ä¸ªæ–‡ä»¶åœ¨gitçš„ç®¡ç†ä¸­ $ git add c.txt å°†c.txtè¿™ä¸ªæ–‡ä»¶æ”¾åˆ°æš‚å­˜ç›˜ä¸­ c.txtè¿™ä¸ªæ–‡ä»¶åˆ é™¤rm c.txtæ­¤æ—¶è¯¥æ–‡ä»¶ç›®å‰æ˜¯è¢«åˆ é™¤ï¼ˆæ–‡ä»¶å¤¹ä¸­æŸ¥çœ‹æ˜¯ä¸è§çš„ï¼‰ æ­¤æ—¶æˆ‘ä»¬ç¡®å®šåˆ é™¤ï¼Œ$ git commit -m &#39;åˆ é™¤äº†c.txt&#39;ç°åœ¨c.txtæ–‡ä»¶è¢«åˆ é™¤çš„çŠ¶æ€ä¹Ÿå·²ç»å­˜å‚¨åˆ°ä»“åº“ä¸­äº† ä¸€äº›æ’¤é”€çš„æ“ä½œ å½“æˆ‘ä»¬ä¿®æ”¹/åˆ é™¤äº†æ–‡ä»¶ æ²¡æœ‰æäº¤åˆ°æš‚å­˜ç›˜çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ $ git checkout --fileè¿›è¡Œå›é€€æ“ä½œï¼ˆè¿™é‡Œä¸åŠ â€“ä¹Ÿæ˜¯å¯ä»¥çš„$ git checkout fileå®¹æ˜“å’Œåˆ†æ”¯ææ··ï¼‰ å½“æˆ‘ä»¬ä¿®æ”¹/åˆ é™¤äº†æ–‡ä»¶ å·²ç»æäº¤åˆ°æš‚å­˜ç›˜çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ $ git reset fileå°†æ–‡ä»¶ä»æš‚å­˜åŒºæ’¤å›ï¼ˆç°åœ¨ç›¸å½“äºä¿®æ”¹äº†æœªæäº¤ï¼‰ï¼Œä¹‹åè¿›è¡Œä¸Šé¢çš„æ“ä½œå³å¯ ä¸€äº›ç‰ˆæœ¬å›é€€çš„æ“ä½œ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ $ git log æŸ¥çœ‹å†å²çºªå½• ä¹Ÿå¯ä»¥ä½¿ç”¨ $ git reflog æŸ¥çœ‹å†å²çºªå½•,æ­¤æ—¶æŸ¥è¯¢å‡ºçš„å†å²è®°å½•æ˜¯å¸¦ä¸€äº›ç‰ˆæœ¬å·ï¼Œä¾¿äºæˆ‘ä»¬æ¢å¤ git reset â€“hard HEAD~3`å‰3æ­¥ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨$ git reset --hard xxxxxå›é€€åˆ°æŒ‡å®šçš„æ­¥æ•° ä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨$ git reflogæŸ¥è¯¢å‡ºçš„åºåˆ—å·]]></content>
  </entry>
  <entry>
    <title><![CDATA[hello Hexo(1)]]></title>
    <url>%2F2018%2F09%2F13%2Fhello-Hexo%2F</url>
    <content type="text"><![CDATA[Hello-markdownJAVAï¼ 2018-09-13 15:36æ­å·Â·æ­å·ç”µå­ç§‘æŠ€å¤§å­¦]]></content>
  </entry>
</search>
